/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/activities/route";
exports.ids = ["app/api/admin/activities/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Factivities%2Froute&page=%2Fapi%2Fadmin%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Factivities%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Factivities%2Froute&page=%2Fapi%2Fadmin%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Factivities%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Berlin_Desktop_sssq_main_sssq_main_app_api_admin_activities_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/activities/route.ts */ \"(rsc)/./app/api/admin/activities/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/activities/route\",\n        pathname: \"/api/admin/activities\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/activities/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Berlin\\\\Desktop\\\\sssq-main\\\\sssq-main\\\\app\\\\api\\\\admin\\\\activities\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Berlin_Desktop_sssq_main_sssq_main_app_api_admin_activities_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/activities/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmFjdGl2aXRpZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGYWN0aXZpdGllcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFkbWluJTJGYWN0aXZpdGllcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNCZXJsaW4lNUNEZXNrdG9wJTVDc3NzcS1tYWluJTVDc3NzcS1tYWluJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNCZXJsaW4lNUNEZXNrdG9wJTVDc3NzcS1tYWluJTVDc3NzcS1tYWluJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN1QztBQUNwSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZW1pdW0tY2hvaWNlLXJlYWwtZXN0YXRlLz85YWJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEJlcmxpblxcXFxEZXNrdG9wXFxcXHNzc3EtbWFpblxcXFxzc3NxLW1haW5cXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxhY3Rpdml0aWVzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9hY3Rpdml0aWVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vYWN0aXZpdGllc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWRtaW4vYWN0aXZpdGllcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEJlcmxpblxcXFxEZXNrdG9wXFxcXHNzc3EtbWFpblxcXFxzc3NxLW1haW5cXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxhY3Rpdml0aWVzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hZG1pbi9hY3Rpdml0aWVzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Factivities%2Froute&page=%2Fapi%2Fadmin%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Factivities%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/activities/route.ts":
/*!*******************************************!*\
  !*** ./app/api/admin/activities/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/mysql-database */ \"(rsc)/./lib/mysql-database.ts\");\n\n\nasync function GET(request) {\n    try {\n        console.log(\"\\uD83D\\uDCCA Fetching recent activities...\");\n        // Get query parameters\n        const { searchParams } = new URL(request.url);\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const frontendOnly = searchParams.get(\"frontend\") === \"true\";\n        const activities = await _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__.MySQLDatabase.getRecentActivities(limit, frontendOnly);\n        console.log(`âœ… Retrieved ${activities.length} activities (frontend only: ${frontendOnly})`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: activities,\n            frontendOnly\n        });\n    } catch (error) {\n        console.error(\"âŒ Error fetching activities:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to fetch activities\",\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { level, category, message, details } = body;\n        if (!level || !category || !message) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: \"Missing required fields: level, category, message\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"\\uD83D\\uDCDD Creating new activity log:\", {\n            level,\n            category,\n            message\n        });\n        const activity = await _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__.MySQLDatabase.createActivity({\n            level,\n            category,\n            message,\n            details: details ? JSON.stringify(details) : null\n        });\n        console.log(\"âœ… Activity logged successfully:\", activity.id);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: activity\n        });\n    } catch (error) {\n        console.error(\"âŒ Error creating activity:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to create activity\",\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL2FjdGl2aXRpZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUNPO0FBRXhELGVBQWVFLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBRVosdUJBQXVCO1FBQ3ZCLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUosUUFBUUssR0FBRztRQUM1QyxNQUFNQyxRQUFRQyxTQUFTSixhQUFhSyxHQUFHLENBQUMsWUFBWTtRQUNwRCxNQUFNQyxlQUFlTixhQUFhSyxHQUFHLENBQUMsZ0JBQWdCO1FBRXRELE1BQU1FLGFBQWEsTUFBTVosOERBQWFBLENBQUNhLG1CQUFtQixDQUFDTCxPQUFPRztRQUVsRVIsUUFBUUMsR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFUSxXQUFXRSxNQUFNLENBQUMsNEJBQTRCLEVBQUVILGFBQWEsQ0FBQyxDQUFDO1FBRTFGLE9BQU9aLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLE1BQU1MO1lBQ05EO1FBQ0Y7SUFDRixFQUFFLE9BQU9PLE9BQU87UUFDZGYsUUFBUWUsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsT0FBT25CLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RHLFNBQVM7WUFDVEQsT0FBT0EsaUJBQWlCRSxRQUFRRixNQUFNQyxPQUFPLEdBQUc7UUFDbEQsR0FDQTtZQUFFRSxRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVPLGVBQWVDLEtBQUtwQixPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTXFCLE9BQU8sTUFBTXJCLFFBQVFhLElBQUk7UUFDL0IsTUFBTSxFQUFFUyxLQUFLLEVBQUVDLFFBQVEsRUFBRU4sT0FBTyxFQUFFTyxPQUFPLEVBQUUsR0FBR0g7UUFFOUMsSUFBSSxDQUFDQyxTQUFTLENBQUNDLFlBQVksQ0FBQ04sU0FBUztZQUNuQyxPQUFPcEIscURBQVlBLENBQUNnQixJQUFJLENBQ3RCO2dCQUNFQyxTQUFTO2dCQUNURyxTQUFTO1lBQ1gsR0FDQTtnQkFBRUUsUUFBUTtZQUFJO1FBRWxCO1FBRUFsQixRQUFRQyxHQUFHLENBQUMsMkNBQWlDO1lBQUVvQjtZQUFPQztZQUFVTjtRQUFRO1FBRXhFLE1BQU1RLFdBQVcsTUFBTTNCLDhEQUFhQSxDQUFDNEIsY0FBYyxDQUFDO1lBQ2xESjtZQUNBQztZQUNBTjtZQUNBTyxTQUFTQSxVQUFVRyxLQUFLQyxTQUFTLENBQUNKLFdBQVc7UUFDL0M7UUFFQXZCLFFBQVFDLEdBQUcsQ0FBQyxtQ0FBbUN1QixTQUFTSSxFQUFFO1FBRTFELE9BQU9oQyxxREFBWUEsQ0FBQ2dCLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUQyxNQUFNVTtRQUNSO0lBQ0YsRUFBRSxPQUFPVCxPQUFPO1FBQ2RmLFFBQVFlLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU9uQixxREFBWUEsQ0FBQ2dCLElBQUksQ0FDdEI7WUFDRUMsU0FBUztZQUNURyxTQUFTO1lBQ1RELE9BQU9BLGlCQUFpQkUsUUFBUUYsTUFBTUMsT0FBTyxHQUFHO1FBQ2xELEdBQ0E7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmVtaXVtLWNob2ljZS1yZWFsLWVzdGF0ZS8uL2FwcC9hcGkvYWRtaW4vYWN0aXZpdGllcy9yb3V0ZS50cz80N2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBNeVNRTERhdGFiYXNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL215c3FsLWRhdGFiYXNlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIEZldGNoaW5nIHJlY2VudCBhY3Rpdml0aWVzLi4uJyk7XG4gICAgXG4gICAgLy8gR2V0IHF1ZXJ5IHBhcmFtZXRlcnNcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcxMCcpO1xuICAgIGNvbnN0IGZyb250ZW5kT25seSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2Zyb250ZW5kJykgPT09ICd0cnVlJztcbiAgICBcbiAgICBjb25zdCBhY3Rpdml0aWVzID0gYXdhaXQgTXlTUUxEYXRhYmFzZS5nZXRSZWNlbnRBY3Rpdml0aWVzKGxpbWl0LCBmcm9udGVuZE9ubHkpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDinIUgUmV0cmlldmVkICR7YWN0aXZpdGllcy5sZW5ndGh9IGFjdGl2aXRpZXMgKGZyb250ZW5kIG9ubHk6ICR7ZnJvbnRlbmRPbmx5fSlgKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IGFjdGl2aXRpZXMsXG4gICAgICBmcm9udGVuZE9ubHlcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgYWN0aXZpdGllczonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIGFjdGl2aXRpZXMnLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgbGV2ZWwsIGNhdGVnb3J5LCBtZXNzYWdlLCBkZXRhaWxzIH0gPSBib2R5O1xuICAgIFxuICAgIGlmICghbGV2ZWwgfHwgIWNhdGVnb3J5IHx8ICFtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgIG1lc3NhZ2U6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkczogbGV2ZWwsIGNhdGVnb3J5LCBtZXNzYWdlJyBcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+TnSBDcmVhdGluZyBuZXcgYWN0aXZpdHkgbG9nOicsIHsgbGV2ZWwsIGNhdGVnb3J5LCBtZXNzYWdlIH0pO1xuICAgIFxuICAgIGNvbnN0IGFjdGl2aXR5ID0gYXdhaXQgTXlTUUxEYXRhYmFzZS5jcmVhdGVBY3Rpdml0eSh7XG4gICAgICBsZXZlbCxcbiAgICAgIGNhdGVnb3J5LFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGRldGFpbHM6IGRldGFpbHMgPyBKU09OLnN0cmluZ2lmeShkZXRhaWxzKSA6IG51bGxcbiAgICB9KTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIEFjdGl2aXR5IGxvZ2dlZCBzdWNjZXNzZnVsbHk6JywgYWN0aXZpdHkuaWQpO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogYWN0aXZpdHlcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY3JlYXRpbmcgYWN0aXZpdHk6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBjcmVhdGUgYWN0aXZpdHknLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIk15U1FMRGF0YWJhc2UiLCJHRVQiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImxpbWl0IiwicGFyc2VJbnQiLCJnZXQiLCJmcm9udGVuZE9ubHkiLCJhY3Rpdml0aWVzIiwiZ2V0UmVjZW50QWN0aXZpdGllcyIsImxlbmd0aCIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsImVycm9yIiwibWVzc2FnZSIsIkVycm9yIiwic3RhdHVzIiwiUE9TVCIsImJvZHkiLCJsZXZlbCIsImNhdGVnb3J5IiwiZGV0YWlscyIsImFjdGl2aXR5IiwiY3JlYXRlQWN0aXZpdHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/activities/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mysql-database.ts":
/*!*******************************!*\
  !*** ./lib/mysql-database.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Database: () => (/* binding */ Database),\n/* harmony export */   MySQLDatabase: () => (/* binding */ MySQLDatabase),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getConnection: () => (/* binding */ getConnection),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   query: () => (/* binding */ query)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n\n// Database configuration with your provided credentials\nconst dbConfig = {\n    host: \"srv1558.hstgr.io\",\n    user: \"u485564989_pcrs\",\n    password: \"Abedyr57..\",\n    database: \"u485564989_pcrs\",\n    port:  true ? Number(\"3306\") : 0,\n    ssl: {\n        rejectUnauthorized: false\n    },\n    // Increased connection limits to prevent timeouts\n    connectionLimit: 10,\n    queueLimit: 20,\n    acquireTimeout: 60000,\n    timeout: 60000,\n    // Connection pool options supported by mysql2\n    enableKeepAlive: true,\n    keepAliveInitialDelay: 0,\n    idleTimeout: 300000,\n    maxIdle: 5,\n    // Additional connection management\n    multipleStatements: false\n};\n// Create connection pool\nconst pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool(dbConfig);\n// Database class with MySQL operations\nclass MySQLDatabase {\n    // Test database connection\n    static async testConnection() {\n        try {\n            const connection = await pool.getConnection();\n            await connection.ping();\n            connection.release();\n            console.log(\"âœ… Database connection successful\");\n            return true;\n        } catch (error) {\n            console.error(\"âŒ Database connection failed:\", error);\n            return false;\n        }\n    }\n    // Cleanup database connections\n    static async cleanup() {\n        try {\n            await pool.end();\n            console.log(\"âœ… Database connections closed\");\n        } catch (error) {\n            console.error(\"âŒ Error closing database connections:\", error);\n        }\n    }\n    // Generic query execution method\n    static async executeQuery(query, params = []) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(query, params);\n            connection.release();\n            return result;\n        } catch (error) {\n            console.error(\"Error executing query:\", error);\n            throw error;\n        }\n    }\n    // Query method for backward compatibility\n    static async query(sql, params = []) {\n        return this.executeQuery(sql, params);\n    }\n    // Initialize database connection and tables\n    static async initialize() {\n        try {\n            // Test connection first\n            const isConnected = await this.testConnection();\n            if (!isConnected) {\n                throw new Error(\"Database connection failed\");\n            }\n            // Initialize tables\n            return await this.initializeTables();\n        } catch (error) {\n            console.error(\"âŒ Failed to initialize database:\", error);\n            return false;\n        }\n    }\n    // Add missing columns to site_settings table\n    static async addMissingSocialColumns() {\n        try {\n            const connection = await pool.getConnection();\n            // Check if columns exist and add them if they don't\n            const alterTableSQL = `\n        ALTER TABLE site_settings \n        ADD COLUMN IF NOT EXISTS social_tiktok VARCHAR(500),\n        ADD COLUMN IF NOT EXISTS social_snapchat VARCHAR(500),\n        ADD COLUMN IF NOT EXISTS social_telegram VARCHAR(500),\n        ADD COLUMN IF NOT EXISTS social_whatsapp VARCHAR(500);\n      `;\n            await connection.execute(alterTableSQL);\n            connection.release();\n            console.log(\"âœ… Missing social media columns added successfully\");\n            return true;\n        } catch (error) {\n            console.error(\"âŒ Error adding missing columns:\", error);\n            return false;\n        }\n    }\n    // Initialize database tables\n    static async initializeTables() {\n        try {\n            const connection = await pool.getConnection();\n            // Create tables if they don't exist\n            const createTablesSQL = `\n        -- Users table\n        CREATE TABLE IF NOT EXISTS users (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          email VARCHAR(255) UNIQUE NOT NULL,\n          password_hash VARCHAR(255) NOT NULL,\n          role ENUM('admin', 'editor', 'viewer') DEFAULT 'viewer',\n          name VARCHAR(255) NOT NULL,\n          last_login TIMESTAMP NULL,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          is_active BOOLEAN DEFAULT TRUE\n        );\n\n        -- Developers table\n        CREATE TABLE IF NOT EXISTS developers (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          name VARCHAR(255) NOT NULL,\n          slug VARCHAR(255) UNIQUE NOT NULL,\n          description TEXT,\n          logo VARCHAR(500),\n          established VARCHAR(50),\n          projects_count INT DEFAULT 0,\n          location VARCHAR(255),\n          website VARCHAR(500),\n          phone VARCHAR(50),\n          email VARCHAR(255),\n          status ENUM('Active', 'Inactive') DEFAULT 'Active',\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Projects table\n        CREATE TABLE IF NOT EXISTS projects (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          name VARCHAR(255) NOT NULL,\n          slug VARCHAR(255) UNIQUE NOT NULL,\n          developer VARCHAR(255) NOT NULL,\n          location VARCHAR(255) NOT NULL,\n          price VARCHAR(100) NOT NULL,\n          status ENUM('Available', 'Sold', 'Under Construction') DEFAULT 'Available',\n          bedrooms INT NOT NULL,\n          bathrooms INT NOT NULL,\n          studios INT DEFAULT 0,\n          area VARCHAR(100) NOT NULL,\n          description TEXT,\n          image VARCHAR(500),\n          gallery JSON,\n          coordinates_lat DECIMAL(10, 8),\n          coordinates_lng DECIMAL(11, 8),\n          features JSON,\n          amenities JSON,\n          presentation_file VARCHAR(500),\n          presentation_url VARCHAR(500),\n          presentation_slides JSON,\n          presentation_animations JSON,\n          presentation_effects JSON,\n          media_files JSON,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Hero sections table\n        CREATE TABLE IF NOT EXISTS hero_sections (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          page VARCHAR(100) NOT NULL,\n          title VARCHAR(255) NOT NULL,\n          subtitle VARCHAR(255),\n          description TEXT,\n          background_image VARCHAR(500),\n          cta_text VARCHAR(100),\n          cta_link VARCHAR(500),\n          is_active BOOLEAN DEFAULT TRUE,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Articles table\n        CREATE TABLE IF NOT EXISTS articles (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          title VARCHAR(255) NOT NULL,\n          slug VARCHAR(255) UNIQUE NOT NULL,\n          content LONGTEXT,\n          excerpt TEXT,\n          featured_image VARCHAR(500),\n          author VARCHAR(255),\n          status ENUM('draft', 'published', 'archived') DEFAULT 'draft',\n          published_at TIMESTAMP NULL,\n          tags JSON,\n          category VARCHAR(100),\n          read_time INT DEFAULT 5,\n          meta_description TEXT,\n          featured BOOLEAN DEFAULT FALSE,\n          views_count INT DEFAULT 0,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Media files table\n        CREATE TABLE IF NOT EXISTS media_files (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          filename VARCHAR(255) NOT NULL,\n          original_name VARCHAR(255) NOT NULL,\n          file_path VARCHAR(500) NOT NULL,\n          file_size BIGINT NOT NULL,\n          mime_type VARCHAR(100) NOT NULL,\n          alt_text VARCHAR(255),\n          uploaded_by INT,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE SET NULL\n        );\n\n        -- System logs table\n        CREATE TABLE IF NOT EXISTS system_logs (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          level ENUM('info', 'warning', 'error', 'success') NOT NULL,\n          category VARCHAR(100) NOT NULL,\n          message TEXT NOT NULL,\n          user_id INT,\n          ip_address VARCHAR(45),\n          user_agent TEXT,\n          details JSON,\n          FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL\n        );\n\n        -- Chat messages table\n        CREATE TABLE IF NOT EXISTS chat_messages (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          session_id VARCHAR(255) NOT NULL,\n          message TEXT NOT NULL,\n          response TEXT NOT NULL,\n          timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          response_time INT NOT NULL,\n          user_ip VARCHAR(45)\n        );\n\n        -- Presentation slides table\n        CREATE TABLE IF NOT EXISTS presentation_slides (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          project_id INT NOT NULL,\n          slide_number INT NOT NULL,\n          title VARCHAR(255),\n          content TEXT,\n          image_url VARCHAR(500),\n          animation_type VARCHAR(100),\n          duration INT DEFAULT 5000,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n        );\n\n        -- Site settings table\n        CREATE TABLE IF NOT EXISTS site_settings (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          site_title VARCHAR(255) DEFAULT 'Premium Choice',\n          site_description TEXT DEFAULT 'Your trusted partner in Dubai real estate',\n          site_logo VARCHAR(500) DEFAULT '/logo.png',\n          site_favicon VARCHAR(500) DEFAULT '/favicon.ico',\n          contact_email VARCHAR(255) DEFAULT 'admin@example.com',\n    contact_phone VARCHAR(50) DEFAULT NULL,\n    contact_address TEXT DEFAULT 'Dubai, UAE',\n    contact_whatsapp VARCHAR(50) DEFAULT NULL,\n          social_facebook VARCHAR(500),\n          social_instagram VARCHAR(500),\n          social_twitter VARCHAR(500),\n          social_linkedin VARCHAR(500),\n          social_youtube VARCHAR(500),\n          social_tiktok VARCHAR(500),\n          social_snapchat VARCHAR(500),\n          social_telegram VARCHAR(500),\n          social_whatsapp VARCHAR(500),\n          seo_meta_title VARCHAR(255) DEFAULT 'Premium Choice - Dubai Real Estate',\n          seo_meta_description TEXT DEFAULT 'Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.',\n          seo_keywords TEXT DEFAULT 'Dubai real estate, luxury properties, investment, Premium Choice',\n          features_enable_blog BOOLEAN DEFAULT TRUE,\n          features_enable_newsletter BOOLEAN DEFAULT TRUE,\n          features_enable_whatsapp BOOLEAN DEFAULT TRUE,\n          features_enable_live_chat BOOLEAN DEFAULT FALSE,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Project media table for enhanced media management\n        CREATE TABLE IF NOT EXISTS project_media (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          project_id INT NOT NULL,\n          file_name VARCHAR(255) NOT NULL,\n          file_path VARCHAR(500) NOT NULL,\n          file_size BIGINT NOT NULL,\n          media_type ENUM('image', 'video', 'animation', 'pdf', 'pptx') NOT NULL,\n          file_extension VARCHAR(10) NOT NULL,\n          upload_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n        );\n\n        -- Hero images table for landing page carousel\n        CREATE TABLE IF NOT EXISTS hero_images (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          url VARCHAR(500) NOT NULL,\n          title VARCHAR(255) NOT NULL,\n          description TEXT,\n          alt_text VARCHAR(255),\n          is_active BOOLEAN DEFAULT TRUE,\n          order_index INT DEFAULT 0,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n          INDEX idx_active_order (is_active, order_index)\n        );\n\n        -- AI API settings table for AI integration control\n        CREATE TABLE IF NOT EXISTS ai_api_settings (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          openai_api_key VARCHAR(255),\n          openai_model VARCHAR(100) DEFAULT 'gpt-3.5-turbo',\n          openai_max_tokens INT DEFAULT 1000,\n          openai_temperature DECIMAL(3,2) DEFAULT 0.70,\n          google_api_key VARCHAR(255),\n          google_model VARCHAR(100) DEFAULT 'gemini-pro',\n          google_max_tokens INT DEFAULT 1000,\n          google_temperature DECIMAL(3,2) DEFAULT 0.70,\n          anthropic_api_key VARCHAR(255),\n          anthropic_model VARCHAR(100) DEFAULT 'claude-3-sonnet-20240229',\n          anthropic_max_tokens INT DEFAULT 1000,\n          anthropic_temperature DECIMAL(3,2) DEFAULT 0.70,\n          default_provider ENUM('openai', 'google', 'anthropic') DEFAULT 'openai',\n          ai_enabled BOOLEAN DEFAULT TRUE,\n          rate_limit_per_minute INT DEFAULT 10,\n          rate_limit_per_hour INT DEFAULT 100,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n      `;\n            await connection.execute(createTablesSQL);\n            connection.release();\n            console.log(\"âœ… Database tables initialized successfully\");\n            return true;\n        } catch (error) {\n            console.error(\"âŒ Failed to initialize tables:\", error);\n            return false;\n        }\n    }\n    // Insert default admin user\n    static async createDefaultAdmin() {\n        try {\n            const connection = await pool.getConnection();\n            // Check if admin user already exists\n            const [existingUsers] = await connection.execute('SELECT id FROM users WHERE role = \"admin\"');\n            if (existingUsers.length === 0) {\n                // Create default admin user with your credentials\n                await connection.execute(`INSERT INTO users (email, password_hash, role, name, is_active) \n           VALUES (?, ?, 'admin', 'Admin', TRUE)`, [\n                    \"admin@example.com\",\n                    \"Abedyr57..\"\n                ] // In production, hash this password and change email\n                );\n                console.log(\"âœ… Default admin user created\");\n            } else {\n                console.log(\"â„¹ï¸ Admin user already exists\");\n            }\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"âŒ Failed to create admin user:\", error);\n            return false;\n        }\n    }\n    // Update articles table with missing columns\n    static async updateArticlesTable() {\n        try {\n            const connection = await pool.getConnection();\n            // Check if columns exist and add them if they don't\n            const columnsToAdd = [\n                {\n                    name: \"tags\",\n                    definition: \"JSON\"\n                },\n                {\n                    name: \"category\",\n                    definition: \"VARCHAR(100)\"\n                },\n                {\n                    name: \"read_time\",\n                    definition: \"INT DEFAULT 5\"\n                },\n                {\n                    name: \"meta_description\",\n                    definition: \"TEXT\"\n                },\n                {\n                    name: \"featured\",\n                    definition: \"BOOLEAN DEFAULT FALSE\"\n                },\n                {\n                    name: \"views_count\",\n                    definition: \"INT DEFAULT 0\"\n                }\n            ];\n            for (const column of columnsToAdd){\n                try {\n                    // Check if column exists\n                    const [rows] = await connection.execute(`SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS \n             WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'articles' AND COLUMN_NAME = ?`, [\n                        column.name\n                    ]);\n                    if (rows.length === 0) {\n                        // Column doesn't exist, add it\n                        await connection.execute(`ALTER TABLE articles ADD COLUMN ${column.name} ${column.definition}`);\n                        console.log(`âœ… Added column '${column.name}' to articles table`);\n                    } else {\n                        console.log(`â„¹ï¸ Column '${column.name}' already exists in articles table`);\n                    }\n                } catch (error) {\n                    console.error(`âŒ Failed to add column '${column.name}':`, error);\n                }\n            }\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"âŒ Failed to update articles table:\", error);\n            return false;\n        }\n    }\n    // Projects CRUD operations\n    static async getProjects() {\n        let connection;\n        try {\n            console.log(\"\\uD83D\\uDD17 Attempting to get database connection...\");\n            connection = await pool.getConnection();\n            console.log(\"âœ… Database connection acquired\");\n            const [rows] = await connection.execute(\"SELECT * FROM projects ORDER BY created_at DESC\");\n            console.log(`ðŸ“Š Retrieved ${rows.length} projects from database`);\n            // Parse JSON fields for each project\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            const projects = rows.map((project)=>({\n                    ...project,\n                    gallery: parseJsonField(project.gallery),\n                    features: parseJsonField(project.features),\n                    amenities: parseJsonField(project.amenities),\n                    property_types: parseJsonField(project.property_types),\n                    sub_projects: parseJsonField(project.sub_projects),\n                    media_files: parseJsonField(project.media_files),\n                    units: parseJsonField(project.units),\n                    property_type: parseJsonField(project.property_type)\n                }));\n            console.log(\"âœ… Projects parsed successfully\");\n            return projects;\n        } catch (error) {\n            console.error(\"âŒ Error fetching projects:\", error);\n            if (error instanceof Error && error.message.includes(\"max_user_connections\")) {\n                console.error(\"\\uD83D\\uDEAB Database connection limit exceeded. Consider reducing concurrent connections.\");\n            }\n            return [];\n        } finally{\n            if (connection) {\n                try {\n                    connection.release();\n                    console.log(\"\\uD83D\\uDD13 Database connection released\");\n                } catch (releaseError) {\n                    console.error(\"âš ï¸ Error releasing connection:\", releaseError);\n                }\n            }\n        }\n    }\n    static async getProjectsByDeveloper(developerName) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM projects WHERE developer = ? ORDER BY created_at DESC\", [\n                developerName\n            ]);\n            connection.release();\n            // Parse JSON fields for each project\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            return rows.map((project)=>({\n                    ...project,\n                    gallery: parseJsonField(project.gallery),\n                    features: parseJsonField(project.features),\n                    amenities: parseJsonField(project.amenities),\n                    property_types: parseJsonField(project.property_types),\n                    sub_projects: parseJsonField(project.sub_projects),\n                    media_files: parseJsonField(project.media_files),\n                    units: parseJsonField(project.units),\n                    property_type: parseJsonField(project.property_type)\n                }));\n        } catch (error) {\n            console.error(\"Error fetching projects by developer:\", error);\n            return [];\n        }\n    }\n    static async getProjectBySlug(slug) {\n        try {\n            const connection = await pool.getConnection();\n            // Get project data\n            const [projectRows] = await connection.execute(\"SELECT * FROM projects WHERE slug = ?\", [\n                slug\n            ]);\n            const projects = projectRows;\n            if (projects.length === 0) {\n                connection.release();\n                return null;\n            }\n            const project = projects[0];\n            // Get presentation slides for this project\n            const [slideRows] = await connection.execute(\"SELECT * FROM presentation_slides WHERE project_id = ? ORDER BY slide_number ASC\", [\n                project.id\n            ]);\n            connection.release();\n            // Parse JSON fields and add presentation slides\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            // Parse color palette safely\n            const parseColorPalette = (colorPalette)=>{\n                if (!colorPalette) return null;\n                if (typeof colorPalette === \"string\") {\n                    try {\n                        return JSON.parse(colorPalette);\n                    } catch  {\n                        return null;\n                    }\n                }\n                return colorPalette;\n            };\n            return {\n                ...project,\n                gallery: parseJsonField(project.gallery),\n                features: parseJsonField(project.features),\n                amenities: parseJsonField(project.amenities),\n                property_types: parseJsonField(project.property_types),\n                sub_projects: parseJsonField(project.sub_projects),\n                media_files: parseJsonField(project.media_files),\n                presentation_slides: slideRows\n            };\n        } catch (error) {\n            console.error(\"Error fetching project by slug:\", error);\n            return null;\n        }\n    }\n    static async createProject(project) {\n        let connection;\n        try {\n            // Validate required fields\n            if (!project.name || project.name.trim() === \"\") {\n                throw new Error(\"Project name is required\");\n            }\n            if (!project.description || project.description.trim() === \"\") {\n                throw new Error(\"Project description is required\");\n            }\n            console.log(\"\\uD83D\\uDD17 Getting database connection for project creation...\");\n            connection = await pool.getConnection();\n            console.log(\"âœ… Database connection acquired for project creation\");\n            // Helper function to convert undefined to null\n            const toNullIfUndefined = (value)=>value === undefined ? null : value;\n            // Ensure slug is unique by adding timestamp if needed\n            let finalSlug = project.slug || \"\";\n            // Always check if slug already exists and make it unique\n            const [existingRows] = await connection.execute(\"SELECT id FROM projects WHERE slug = ?\", [\n                finalSlug\n            ]);\n            if (existingRows.length > 0) {\n                finalSlug = `${finalSlug}-${Date.now()}`;\n            }\n            const [result] = await connection.execute(`INSERT INTO projects (name, slug, developer, developer_id, location, price, status, bedrooms, bathrooms, area, \n         description, image, gallery, coordinates_lat, coordinates_lng, features, amenities,\n         presentation_file, presentation_url, presentation_slides, presentation_animations, presentation_effects, \n         featured_video, studios, media_files)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                project.name || \"\",\n                finalSlug,\n                project.developer || \"\",\n                project.developer_id || null,\n                project.location || \"\",\n                project.price || \"Price on Request\",\n                project.status || \"Available\",\n                project.bedrooms || 0,\n                project.bathrooms || 0,\n                project.area || \"\",\n                project.description || \"\",\n                project.image || \"\",\n                JSON.stringify(project.gallery || []),\n                project.coordinates_lat || 0,\n                project.coordinates_lng || 0,\n                JSON.stringify(project.features || []),\n                JSON.stringify(project.amenities || []),\n                toNullIfUndefined(project.presentation_file),\n                toNullIfUndefined(project.presentation_url),\n                JSON.stringify(project.presentation_slides || {}),\n                JSON.stringify(project.presentation_animations || {}),\n                JSON.stringify(project.presentation_effects || {}),\n                toNullIfUndefined(project.featured_video),\n                project.studios || 0,\n                JSON.stringify(project.media_files || [])\n            ]);\n            const insertId = result.insertId;\n            // Update developer project count automatically\n            if (project.developer_id) {\n                // Get developer name by ID for the count update\n                const [devRows] = await connection.execute(\"SELECT name FROM developers WHERE id = ?\", [\n                    project.developer_id\n                ]);\n                if (devRows.length > 0) {\n                    await this.updateDeveloperProjectCount(devRows[0].name);\n                }\n            } else if (project.developer) {\n                await this.updateDeveloperProjectCount(project.developer);\n            }\n            connection.release();\n            // Log the activity\n            try {\n                await this.createActivity({\n                    level: \"success\",\n                    category: \"project\",\n                    message: `Created new project \"${project.name}\" by ${project.developer || \"Unknown Developer\"}`,\n                    details: null\n                });\n            } catch (logError) {\n                console.error(\"Failed to log project creation activity:\", logError);\n            }\n            return await this.getProjectById(insertId);\n        } catch (error) {\n            if (connection) {\n                connection.release();\n            }\n            console.error(\"Error creating project:\", error);\n            // Check for specific MySQL errors\n            if (error.code === \"ER_DUP_ENTRY\") {\n                if (error.message.includes(\"name\")) {\n                    throw new Error(\"A project with this name already exists. Please choose a different name.\");\n                } else if (error.message.includes(\"slug\")) {\n                    throw new Error(\"A project with this URL slug already exists. Please modify the project name.\");\n                } else {\n                    throw new Error(\"A project with these details already exists. Please check for duplicates.\");\n                }\n            } else if (error.code === \"ER_DATA_TOO_LONG\") {\n                throw new Error(\"One or more fields contain too much data. Please shorten your input.\");\n            } else if (error.code === \"ER_BAD_NULL_ERROR\") {\n                throw new Error(\"Required field is missing. Please fill in all required fields.\");\n            } else if (error.message.includes(\"required\")) {\n                // Our custom validation errors\n                throw error;\n            } else {\n                throw new Error(\"Database error occurred while creating the project. Please try again.\");\n            }\n        }\n    }\n    static async getProjectById(id) {\n        let connection;\n        try {\n            connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM projects WHERE id = ?\", [\n                id\n            ]);\n            const projects = rows;\n            if (projects.length === 0) {\n                return null;\n            }\n            const project = projects[0];\n            // Parse JSON fields\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            return {\n                ...project,\n                gallery: parseJsonField(project.gallery),\n                features: parseJsonField(project.features),\n                amenities: parseJsonField(project.amenities),\n                property_types: parseJsonField(project.property_types),\n                sub_projects: parseJsonField(project.sub_projects),\n                media_files: parseJsonField(project.media_files),\n                units: parseJsonField(project.units),\n                property_type: parseJsonField(project.property_type)\n            };\n        } catch (error) {\n            console.error(\"Error fetching project by ID:\", error);\n            throw error; // Re-throw to let API handle the error properly\n        } finally{\n            if (connection) {\n                connection.release();\n            }\n        }\n    }\n    static async updateProject(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            // Get the current project data to check if developer is changing\n            const [currentRows] = await connection.execute(\"SELECT developer FROM projects WHERE id = ?\", [\n                id\n            ]);\n            const currentProject = currentRows[0];\n            const oldDeveloper = currentProject?.developer;\n            // Build dynamic update query\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>{\n                const value = updateData[field];\n                return typeof value === \"object\" ? JSON.stringify(value) : value;\n            });\n            await connection.execute(`UPDATE projects SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            // Update project counts if developer changed\n            const newDeveloper = updateData.developer;\n            if (newDeveloper && newDeveloper !== oldDeveloper) {\n                // Update count for old developer\n                if (oldDeveloper) {\n                    await this.updateDeveloperProjectCount(oldDeveloper);\n                }\n                // Update count for new developer\n                await this.updateDeveloperProjectCount(newDeveloper);\n            }\n            connection.release();\n            // Log the activity\n            try {\n                const updatedProject = await this.getProjectById(id);\n                const updatedFields = Object.keys(updateData);\n                const fieldText = updatedFields.length === 1 ? updatedFields[0] : `${updatedFields.length} fields`;\n                await this.createActivity({\n                    level: \"info\",\n                    category: \"project\",\n                    message: `Updated ${fieldText} for project \"${updatedProject?.name || \"Unknown\"}\"`,\n                    details: null\n                });\n            } catch (logError) {\n                console.error(\"Failed to log project update activity:\", logError);\n            }\n            return await this.getProjectById(id);\n        } catch (error) {\n            console.error(\"Error updating project:\", error);\n            return null;\n        }\n    }\n    static async deleteProject(id) {\n        try {\n            const connection = await pool.getConnection();\n            // First check if the project exists and get developer name\n            const [checkRows] = await connection.execute(\"SELECT id, developer FROM projects WHERE id = ?\", [\n                id\n            ]);\n            if (checkRows.length === 0) {\n                connection.release();\n                console.log(`Project with id ${id} not found`);\n                return false;\n            }\n            const projectData = checkRows[0];\n            const developerName = projectData.developer;\n            // Get project name for logging before deletion\n            const [projectRows] = await connection.execute(\"SELECT name FROM projects WHERE id = ?\", [\n                id\n            ]);\n            const projectName = projectRows[0]?.name || \"Unknown\";\n            // Delete the project (CASCADE will handle related records)\n            const [result] = await connection.execute(\"DELETE FROM projects WHERE id = ?\", [\n                id\n            ]);\n            // Update developer project count automatically\n            if (developerName) {\n                await this.updateDeveloperProjectCount(developerName);\n            }\n            connection.release();\n            // Check if any rows were affected\n            const affectedRows = result.affectedRows;\n            console.log(`Delete operation affected ${affectedRows} rows for project id ${id}`);\n            // Log the activity if deletion was successful\n            if (affectedRows > 0) {\n                try {\n                    await this.createActivity({\n                        level: \"warning\",\n                        category: \"project\",\n                        message: `Deleted project \"${projectName}\" by ${developerName || \"Unknown Developer\"}`,\n                        details: null\n                    });\n                } catch (logError) {\n                    console.error(\"Failed to log project deletion activity:\", logError);\n                }\n            }\n            return affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error deleting project:\", error);\n            return false;\n        }\n    }\n    // Developers CRUD operations\n    static async getDevelopers() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM developers ORDER BY name ASC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching developers:\", error);\n            return [];\n        }\n    }\n    static async createDeveloper(developer) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(`INSERT INTO developers (name, slug, description, logo, established, projects_count, \n         location, website, phone, email, status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                developer.name,\n                developer.slug,\n                developer.description,\n                developer.logo,\n                developer.established,\n                developer.projects_count,\n                developer.location,\n                developer.website,\n                developer.phone,\n                developer.email,\n                developer.status\n            ]);\n            const insertId = result.insertId;\n            connection.release();\n            // Log the activity\n            try {\n                await this.createActivity({\n                    level: \"success\",\n                    category: \"developer\",\n                    message: `Added new developer \"${developer.name}\" from ${developer.location || \"Unknown Location\"}`,\n                    details: null\n                });\n            } catch (logError) {\n                console.error(\"Failed to log developer creation activity:\", logError);\n            }\n            return await this.getDeveloperById(insertId);\n        } catch (error) {\n            console.error(\"Error creating developer:\", error);\n            return null;\n        }\n    }\n    static async getDeveloperById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM developers WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const developers = rows;\n            return developers.length > 0 ? developers[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching developer by ID:\", error);\n            return null;\n        }\n    }\n    static async updateDeveloper(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            // Get the current developer name for logging\n            const [currentRows] = await connection.execute(\"SELECT name FROM developers WHERE id = ?\", [\n                id\n            ]);\n            const currentDeveloper = currentRows[0];\n            const developerName = currentDeveloper?.name || \"Unknown Developer\";\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>updateData[field]);\n            await connection.execute(`UPDATE developers SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            // Log the activity\n            try {\n                await this.createActivity({\n                    level: \"info\",\n                    category: \"developer\",\n                    message: `Developer updated: ${developerName}`,\n                    details: JSON.stringify({\n                        developerId: id,\n                        updatedFields: fields\n                    })\n                });\n            } catch (logError) {\n                console.error(\"Failed to log developer update activity:\", logError);\n            }\n            return await this.getDeveloperById(id);\n        } catch (error) {\n            console.error(\"Error updating developer:\", error);\n            return null;\n        }\n    }\n    static async deleteDeveloper(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM developers WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting developer:\", error);\n            return false;\n        }\n    }\n    static async updateDeveloperProjectCount(developerName) {\n        try {\n            const connection = await pool.getConnection();\n            // Count projects for this developer\n            const [countRows] = await connection.execute(\"SELECT COUNT(*) as project_count FROM projects WHERE developer = ?\", [\n                developerName\n            ]);\n            const projectCount = countRows[0].project_count;\n            // Update the developer's project count\n            await connection.execute(\"UPDATE developers SET projects_count = ?, updated_at = NOW() WHERE name = ?\", [\n                projectCount,\n                developerName\n            ]);\n            connection.release();\n            console.log(`Updated project count for developer ${developerName}: ${projectCount} projects`);\n        } catch (error) {\n            console.error(\"Error updating developer project count:\", error);\n        }\n    }\n    // Enhanced project-developer relationship methods\n    static async getProjectsByDeveloperId(developerId) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(`SELECT p.*, d.name as developer_name, d.slug as developer_slug \n         FROM projects p \n         LEFT JOIN developers d ON p.developer_id = d.id \n         WHERE p.developer_id = ? \n         ORDER BY p.created_at DESC`, [\n                developerId\n            ]);\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching projects by developer ID:\", error);\n            return [];\n        }\n    }\n    static async getDeveloperWithProjects(developerId) {\n        try {\n            const connection = await pool.getConnection();\n            // Get developer details\n            const [developerRows] = await connection.execute(\"SELECT * FROM developers WHERE id = ?\", [\n                developerId\n            ]);\n            if (developerRows.length === 0) {\n                connection.release();\n                return null;\n            }\n            const developer = developerRows[0];\n            // Get associated projects\n            const [projectRows] = await connection.execute(\"SELECT * FROM projects WHERE developer_id = ? ORDER BY created_at DESC\", [\n                developerId\n            ]);\n            connection.release();\n            return {\n                ...developer,\n                projects: projectRows\n            };\n        } catch (error) {\n            console.error(\"Error fetching developer with projects:\", error);\n            return null;\n        }\n    }\n    static async assignProjectToDeveloper(projectId, developerId) {\n        try {\n            const connection = await pool.getConnection();\n            // Update project with developer_id\n            await connection.execute(\"UPDATE projects SET developer_id = ?, updated_at = NOW() WHERE id = ?\", [\n                developerId,\n                projectId\n            ]);\n            // Update developer's project count\n            await connection.execute(\"UPDATE developers SET projects_count = projects_count + 1, updated_at = NOW() WHERE id = ?\", [\n                developerId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error assigning project to developer:\", error);\n            return false;\n        }\n    }\n    static async unassignProjectFromDeveloper(projectId) {\n        try {\n            const connection = await pool.getConnection();\n            // Get current developer_id before removing\n            const [projectRows] = await connection.execute(\"SELECT developer_id FROM projects WHERE id = ?\", [\n                projectId\n            ]);\n            if (projectRows.length > 0) {\n                const currentDeveloperId = projectRows[0].developer_id;\n                if (currentDeveloperId) {\n                    // Remove developer assignment\n                    await connection.execute(\"UPDATE projects SET developer_id = NULL, updated_at = NOW() WHERE id = ?\", [\n                        projectId\n                    ]);\n                    // Update developer's project count\n                    await connection.execute(\"UPDATE developers SET projects_count = projects_count - 1, updated_at = NOW() WHERE id = ?\", [\n                        currentDeveloperId\n                    ]);\n                }\n            }\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error unassigning project from developer:\", error);\n            return false;\n        }\n    }\n    static async deleteDeveloperWithCascade(id) {\n        try {\n            const connection = await pool.getConnection();\n            // Get developer name for logging before deletion\n            const [developerRows] = await connection.execute(\"SELECT name FROM developers WHERE id = ?\", [\n                id\n            ]);\n            const developerName = developerRows[0]?.name || \"Unknown Developer\";\n            // Start transaction\n            await connection.beginTransaction();\n            try {\n                // Count projects that will be deleted\n                const [countRows] = await connection.execute(\"SELECT COUNT(*) as project_count FROM projects WHERE developer_id = ?\", [\n                    id\n                ]);\n                const deletedProjects = countRows[0].project_count;\n                // Delete associated projects (cascading delete)\n                await connection.execute(\"DELETE FROM projects WHERE developer_id = ?\", [\n                    id\n                ]);\n                // Delete the developer\n                await connection.execute(\"DELETE FROM developers WHERE id = ?\", [\n                    id\n                ]);\n                // Commit transaction\n                await connection.commit();\n                connection.release();\n                // Log the activity\n                try {\n                    await this.createActivity({\n                        level: \"warning\",\n                        category: \"developer\",\n                        message: `Developer deleted: ${developerName}`,\n                        details: JSON.stringify({\n                            developerId: id,\n                            deletedProjects\n                        })\n                    });\n                } catch (logError) {\n                    console.error(\"Failed to log developer deletion activity:\", logError);\n                }\n                return {\n                    success: true,\n                    deletedProjects\n                };\n            } catch (error) {\n                // Rollback transaction on error\n                await connection.rollback();\n                connection.release();\n                throw error;\n            }\n        } catch (error) {\n            console.error(\"Error deleting developer with cascade:\", error);\n            return {\n                success: false,\n                deletedProjects: 0\n            };\n        }\n    }\n    static async createProjectWithDeveloper(projectData, developerId) {\n        try {\n            const connection = await pool.getConnection();\n            // Start transaction\n            await connection.beginTransaction();\n            try {\n                // Create the project with developer_id\n                const projectToCreate = {\n                    ...projectData,\n                    developer_id: developerId || null\n                };\n                const [result] = await connection.execute(`INSERT INTO projects (\n            name, slug, project_name, sub_project, display_title, developer, developer_id,\n            location, price, starting_price, status, project_type, type, category,\n            color_palette, property_type, property_types, sub_projects, bedrooms, bathrooms,\n            studios, units_1bedroom, units_2bedroom, units_3bedroom, units_4bedroom,\n            units_5bedroom, units_office, living_rooms, units, area, description, image,\n            gallery, coordinates_lat, coordinates_lng, features, amenities, is_featured,\n            brochure_url, theme_color, voice_over_url, presentation_file, presentation_url,\n            media_type, featured_video, created_at, updated_at\n          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())`, [\n                    projectToCreate.name,\n                    projectToCreate.slug,\n                    projectToCreate.project_name || null,\n                    projectToCreate.sub_project || null,\n                    projectToCreate.display_title || null,\n                    projectToCreate.developer,\n                    projectToCreate.developer_id,\n                    projectToCreate.location,\n                    projectToCreate.price || null,\n                    projectToCreate.starting_price || null,\n                    projectToCreate.status || \"Active\",\n                    projectToCreate.project_type || null,\n                    projectToCreate.type || null,\n                    projectToCreate.category || null,\n                    projectToCreate.color_palette || null,\n                    JSON.stringify(projectToCreate.property_type || []),\n                    JSON.stringify(projectToCreate.property_types || []),\n                    JSON.stringify(projectToCreate.sub_projects || []),\n                    projectToCreate.bedrooms || 0,\n                    projectToCreate.bathrooms || 0,\n                    projectToCreate.studios || 0,\n                    projectToCreate.units_1bedroom || 0,\n                    projectToCreate.units_2bedroom || 0,\n                    projectToCreate.units_3bedroom || 0,\n                    projectToCreate.units_4bedroom || 0,\n                    projectToCreate.units_5bedroom || 0,\n                    projectToCreate.units_office || 0,\n                    projectToCreate.living_rooms || 0,\n                    JSON.stringify(projectToCreate.units || []),\n                    projectToCreate.area,\n                    projectToCreate.description,\n                    projectToCreate.image,\n                    JSON.stringify(projectToCreate.gallery || []),\n                    projectToCreate.coordinates_lat,\n                    projectToCreate.coordinates_lng,\n                    JSON.stringify(projectToCreate.features || []),\n                    JSON.stringify(projectToCreate.amenities || []),\n                    projectToCreate.is_featured || false,\n                    projectToCreate.brochure_url || null,\n                    projectToCreate.theme_color || null,\n                    projectToCreate.voice_over_url || null,\n                    projectToCreate.presentation_file || null,\n                    projectToCreate.presentation_url || null,\n                    projectToCreate.media_type || null,\n                    projectToCreate.featured_video || null\n                ]);\n                const insertId = result.insertId;\n                // Update developer's project count if assigned\n                if (developerId) {\n                    await connection.execute(\"UPDATE developers SET projects_count = projects_count + 1, updated_at = NOW() WHERE id = ?\", [\n                        developerId\n                    ]);\n                }\n                // Commit transaction\n                await connection.commit();\n                // Fetch and return the created project\n                const [projectRows] = await connection.execute(\"SELECT * FROM projects WHERE id = ?\", [\n                    insertId\n                ]);\n                connection.release();\n                if (projectRows.length > 0) {\n                    const project = projectRows[0];\n                    return {\n                        ...project,\n                        property_type: project.property_type ? typeof project.property_type === \"string\" ? JSON.parse(project.property_type) : project.property_type : [],\n                        property_types: project.property_types ? typeof project.property_types === \"string\" ? JSON.parse(project.property_types) : project.property_types : [],\n                        sub_projects: project.sub_projects ? typeof project.sub_projects === \"string\" ? JSON.parse(project.sub_projects) : project.sub_projects : [],\n                        units: project.units ? typeof project.units === \"string\" ? JSON.parse(project.units) : project.units : [],\n                        gallery: project.gallery ? typeof project.gallery === \"string\" ? JSON.parse(project.gallery) : project.gallery : [],\n                        features: project.features ? typeof project.features === \"string\" ? JSON.parse(project.features) : project.features : [],\n                        amenities: project.amenities ? typeof project.amenities === \"string\" ? JSON.parse(project.amenities) : project.amenities : []\n                    };\n                }\n                return null;\n            } catch (error) {\n                // Rollback transaction on error\n                await connection.rollback();\n                connection.release();\n                throw error;\n            }\n        } catch (error) {\n            console.error(\"Error creating project with developer:\", error);\n            return null;\n        }\n    }\n    // Articles CRUD operations\n    static async getArticles() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM articles ORDER BY created_at DESC\");\n            connection.release();\n            const articles = rows;\n            // Parse JSON tags field and handle missing columns\n            return articles.map((article)=>({\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                }));\n        } catch (error) {\n            console.error(\"Error fetching articles:\", error);\n            return [];\n        }\n    }\n    static async createArticle(article) {\n        try {\n            const connection = await pool.getConnection();\n            // First try with all columns\n            try {\n                const [result] = await connection.execute(`INSERT INTO articles (title, slug, content, excerpt, featured_image, author, status, published_at, tags, category, read_time, meta_description, featured, views_count)\n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                    article.title,\n                    article.slug,\n                    article.content,\n                    article.excerpt,\n                    article.featured_image,\n                    article.author,\n                    article.status,\n                    article.published_at,\n                    JSON.stringify(article.tags || []),\n                    article.category,\n                    article.read_time,\n                    article.meta_description,\n                    article.featured || false,\n                    article.views_count || 0\n                ]);\n                const insertId = result.insertId;\n                connection.release();\n                return await this.getArticleById(insertId);\n            } catch (insertError) {\n                console.log(\"Full insert failed, trying basic insert:\", insertError);\n                // If that fails, try with basic columns only\n                const [result] = await connection.execute(`INSERT INTO articles (title, slug, content, excerpt, featured_image, author, status, published_at)\n           VALUES (?, ?, ?, ?, ?, ?, ?, ?)`, [\n                    article.title,\n                    article.slug,\n                    article.content,\n                    article.excerpt,\n                    article.featured_image,\n                    article.author,\n                    article.status,\n                    article.published_at\n                ]);\n                const insertId = result.insertId;\n                connection.release();\n                return await this.getArticleById(insertId);\n            }\n        } catch (error) {\n            console.error(\"Error creating article:\", error);\n            return null;\n        }\n    }\n    static async getArticleById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM articles WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const articles = rows;\n            if (articles.length > 0) {\n                const article = articles[0];\n                return {\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error fetching article by ID:\", error);\n            return null;\n        }\n    }\n    static async updateArticle(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            // Convert tags array to JSON string if present\n            const processedData = {\n                ...updateData\n            };\n            if (processedData.tags) {\n                processedData.tags = JSON.stringify(processedData.tags);\n            }\n            const fields = Object.keys(processedData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>processedData[field]);\n            await connection.execute(`UPDATE articles SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            return await this.getArticleById(id);\n        } catch (error) {\n            console.error(\"Error updating article:\", error);\n            return null;\n        }\n    }\n    static async deleteArticle(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM articles WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting article:\", error);\n            return false;\n        }\n    }\n    static async getArticleBySlug(slug) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute('SELECT * FROM articles WHERE slug = ? AND status = \"published\"', [\n                slug\n            ]);\n            connection.release();\n            const articles = rows;\n            if (articles.length > 0) {\n                const article = articles[0];\n                return {\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error fetching article by slug:\", error);\n            return null;\n        }\n    }\n    static async getPublishedArticles(options) {\n        try {\n            const connection = await pool.getConnection();\n            let query = 'SELECT * FROM articles WHERE status = \"published\" ORDER BY published_at DESC, created_at DESC';\n            const params = [];\n            if (options?.limit) {\n                query += \" LIMIT ?\";\n                params.push(options.limit);\n            }\n            const [rows] = await connection.execute(query, params);\n            connection.release();\n            const articles = rows;\n            // Parse JSON tags field and handle missing columns\n            return articles.map((article)=>({\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                }));\n        } catch (error) {\n            console.error(\"Error fetching published articles:\", error);\n            return [];\n        }\n    }\n    // Media Files CRUD operations\n    static async getMediaFiles() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM media_files ORDER BY created_at DESC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching media files:\", error);\n            return [];\n        }\n    }\n    static async createMediaFile(mediaData) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(`INSERT INTO media_files (filename, original_name, file_path, file_size, mime_type, alt_text, uploaded_by)\n         VALUES (?, ?, ?, ?, ?, ?, ?)`, [\n                mediaData.filename,\n                mediaData.original_name,\n                mediaData.file_path,\n                mediaData.file_size,\n                mediaData.mime_type,\n                mediaData.alt_text,\n                mediaData.uploaded_by\n            ]);\n            const insertId = result.insertId;\n            connection.release();\n            return await this.getMediaFileById(insertId);\n        } catch (error) {\n            console.error(\"Error creating media file:\", error);\n            return null;\n        }\n    }\n    static async getMediaFileById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM media_files WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const mediaFiles = rows;\n            return mediaFiles.length > 0 ? mediaFiles[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching media file by ID:\", error);\n            return null;\n        }\n    }\n    static async updateMediaFile(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\" && key !== \"created_at\" && updateData[key] !== undefined);\n            if (fields.length === 0) {\n                connection.release();\n                return true;\n            }\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>updateData[field]);\n            const [result] = await connection.execute(`UPDATE media_files SET ${setClause} WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            return result.affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error updating media file:\", error);\n            return false;\n        }\n    }\n    static async deleteMediaFile(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM media_files WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting media file:\", error);\n            return false;\n        }\n    }\n    // Hero Sections CRUD operations\n    static async getHeroSections() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM hero_sections ORDER BY id DESC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching hero sections:\", error);\n            return [];\n        }\n    }\n    static async createHeroSection(heroData) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(`INSERT INTO hero_sections (page, title, subtitle, description, background_image, cta_text, cta_link, is_active)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?)`, [\n                heroData.page,\n                heroData.title,\n                heroData.subtitle,\n                heroData.description,\n                heroData.background_image,\n                heroData.cta_text,\n                heroData.cta_link,\n                heroData.is_active\n            ]);\n            const insertId = result.insertId;\n            connection.release();\n            return await this.getHeroSectionById(insertId);\n        } catch (error) {\n            console.error(\"Error creating hero section:\", error);\n            return null;\n        }\n    }\n    static async getHeroSectionById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM hero_sections WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const heroSections = rows;\n            return heroSections.length > 0 ? heroSections[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching hero section by ID:\", error);\n            return null;\n        }\n    }\n    static async updateHeroSection(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>updateData[field]);\n            await connection.execute(`UPDATE hero_sections SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            return await this.getHeroSectionById(id);\n        } catch (error) {\n            console.error(\"Error updating hero section:\", error);\n            return null;\n        }\n    }\n    static async deleteHeroSection(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM hero_sections WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting hero section:\", error);\n            return false;\n        }\n    }\n    // Users authentication\n    static async getUserByEmail(email) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM users WHERE email = ? AND is_active = TRUE\", [\n                email\n            ]);\n            connection.release();\n            const users = rows;\n            return users.length > 0 ? users[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching user by email:\", error);\n            return null;\n        }\n    }\n    static async updateUserLastLogin(userId) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"UPDATE users SET last_login = NOW() WHERE id = ?\", [\n                userId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error updating user last login:\", error);\n            return false;\n        }\n    }\n    // System logs\n    static async createLog(logData) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(`INSERT INTO system_logs (level, category, message, user_id, ip_address, user_agent, details)\n         VALUES (?, ?, ?, ?, ?, ?, ?)`, [\n                logData.level,\n                logData.category,\n                logData.message,\n                logData.user_id,\n                logData.ip_address,\n                logData.user_agent,\n                JSON.stringify(logData.details || {})\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error creating log:\", error);\n            return false;\n        }\n    }\n    // Get system statistics\n    static async getSystemStats() {\n        try {\n            const connection = await pool.getConnection();\n            const [projectCount] = await connection.execute(\"SELECT COUNT(*) as count FROM projects\");\n            const [developerCount] = await connection.execute(\"SELECT COUNT(*) as count FROM developers\");\n            const [userCount] = await connection.execute(\"SELECT COUNT(*) as count FROM users\");\n            const [logCount] = await connection.execute(\"SELECT COUNT(*) as count FROM system_logs\");\n            connection.release();\n            return {\n                totalProjects: projectCount[0].count,\n                totalDevelopers: developerCount[0].count,\n                totalUsers: userCount[0].count,\n                totalLogs: logCount[0].count,\n                lastBackup: new Date()\n            };\n        } catch (error) {\n            console.error(\"Error fetching system stats:\", error);\n            return {\n                totalProjects: 0,\n                totalDevelopers: 0,\n                totalUsers: 0,\n                totalLogs: 0,\n                lastBackup: new Date()\n            };\n        }\n    }\n    // Settings management\n    static async getSettings() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM site_settings ORDER BY id DESC LIMIT 1\");\n            connection.release();\n            const settings = rows;\n            if (settings.length > 0) {\n                const dbSettings = settings[0];\n                // Transform database columns to API format\n                return {\n                    site: {\n                        title: dbSettings.site_title || \"Premium Choice\",\n                        description: dbSettings.site_description || \"Your trusted partner in Dubai real estate\",\n                        logo: dbSettings.site_logo || \"/logo.png\",\n                        favicon: dbSettings.site_favicon || \"/favicon.ico\"\n                    },\n                    contact: {\n                        email: dbSettings.contact_email || \"admin@example.com\",\n                        phone: dbSettings.contact_phone || null,\n                        address: dbSettings.contact_address || \"Dubai, UAE\",\n                        whatsapp: dbSettings.contact_whatsapp || dbSettings.whatsapp_phone || null\n                    },\n                    social: {\n                        facebook: dbSettings.social_facebook || \"\",\n                        instagram: dbSettings.social_instagram || \"\",\n                        twitter: dbSettings.social_twitter || \"\",\n                        linkedin: dbSettings.social_linkedin || \"\",\n                        youtube: dbSettings.social_youtube || \"\",\n                        tiktok: dbSettings.social_tiktok || \"\",\n                        snapchat: dbSettings.social_snapchat || \"\",\n                        telegram: dbSettings.social_telegram || \"\",\n                        whatsapp: dbSettings.social_whatsapp || \"\"\n                    },\n                    seo: {\n                        metaTitle: dbSettings.seo_meta_title || \"Premium Choice - Dubai Real Estate\",\n                        metaDescription: dbSettings.seo_meta_description || \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                        keywords: dbSettings.seo_keywords || \"Dubai real estate, luxury properties, investment, Premium Choice\"\n                    },\n                    features: {\n                        enableBlog: dbSettings.features_enable_blog !== false,\n                        enableNewsletter: dbSettings.features_enable_newsletter !== false,\n                        enableWhatsApp: dbSettings.features_enable_whatsapp !== false,\n                        enableLiveChat: dbSettings.features_enable_live_chat === true\n                    },\n                    whatsapp: {\n                        phone: dbSettings.whatsapp_phone || dbSettings.contact_whatsapp || null,\n                        enabled: dbSettings.whatsapp_enabled !== false,\n                        defaultMessage: dbSettings.whatsapp_default_message || \"Hello! I'm interested in your real estate services.\",\n                        businessHours: dbSettings.whatsapp_business_hours ? JSON.parse(dbSettings.whatsapp_business_hours) : null,\n                        autoReply: dbSettings.whatsapp_auto_reply || null,\n                        showOnPages: dbSettings.whatsapp_show_on_pages ? JSON.parse(dbSettings.whatsapp_show_on_pages) : [\n                            \"home\",\n                            \"projects\",\n                            \"contact\"\n                        ]\n                    }\n                };\n            } else {\n                // Return default settings if none exist\n                return {\n                    site: {\n                        title: \"Premium Choice\",\n                        description: \"Your trusted partner in Dubai real estate\",\n                        logo: \"/logo.png\",\n                        favicon: \"/favicon.ico\"\n                    },\n                    contact: {\n                        email: \"admin@example.com\",\n                        phone: null,\n                        address: \"Dubai, UAE\",\n                        whatsapp: null\n                    },\n                    social: {\n                        facebook: \"\",\n                        instagram: \"\",\n                        twitter: \"\",\n                        linkedin: \"\",\n                        youtube: \"\",\n                        tiktok: \"\",\n                        snapchat: \"\",\n                        telegram: \"\",\n                        whatsapp: \"\"\n                    },\n                    seo: {\n                        metaTitle: \"Premium Choice - Dubai Real Estate\",\n                        metaDescription: \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                        keywords: \"Dubai real estate, luxury properties, investment, Premium Choice\"\n                    },\n                    features: {\n                        enableBlog: true,\n                        enableNewsletter: true,\n                        enableWhatsApp: true,\n                        enableLiveChat: false\n                    },\n                    whatsapp: {\n                        phone: null,\n                        enabled: true,\n                        defaultMessage: \"Hello! I'm interested in your real estate services.\",\n                        businessHours: null,\n                        autoReply: null,\n                        showOnPages: [\n                            \"home\",\n                            \"projects\",\n                            \"contact\"\n                        ]\n                    }\n                };\n            }\n        } catch (error) {\n            console.error(\"Error fetching settings:\", error);\n            // Return default settings on error\n            return {\n                site: {\n                    title: \"Premium Choice\",\n                    description: \"Your trusted partner in Dubai real estate\",\n                    logo: \"/logo.png\",\n                    favicon: \"/favicon.ico\"\n                },\n                contact: {\n                    email: \"admin@example.com\",\n                    phone: null,\n                    address: \"Dubai, UAE\",\n                    whatsapp: null\n                },\n                social: {\n                    facebook: \"\",\n                    instagram: \"\",\n                    twitter: \"\",\n                    linkedin: \"\",\n                    youtube: \"\",\n                    tiktok: \"\",\n                    snapchat: \"\",\n                    telegram: \"\",\n                    whatsapp: \"\"\n                },\n                seo: {\n                    metaTitle: \"Premium Choice - Dubai Real Estate\",\n                    metaDescription: \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                    keywords: \"Dubai real estate, luxury properties, investment, Premium Choice\"\n                },\n                features: {\n                    enableBlog: true,\n                    enableNewsletter: true,\n                    enableWhatsApp: true,\n                    enableLiveChat: false\n                },\n                whatsapp: {\n                    phone: null,\n                    enabled: true,\n                    defaultMessage: \"Hello! I'm interested in your real estate services.\",\n                    businessHours: null,\n                    autoReply: null,\n                    showOnPages: [\n                        \"home\",\n                        \"projects\",\n                        \"contact\"\n                    ]\n                }\n            };\n        }\n    }\n    static async updateSettings(settingsData) {\n        try {\n            const connection = await pool.getConnection();\n            // Transform API format to database columns\n            const dbData = {};\n            if (settingsData.site) {\n                if (settingsData.site.title) dbData.site_title = settingsData.site.title;\n                if (settingsData.site.description) dbData.site_description = settingsData.site.description;\n                if (settingsData.site.logo) dbData.site_logo = settingsData.site.logo;\n                if (settingsData.site.favicon) dbData.site_favicon = settingsData.site.favicon;\n            }\n            if (settingsData.contact) {\n                if (settingsData.contact.email) dbData.contact_email = settingsData.contact.email;\n                if (settingsData.contact.phone) dbData.contact_phone = settingsData.contact.phone;\n                if (settingsData.contact.address) dbData.contact_address = settingsData.contact.address;\n                if (settingsData.contact.whatsapp) dbData.contact_whatsapp = settingsData.contact.whatsapp;\n            }\n            if (settingsData.social) {\n                if (settingsData.social.facebook !== undefined) dbData.social_facebook = settingsData.social.facebook;\n                if (settingsData.social.instagram !== undefined) dbData.social_instagram = settingsData.social.instagram;\n                if (settingsData.social.twitter !== undefined) dbData.social_twitter = settingsData.social.twitter;\n                if (settingsData.social.linkedin !== undefined) dbData.social_linkedin = settingsData.social.linkedin;\n                if (settingsData.social.youtube !== undefined) dbData.social_youtube = settingsData.social.youtube;\n                if (settingsData.social.tiktok !== undefined) dbData.social_tiktok = settingsData.social.tiktok;\n                if (settingsData.social.snapchat !== undefined) dbData.social_snapchat = settingsData.social.snapchat;\n                if (settingsData.social.telegram !== undefined) dbData.social_telegram = settingsData.social.telegram;\n                if (settingsData.social.whatsapp !== undefined) dbData.social_whatsapp = settingsData.social.whatsapp;\n            }\n            if (settingsData.seo) {\n                if (settingsData.seo.metaTitle) dbData.seo_meta_title = settingsData.seo.metaTitle;\n                if (settingsData.seo.metaDescription) dbData.seo_meta_description = settingsData.seo.metaDescription;\n                if (settingsData.seo.keywords) dbData.seo_keywords = settingsData.seo.keywords;\n            }\n            if (settingsData.features) {\n                if (settingsData.features.enableBlog !== undefined) dbData.features_enable_blog = settingsData.features.enableBlog;\n                if (settingsData.features.enableNewsletter !== undefined) dbData.features_enable_newsletter = settingsData.features.enableNewsletter;\n                if (settingsData.features.enableWhatsApp !== undefined) dbData.features_enable_whatsapp = settingsData.features.enableWhatsApp;\n                if (settingsData.features.enableLiveChat !== undefined) dbData.features_enable_live_chat = settingsData.features.enableLiveChat;\n            }\n            if (settingsData.whatsapp) {\n                if (settingsData.whatsapp.phone !== undefined) dbData.whatsapp_phone = settingsData.whatsapp.phone;\n                if (settingsData.whatsapp.enabled !== undefined) dbData.whatsapp_enabled = settingsData.whatsapp.enabled;\n                if (settingsData.whatsapp.defaultMessage !== undefined) dbData.whatsapp_default_message = settingsData.whatsapp.defaultMessage;\n                if (settingsData.whatsapp.businessHours !== undefined) dbData.whatsapp_business_hours = settingsData.whatsapp.businessHours ? JSON.stringify(settingsData.whatsapp.businessHours) : null;\n                if (settingsData.whatsapp.autoReply !== undefined) dbData.whatsapp_auto_reply = settingsData.whatsapp.autoReply;\n                if (settingsData.whatsapp.showOnPages !== undefined) dbData.whatsapp_show_on_pages = settingsData.whatsapp.showOnPages ? JSON.stringify(settingsData.whatsapp.showOnPages) : null;\n            }\n            // Check if settings exist\n            const [existingRows] = await connection.execute(\"SELECT id FROM site_settings LIMIT 1\");\n            const existing = existingRows;\n            if (existing.length > 0) {\n                // Update existing settings\n                const fields = Object.keys(dbData);\n                if (fields.length > 0) {\n                    const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n                    const values = fields.map((field)=>dbData[field]);\n                    await connection.execute(`UPDATE site_settings SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                        ...values,\n                        existing[0].id\n                    ]);\n                }\n            } else {\n                // Insert new settings with defaults\n                const defaultData = {\n                    site_title: \"Premium Choice\",\n                    site_description: \"Your trusted partner in Dubai real estate\",\n                    site_logo: \"/logo.png\",\n                    site_favicon: \"/favicon.ico\",\n                    contact_email: \"admin@example.com\",\n                    contact_phone: null,\n                    contact_address: \"Dubai, UAE\",\n                    contact_whatsapp: null,\n                    social_facebook: \"\",\n                    social_instagram: \"\",\n                    social_twitter: \"\",\n                    social_linkedin: \"\",\n                    social_youtube: \"\",\n                    seo_meta_title: \"Premium Choice - Dubai Real Estate\",\n                    seo_meta_description: \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                    seo_keywords: \"Dubai real estate, luxury properties, investment, Premium Choice\",\n                    features_enable_blog: true,\n                    features_enable_newsletter: true,\n                    features_enable_whatsapp: true,\n                    features_enable_live_chat: false,\n                    ...dbData\n                };\n                const fields = Object.keys(defaultData);\n                const placeholders = fields.map(()=>\"?\").join(\", \");\n                const values = fields.map((field)=>defaultData[field]);\n                await connection.execute(`INSERT INTO site_settings (${fields.join(\", \")}, created_at, updated_at) VALUES (${placeholders}, NOW(), NOW())`, values);\n            }\n            connection.release();\n            return await this.getSettings();\n        } catch (error) {\n            console.error(\"Error updating settings:\", error);\n            throw error;\n        }\n    }\n    // Presentation slides management\n    static async getPresentationSlides(projectId) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM presentation_slides WHERE project_id = ? ORDER BY slide_number ASC\", [\n                projectId\n            ]);\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching presentation slides:\", error);\n            return [];\n        }\n    }\n    static async createPresentationSlide(slideData) {\n        try {\n            const connection = await pool.getConnection();\n            // Get the next slide number for this project\n            const [maxSlideRows] = await connection.execute(\"SELECT COALESCE(MAX(slide_number), 0) + 1 as next_slide_number FROM presentation_slides WHERE project_id = ?\", [\n                slideData.project_id\n            ]);\n            const nextSlideNumber = maxSlideRows[0].next_slide_number;\n            const [result] = await connection.execute(`INSERT INTO presentation_slides \n         (project_id, slide_number, title, content, description, image_url, background_image, animation_type, duration, voice_over_url)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                slideData.project_id,\n                slideData.slide_number || nextSlideNumber,\n                slideData.title,\n                slideData.content,\n                slideData.description || null,\n                slideData.image_url || null,\n                slideData.background_image || null,\n                slideData.animation_type || \"fadeIn\",\n                slideData.duration || 5000,\n                slideData.voice_over_url || null\n            ]);\n            connection.release();\n            return result.insertId;\n        } catch (error) {\n            console.error(\"Error creating presentation slide:\", error);\n            throw error;\n        }\n    }\n    static async updatePresentationSlide(slideId, slideData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(slideData).filter((key)=>key !== \"id\" && key !== \"created_at\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>slideData[field]);\n            await connection.execute(`UPDATE presentation_slides SET ${setClause} WHERE id = ?`, [\n                ...values,\n                slideId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error updating presentation slide:\", error);\n            return false;\n        }\n    }\n    static async deletePresentationSlide(slideId) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM presentation_slides WHERE id = ?\", [\n                slideId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting presentation slide:\", error);\n            return false;\n        }\n    }\n    static async deletePresentationSlidesByProject(projectId) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM presentation_slides WHERE project_id = ?\", [\n                projectId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting presentation slides for project:\", error);\n            return false;\n        }\n    }\n    // Hero Images Management\n    static async getHeroImages() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM hero_images ORDER BY order_index ASC, created_at DESC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching hero images:\", error);\n            return [];\n        }\n    }\n    static async createHeroImage(imageData) {\n        try {\n            const connection = await pool.getConnection();\n            // Get the next order index\n            const [maxOrderRows] = await connection.execute(\"SELECT COALESCE(MAX(order_index), 0) + 1 as next_order FROM hero_images\");\n            const nextOrder = maxOrderRows[0].next_order;\n            const [result] = await connection.execute(`INSERT INTO hero_images \n         (url, title, description, alt_text, is_active, order_index, created_at, updated_at)\n         VALUES (?, ?, ?, ?, ?, ?, NOW(), NOW())`, [\n                imageData.url,\n                imageData.title,\n                imageData.description || null,\n                imageData.alt_text || imageData.title,\n                imageData.is_active !== undefined ? imageData.is_active : true,\n                imageData.order_index || nextOrder\n            ]);\n            const insertId = result.insertId;\n            // Fetch and return the created image\n            const [newImageRows] = await connection.execute(\"SELECT * FROM hero_images WHERE id = ?\", [\n                insertId\n            ]);\n            connection.release();\n            return newImageRows[0];\n        } catch (error) {\n            console.error(\"Error creating hero image:\", error);\n            throw error;\n        }\n    }\n    static async updateHeroImage(imageId, imageData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(imageData).filter((key)=>key !== \"id\" && key !== \"created_at\" && key !== \"updated_at\");\n            if (fields.length === 0) {\n                connection.release();\n                return true;\n            }\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>imageData[field]);\n            const [result] = await connection.execute(`UPDATE hero_images SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                imageId\n            ]);\n            connection.release();\n            return result.affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error updating hero image:\", error);\n            return false;\n        }\n    }\n    static async deleteHeroImage(imageId) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(\"DELETE FROM hero_images WHERE id = ?\", [\n                imageId\n            ]);\n            connection.release();\n            return result.affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error deleting hero image:\", error);\n            return false;\n        }\n    }\n    // AI API Settings Management\n    static async getAISettings() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM ai_api_settings ORDER BY created_at DESC LIMIT 1\");\n            connection.release();\n            const settings = rows;\n            return settings.length > 0 ? settings[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching AI settings:\", error);\n            return null;\n        }\n    }\n    static async saveAISettings(settingsData) {\n        try {\n            const connection = await pool.getConnection();\n            // Check if settings exist\n            const [existingRows] = await connection.execute(\"SELECT id FROM ai_api_settings LIMIT 1\");\n            const existing = existingRows;\n            if (existing.length > 0) {\n                // Update existing settings\n                await connection.execute(`UPDATE ai_api_settings SET \n           openai_api_key = ?, openai_model = ?, openai_max_tokens = ?, openai_temperature = ?,\n           gemini_api_key = ?, gemini_model = ?, claude_api_key = ?, claude_model = ?,\n           deepseek_api_key = ?, deepseek_model = ?, deepseek_max_tokens = ?, deepseek_temperature = ?,\n           default_provider = ?, ai_enabled = ?, rate_limit_per_minute = ?, rate_limit_per_hour = ?,\n           system_prompt = ?, property_suggestions_enabled = ?, property_suggestions_count = ?, contact_info_in_responses = ?,\n           updated_at = NOW()\n           WHERE id = ?`, [\n                    settingsData.openai_api_key || \"\",\n                    settingsData.openai_model || \"gpt-3.5-turbo\",\n                    settingsData.openai_max_tokens || 1000,\n                    settingsData.openai_temperature || 0.7,\n                    settingsData.gemini_api_key || \"\",\n                    settingsData.gemini_model || \"gemini-pro\",\n                    settingsData.claude_api_key || \"\",\n                    settingsData.claude_model || \"claude-3-sonnet-20240229\",\n                    settingsData.deepseek_api_key || \"\",\n                    settingsData.deepseek_model || \"deepseek-chat\",\n                    settingsData.deepseek_max_tokens || 1000,\n                    settingsData.deepseek_temperature || 0.7,\n                    settingsData.default_provider || \"openai\",\n                    settingsData.ai_enabled !== undefined ? settingsData.ai_enabled : true,\n                    settingsData.rate_limit_per_minute || 10,\n                    settingsData.rate_limit_per_hour || 100,\n                    settingsData.system_prompt || \"You are an expert real estate consultant with deep knowledge of the Dubai and UAE property market.\",\n                    settingsData.property_suggestions_enabled !== undefined ? settingsData.property_suggestions_enabled : true,\n                    settingsData.property_suggestions_count || 4,\n                    settingsData.contact_info_in_responses !== undefined ? settingsData.contact_info_in_responses : true,\n                    existing[0].id\n                ]);\n            } else {\n                // Insert new settings\n                await connection.execute(`INSERT INTO ai_api_settings \n           (openai_api_key, openai_model, openai_max_tokens, openai_temperature,\n            gemini_api_key, gemini_model, claude_api_key, claude_model,\n            deepseek_api_key, deepseek_model, deepseek_max_tokens, deepseek_temperature,\n            default_provider, ai_enabled, rate_limit_per_minute, rate_limit_per_hour,\n            system_prompt, property_suggestions_enabled, property_suggestions_count, contact_info_in_responses,\n            created_at, updated_at)\n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())`, [\n                    settingsData.openai_api_key || \"\",\n                    settingsData.openai_model || \"gpt-3.5-turbo\",\n                    settingsData.openai_max_tokens || 1000,\n                    settingsData.openai_temperature || 0.7,\n                    settingsData.gemini_api_key || \"\",\n                    settingsData.gemini_model || \"gemini-pro\",\n                    settingsData.claude_api_key || \"\",\n                    settingsData.claude_model || \"claude-3-sonnet-20240229\",\n                    settingsData.deepseek_api_key || \"\",\n                    settingsData.deepseek_model || \"deepseek-chat\",\n                    settingsData.deepseek_max_tokens || 1000,\n                    settingsData.deepseek_temperature || 0.7,\n                    settingsData.default_provider || \"openai\",\n                    settingsData.ai_enabled !== undefined ? settingsData.ai_enabled : true,\n                    settingsData.rate_limit_per_minute || 10,\n                    settingsData.rate_limit_per_hour || 100,\n                    settingsData.system_prompt || \"You are an expert real estate consultant with deep knowledge of the Dubai and UAE property market.\",\n                    settingsData.property_suggestions_enabled !== undefined ? settingsData.property_suggestions_enabled : true,\n                    settingsData.property_suggestions_count || 4,\n                    settingsData.contact_info_in_responses !== undefined ? settingsData.contact_info_in_responses : true\n                ]);\n            }\n            connection.release();\n            return await this.getAISettings();\n        } catch (error) {\n            console.error(\"Error saving AI settings:\", error);\n            throw error;\n        }\n    }\n    // Activity Logging Methods\n    static async getRecentActivities(limit = 10, frontendOnly = false) {\n        try {\n            const connection = await pool.getConnection();\n            let query = `SELECT id, timestamp, level, category, message, details \n                   FROM system_logs`;\n            let params = [];\n            if (frontendOnly) {\n                // Filter for frontend-relevant activities only\n                query += ` WHERE category IN ('project', 'developer', 'article', 'media')`;\n            }\n            query += ` ORDER BY timestamp DESC LIMIT ?`;\n            params.push(limit);\n            const [rows] = await connection.execute(query, params);\n            connection.release();\n            return rows.map((row)=>({\n                    id: row.id,\n                    timestamp: row.timestamp,\n                    level: row.level,\n                    category: row.category,\n                    message: row.message,\n                    details: row.details ? JSON.parse(row.details) : null\n                }));\n        } catch (error) {\n            console.error(\"Error fetching recent activities:\", error);\n            throw error;\n        }\n    }\n    static async createActivity(activityData) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(`INSERT INTO system_logs (level, category, message, details, timestamp) \n         VALUES (?, ?, ?, ?, NOW())`, [\n                activityData.level,\n                activityData.category,\n                activityData.message,\n                activityData.details\n            ]);\n            const insertId = result.insertId;\n            // Fetch the created activity\n            const [rows] = await connection.execute(`SELECT id, timestamp, level, category, message, details \n         FROM system_logs \n         WHERE id = ?`, [\n                insertId\n            ]);\n            connection.release();\n            const row = rows[0];\n            return {\n                id: row.id,\n                timestamp: row.timestamp,\n                level: row.level,\n                category: row.category,\n                message: row.message,\n                details: row.details ? JSON.parse(row.details) : null\n            };\n        } catch (error) {\n            console.error(\"Error creating activity:\", error);\n            throw error;\n        }\n    }\n}\n// Standalone query function for backward compatibility\nconst query = MySQLDatabase.query.bind(MySQLDatabase);\n// Export getDatabase function for backward compatibility\nasync function getDatabase() {\n    return pool;\n}\n// Export getConnection function for backward compatibility\nasync function getConnection() {\n    return await pool.getConnection();\n}\n// Export Database class alias for compatibility\nconst Database = MySQLDatabase;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MySQLDatabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztnQkFDcEI4QyxTQUFTd1EsSUFBSXhRLE9BQU8sR0FBR2hFLEtBQUtDLEtBQUssQ0FBQ3VVLElBQUl4USxPQUFPLElBQUk7WUFDbkQ7UUFDRixFQUFFLE9BQU81RixPQUFPO1lBQ2RGLFFBQVFFLEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE1BQU1BO1FBQ1I7SUFDRjtBQUNGO0FBRUEsdURBQXVEO0FBQ2hELE1BQU1JLFFBQVFaLGNBQWNZLEtBQUssQ0FBQ21XLElBQUksQ0FBQy9XLGVBQWU7QUFFN0QseURBQXlEO0FBQ2xELGVBQWVnWDtJQUNwQixPQUFPbFg7QUFDVDtBQUVBLDJEQUEyRDtBQUNwRCxlQUFlSztJQUNwQixPQUFPLE1BQU1MLEtBQUtLLGFBQWE7QUFDakM7QUFFQSxnREFBZ0Q7QUFDekMsTUFBTThXLFdBQVdqWCxjQUFjO0FBRXRDLGlFQUFlQSxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlbWl1bS1jaG9pY2UtcmVhbC1lc3RhdGUvLi9saWIvbXlzcWwtZGF0YWJhc2UudHM/NmQ5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyL3Byb21pc2UnO1xuXG4vLyBEYXRhYmFzZSBjb25maWd1cmF0aW9uIHdpdGggeW91ciBwcm92aWRlZCBjcmVkZW50aWFsc1xuY29uc3QgZGJDb25maWcgPSB7XG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXG4gIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXG4gIHBvcnQ6IHByb2Nlc3MuZW52LkRCX1BPUlQgPyBOdW1iZXIocHJvY2Vzcy5lbnYuREJfUE9SVCkgOiAzMzA2LFxuICBzc2w6IHtcbiAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlXG4gIH0sXG4gIC8vIEluY3JlYXNlZCBjb25uZWN0aW9uIGxpbWl0cyB0byBwcmV2ZW50IHRpbWVvdXRzXG4gIGNvbm5lY3Rpb25MaW1pdDogMTAsXG4gIHF1ZXVlTGltaXQ6IDIwLFxuICBhY3F1aXJlVGltZW91dDogNjAwMDAsIC8vIDYwIHNlY29uZHNcbiAgdGltZW91dDogNjAwMDAsIC8vIDYwIHNlY29uZHNcbiAgLy8gQ29ubmVjdGlvbiBwb29sIG9wdGlvbnMgc3VwcG9ydGVkIGJ5IG15c3FsMlxuICBlbmFibGVLZWVwQWxpdmU6IHRydWUsXG4gIGtlZXBBbGl2ZUluaXRpYWxEZWxheTogMCxcbiAgaWRsZVRpbWVvdXQ6IDMwMDAwMCwgLy8gNSBtaW51dGVzXG4gIG1heElkbGU6IDUsXG4gIC8vIEFkZGl0aW9uYWwgY29ubmVjdGlvbiBtYW5hZ2VtZW50XG4gIG11bHRpcGxlU3RhdGVtZW50czogZmFsc2Vcbn07XG5cbi8vIENyZWF0ZSBjb25uZWN0aW9uIHBvb2xcbmNvbnN0IHBvb2wgPSBteXNxbC5jcmVhdGVQb29sKGRiQ29uZmlnKTtcblxuLy8gSW50ZXJmYWNlcyBmb3IgZGF0YWJhc2UgZW50aXRpZXNcbmV4cG9ydCBpbnRlcmZhY2UgUHJvamVjdCB7XG4gIGlkPzogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIHNsdWc6IHN0cmluZztcbiAgcHJvamVjdF9uYW1lPzogc3RyaW5nO1xuICBzdWJfcHJvamVjdD86IHN0cmluZztcbiAgZGlzcGxheV90aXRsZT86IHN0cmluZztcbiAgZGV2ZWxvcGVyOiBzdHJpbmc7XG4gIGRldmVsb3Blcl9pZD86IG51bWJlcjtcbiAgbG9jYXRpb246IHN0cmluZztcbiAgcHJpY2U/OiBzdHJpbmc7XG4gIHN0YXJ0aW5nX3ByaWNlPzogc3RyaW5nO1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIHByb2plY3RfdHlwZT86IHN0cmluZztcbiAgdHlwZT86IHN0cmluZztcbiAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIGNvbG9yX3BhbGV0dGU/OiBzdHJpbmcgfCBudWxsO1xuICBwcm9wZXJ0eV90eXBlPzogc3RyaW5nW107XG4gIHByb3BlcnR5X3R5cGVzPzogc3RyaW5nW107XG4gIHN1Yl9wcm9qZWN0cz86IHN0cmluZ1tdO1xuICBiZWRyb29tcz86IG51bWJlcjtcbiAgYmF0aHJvb21zPzogbnVtYmVyO1xuICBzdHVkaW9zPzogbnVtYmVyO1xuICB1bml0c18xYmVkcm9vbT86IG51bWJlcjtcbiAgdW5pdHNfMmJlZHJvb20/OiBudW1iZXI7XG4gIHVuaXRzXzNiZWRyb29tPzogbnVtYmVyO1xuICB1bml0c180YmVkcm9vbT86IG51bWJlcjtcbiAgdW5pdHNfNWJlZHJvb20/OiBudW1iZXI7XG4gIHVuaXRzXzZiZWRyb29tPzogbnVtYmVyO1xuICB1bml0c183YmVkcm9vbT86IG51bWJlcjtcbiAgdW5pdHNfOHBsdXNfYmVkcm9vbXM/OiBzdHJpbmc7XG4gIGN1c3RvbV9iZWRyb29tX2NvdW50Pzogc3RyaW5nO1xuICB1bml0c19vZmZpY2U/OiBudW1iZXI7XG4gIHNob3BfY29tbWVyY2lhbD86IG51bWJlcjtcbiAgbGl2aW5nX3Jvb21zPzogbnVtYmVyO1xuICB1bml0cz86IHN0cmluZ1tdO1xuICBhcmVhOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGltYWdlOiBzdHJpbmc7XG4gIGdhbGxlcnk/OiBzdHJpbmdbXTtcbiAgY29vcmRpbmF0ZXNfbGF0OiBudW1iZXI7XG4gIGNvb3JkaW5hdGVzX2xuZzogbnVtYmVyO1xuICBmZWF0dXJlcz86IHN0cmluZ1tdO1xuICBhbWVuaXRpZXM/OiBzdHJpbmdbXTtcbiAgaXNfZmVhdHVyZWQ/OiBib29sZWFuO1xuICBmZWF0dXJlZD86IGJvb2xlYW47IC8vIEFsaWFzIGZvciBpc19mZWF0dXJlZFxuICBicm9jaHVyZV91cmw/OiBzdHJpbmc7XG4gIHRoZW1lX2NvbG9yPzogc3RyaW5nO1xuICB2b2ljZV9vdmVyX3VybD86IHN0cmluZztcbiAgLy8gUG93ZXJQb2ludCBwcmVzZW50YXRpb24gZmllbGRzIChsZWdhY3kpXG4gIHByZXNlbnRhdGlvbl9maWxlPzogc3RyaW5nIHwgbnVsbDtcbiAgcHJlc2VudGF0aW9uX3VybD86IHN0cmluZztcbiAgcHJlc2VudGF0aW9uX3NsaWRlcz86IFByZXNlbnRhdGlvblNsaWRlW107XG4gIHByZXNlbnRhdGlvbl9hbmltYXRpb25zPzogYW55O1xuICBwcmVzZW50YXRpb25fZWZmZWN0cz86IGFueTtcbiAgbWVkaWFfdHlwZT86ICdwZGYnIHwgJ3ZpZGVvJztcbiAgbWVkaWFfZmlsZXM/OiBBcnJheTx7XG4gICAgaWQ/OiBudW1iZXI7XG4gICAgZmlsZV9uYW1lPzogc3RyaW5nO1xuICAgIGZpbGVfcGF0aD86IHN0cmluZztcbiAgICB1cmw/OiBzdHJpbmc7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBtZWRpYV90eXBlPzogc3RyaW5nO1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgbWltZV90eXBlPzogc3RyaW5nO1xuICB9PjtcbiAgZmVhdHVyZWRfdmlkZW8/OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGV2ZWxvcGVyIHtcbiAgaWQ/OiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZztcbiAgc2x1Zzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBsb2dvPzogc3RyaW5nO1xuICBlc3RhYmxpc2hlZD86IHN0cmluZztcbiAgcHJvamVjdHNfY291bnQ6IG51bWJlcjtcbiAgbG9jYXRpb24/OiBzdHJpbmc7XG4gIHdlYnNpdGU/OiBzdHJpbmc7XG4gIHBob25lPzogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgc3RhdHVzOiAnQWN0aXZlJyB8ICdJbmFjdGl2ZSc7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkPzogbnVtYmVyO1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZF9oYXNoOiBzdHJpbmc7XG4gIHJvbGU6ICdhZG1pbicgfCAnZWRpdG9yJyB8ICd2aWV3ZXInO1xuICBuYW1lOiBzdHJpbmc7XG4gIGxhc3RfbG9naW4/OiBEYXRlO1xuICBjcmVhdGVkX2F0PzogRGF0ZTtcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlcm9TZWN0aW9uIHtcbiAgaWQ/OiBudW1iZXI7XG4gIHBhZ2U6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgc3VidGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgYmFja2dyb3VuZF9pbWFnZTogc3RyaW5nO1xuICBjdGFfdGV4dDogc3RyaW5nO1xuICBjdGFfbGluazogc3RyaW5nO1xuICBpc19hY3RpdmU6IGJvb2xlYW47XG4gIHVwZGF0ZWRfYXQ/OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFydGljbGUge1xuICBpZD86IG51bWJlcjtcbiAgdGl0bGU6IHN0cmluZztcbiAgc2x1Zzogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGV4Y2VycHQ/OiBzdHJpbmc7XG4gIGZlYXR1cmVkX2ltYWdlPzogc3RyaW5nO1xuICBhdXRob3I6IHN0cmluZztcbiAgYXV0aG9yX2lkPzogbnVtYmVyO1xuICBzdGF0dXM6ICdkcmFmdCcgfCAncHVibGlzaGVkJyB8ICdhcmNoaXZlZCc7XG4gIHB1Ymxpc2hlZF9hdD86IHN0cmluZztcbiAgdGFncz86IHN0cmluZ1tdO1xuICBjYXRlZ29yeT86IHN0cmluZztcbiAgcmVhZF90aW1lPzogbnVtYmVyO1xuICBtZXRhX3RpdGxlPzogc3RyaW5nO1xuICBtZXRhX2Rlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBmZWF0dXJlZD86IGJvb2xlYW47XG4gIHZpZXdzX2NvdW50PzogbnVtYmVyO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhRmlsZSB7XG4gIGlkPzogbnVtYmVyO1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICBvcmlnaW5hbF9uYW1lOiBzdHJpbmc7XG4gIGZpbGVfcGF0aDogc3RyaW5nO1xuICBmaWxlX3NpemU6IG51bWJlcjtcbiAgbWltZV90eXBlOiBzdHJpbmc7XG4gIC8vIE9wdGlvbmFsIGNhbWVsQ2FzZSBhbGlhc2VzIGZvciBjb21wYXRpYmlsaXR5IHdpdGggY2xpZW50IHBheWxvYWRzXG4gIHBhdGg/OiBzdHJpbmc7XG4gIHNpemU/OiBudW1iZXI7XG4gIG1pbWVUeXBlPzogc3RyaW5nO1xuICB1cGxvYWRlZEF0Pzogc3RyaW5nO1xuICBhbHRfdGV4dD86IHN0cmluZztcbiAgdXBsb2FkZWRfYnk/OiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3lzdGVtTG9nIHtcbiAgaWQ/OiBudW1iZXI7XG4gIHRpbWVzdGFtcD86IERhdGU7XG4gIGxldmVsOiAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InIHwgJ3N1Y2Nlc3MnO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHVzZXJfaWQ/OiBudW1iZXI7XG4gIGlwX2FkZHJlc3M/OiBzdHJpbmc7XG4gIHVzZXJfYWdlbnQ/OiBzdHJpbmc7XG4gIGRldGFpbHM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3lzdGVtQWN0aXZpdHkge1xuICBpZDogbnVtYmVyO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIGxldmVsOiAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InIHwgJ3N1Y2Nlc3MnO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGRldGFpbHM/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdE1lc3NhZ2Uge1xuICBpZD86IG51bWJlcjtcbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHJlc3BvbnNlOiBzdHJpbmc7XG4gIHRpbWVzdGFtcD86IERhdGU7XG4gIHJlc3BvbnNlX3RpbWU6IG51bWJlcjtcbiAgdXNlcl9pcD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmVzZW50YXRpb25TbGlkZSB7XG4gIGlkPzogbnVtYmVyO1xuICBwcm9qZWN0X2lkOiBudW1iZXI7XG4gIHNsaWRlX251bWJlcjogbnVtYmVyO1xuICB0aXRsZTogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBpbWFnZV91cmw/OiBzdHJpbmc7XG4gIGJhY2tncm91bmRfaW1hZ2U/OiBzdHJpbmc7XG4gIGFuaW1hdGlvbl90eXBlPzogc3RyaW5nO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbiAgdm9pY2Vfb3Zlcl91cmw/OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ/OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlcm9JbWFnZSB7XG4gIGlkPzogbnVtYmVyO1xuICB1cmw6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGFsdF90ZXh0Pzogc3RyaW5nO1xuICBpc19hY3RpdmU6IGJvb2xlYW47XG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQUlBcGlTZXR0aW5ncyB7XG4gIGlkPzogbnVtYmVyO1xuICBvcGVuYWlfYXBpX2tleTogc3RyaW5nO1xuICBvcGVuYWlfbW9kZWw6IHN0cmluZztcbiAgb3BlbmFpX21heF90b2tlbnM6IG51bWJlcjtcbiAgb3BlbmFpX3RlbXBlcmF0dXJlOiBudW1iZXI7XG4gIGdlbWluaV9hcGlfa2V5OiBzdHJpbmc7XG4gIGdlbWluaV9tb2RlbDogc3RyaW5nO1xuICBjbGF1ZGVfYXBpX2tleTogc3RyaW5nO1xuICBjbGF1ZGVfbW9kZWw6IHN0cmluZztcbiAgZGVlcHNlZWtfYXBpX2tleTogc3RyaW5nO1xuICBkZWVwc2Vla19tb2RlbDogc3RyaW5nO1xuICBkZWVwc2Vla19tYXhfdG9rZW5zOiBudW1iZXI7XG4gIGRlZXBzZWVrX3RlbXBlcmF0dXJlOiBudW1iZXI7XG4gIGRlZmF1bHRfcHJvdmlkZXI6IHN0cmluZztcbiAgYWlfZW5hYmxlZDogYm9vbGVhbjtcbiAgcmF0ZV9saW1pdF9wZXJfbWludXRlOiBudW1iZXI7XG4gIHJhdGVfbGltaXRfcGVyX2hvdXI6IG51bWJlcjtcbiAgc3lzdGVtX3Byb21wdDogc3RyaW5nO1xuICBwcm9wZXJ0eV9zdWdnZXN0aW9uc19lbmFibGVkOiBib29sZWFuO1xuICBwcm9wZXJ0eV9zdWdnZXN0aW9uc19jb3VudDogbnVtYmVyO1xuICBjb250YWN0X2luZm9faW5fcmVzcG9uc2VzOiBib29sZWFuO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG4vLyBEYXRhYmFzZSBjbGFzcyB3aXRoIE15U1FMIG9wZXJhdGlvbnNcbmV4cG9ydCBjbGFzcyBNeVNRTERhdGFiYXNlIHtcbiAgLy8gVGVzdCBkYXRhYmFzZSBjb25uZWN0aW9uXG4gIHN0YXRpYyBhc3luYyB0ZXN0Q29ubmVjdGlvbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5waW5nKCk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRGF0YWJhc2UgY29ubmVjdGlvbiBzdWNjZXNzZnVsJyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIERhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbnVwIGRhdGFiYXNlIGNvbm5lY3Rpb25zXG4gIHN0YXRpYyBhc3luYyBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwb29sLmVuZCgpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBjb25uZWN0aW9ucyBjbG9zZWQnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNsb3NpbmcgZGF0YWJhc2UgY29ubmVjdGlvbnM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyaWMgcXVlcnkgZXhlY3V0aW9uIG1ldGhvZFxuICBzdGF0aWMgYXN5bmMgZXhlY3V0ZVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIHBhcmFtczogYW55W10gPSBbXSk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBleGVjdXRpbmcgcXVlcnk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gUXVlcnkgbWV0aG9kIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gIHN0YXRpYyBhc3luYyBxdWVyeShzcWw6IHN0cmluZywgcGFyYW1zOiBhbnlbXSA9IFtdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUXVlcnkoc3FsLCBwYXJhbXMpO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSBjb25uZWN0aW9uIGFuZCB0YWJsZXNcbiAgc3RhdGljIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRlc3QgY29ubmVjdGlvbiBmaXJzdFxuICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSBhd2FpdCB0aGlzLnRlc3RDb25uZWN0aW9uKCk7XG4gICAgICBpZiAoIWlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSB0YWJsZXNcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemVUYWJsZXMoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgbWlzc2luZyBjb2x1bW5zIHRvIHNpdGVfc2V0dGluZ3MgdGFibGVcbiAgc3RhdGljIGFzeW5jIGFkZE1pc3NpbmdTb2NpYWxDb2x1bW5zKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGNvbHVtbnMgZXhpc3QgYW5kIGFkZCB0aGVtIGlmIHRoZXkgZG9uJ3RcbiAgICAgIGNvbnN0IGFsdGVyVGFibGVTUUwgPSBgXG4gICAgICAgIEFMVEVSIFRBQkxFIHNpdGVfc2V0dGluZ3MgXG4gICAgICAgIEFERCBDT0xVTU4gSUYgTk9UIEVYSVNUUyBzb2NpYWxfdGlrdG9rIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgQUREIENPTFVNTiBJRiBOT1QgRVhJU1RTIHNvY2lhbF9zbmFwY2hhdCBWQVJDSEFSKDUwMCksXG4gICAgICAgIEFERCBDT0xVTU4gSUYgTk9UIEVYSVNUUyBzb2NpYWxfdGVsZWdyYW0gVkFSQ0hBUig1MDApLFxuICAgICAgICBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgc29jaWFsX3doYXRzYXBwIFZBUkNIQVIoNTAwKTtcbiAgICAgIGA7XG4gICAgICBcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShhbHRlclRhYmxlU1FMKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBNaXNzaW5nIHNvY2lhbCBtZWRpYSBjb2x1bW5zIGFkZGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhZGRpbmcgbWlzc2luZyBjb2x1bW5zOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBJbml0aWFsaXplIGRhdGFiYXNlIHRhYmxlc1xuICBzdGF0aWMgYXN5bmMgaW5pdGlhbGl6ZVRhYmxlcygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgdGFibGVzIGlmIHRoZXkgZG9uJ3QgZXhpc3RcbiAgICAgIGNvbnN0IGNyZWF0ZVRhYmxlc1NRTCA9IGBcbiAgICAgICAgLS0gVXNlcnMgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcnMgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBlbWFpbCBWQVJDSEFSKDI1NSkgVU5JUVVFIE5PVCBOVUxMLFxuICAgICAgICAgIHBhc3N3b3JkX2hhc2ggVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIHJvbGUgRU5VTSgnYWRtaW4nLCAnZWRpdG9yJywgJ3ZpZXdlcicpIERFRkFVTFQgJ3ZpZXdlcicsXG4gICAgICAgICAgbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgbGFzdF9sb2dpbiBUSU1FU1RBTVAgTlVMTCxcbiAgICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIGlzX2FjdGl2ZSBCT09MRUFOIERFRkFVTFQgVFJVRVxuICAgICAgICApO1xuXG4gICAgICAgIC0tIERldmVsb3BlcnMgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZGV2ZWxvcGVycyAoXG4gICAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIG5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIHNsdWcgVkFSQ0hBUigyNTUpIFVOSVFVRSBOT1QgTlVMTCxcbiAgICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgICAgIGxvZ28gVkFSQ0hBUig1MDApLFxuICAgICAgICAgIGVzdGFibGlzaGVkIFZBUkNIQVIoNTApLFxuICAgICAgICAgIHByb2plY3RzX2NvdW50IElOVCBERUZBVUxUIDAsXG4gICAgICAgICAgbG9jYXRpb24gVkFSQ0hBUigyNTUpLFxuICAgICAgICAgIHdlYnNpdGUgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHBob25lIFZBUkNIQVIoNTApLFxuICAgICAgICAgIGVtYWlsIFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICBzdGF0dXMgRU5VTSgnQWN0aXZlJywgJ0luYWN0aXZlJykgREVGQVVMVCAnQWN0aXZlJyxcbiAgICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICAgICk7XG5cbiAgICAgICAgLS0gUHJvamVjdHMgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcHJvamVjdHMgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBuYW1lIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICBzbHVnIFZBUkNIQVIoMjU1KSBVTklRVUUgTk9UIE5VTEwsXG4gICAgICAgICAgZGV2ZWxvcGVyIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICBsb2NhdGlvbiBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgcHJpY2UgVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxuICAgICAgICAgIHN0YXR1cyBFTlVNKCdBdmFpbGFibGUnLCAnU29sZCcsICdVbmRlciBDb25zdHJ1Y3Rpb24nKSBERUZBVUxUICdBdmFpbGFibGUnLFxuICAgICAgICAgIGJlZHJvb21zIElOVCBOT1QgTlVMTCxcbiAgICAgICAgICBiYXRocm9vbXMgSU5UIE5PVCBOVUxMLFxuICAgICAgICAgIHN0dWRpb3MgSU5UIERFRkFVTFQgMCxcbiAgICAgICAgICBhcmVhIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcbiAgICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgICAgIGltYWdlIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBnYWxsZXJ5IEpTT04sXG4gICAgICAgICAgY29vcmRpbmF0ZXNfbGF0IERFQ0lNQUwoMTAsIDgpLFxuICAgICAgICAgIGNvb3JkaW5hdGVzX2xuZyBERUNJTUFMKDExLCA4KSxcbiAgICAgICAgICBmZWF0dXJlcyBKU09OLFxuICAgICAgICAgIGFtZW5pdGllcyBKU09OLFxuICAgICAgICAgIHByZXNlbnRhdGlvbl9maWxlIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBwcmVzZW50YXRpb25fdXJsIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBwcmVzZW50YXRpb25fc2xpZGVzIEpTT04sXG4gICAgICAgICAgcHJlc2VudGF0aW9uX2FuaW1hdGlvbnMgSlNPTixcbiAgICAgICAgICBwcmVzZW50YXRpb25fZWZmZWN0cyBKU09OLFxuICAgICAgICAgIG1lZGlhX2ZpbGVzIEpTT04sXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgICApO1xuXG4gICAgICAgIC0tIEhlcm8gc2VjdGlvbnMgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaGVyb19zZWN0aW9ucyAoXG4gICAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIHBhZ2UgVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxuICAgICAgICAgIHRpdGxlIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICBzdWJ0aXRsZSBWQVJDSEFSKDI1NSksXG4gICAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgICAgICBiYWNrZ3JvdW5kX2ltYWdlIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBjdGFfdGV4dCBWQVJDSEFSKDEwMCksXG4gICAgICAgICAgY3RhX2xpbmsgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIGlzX2FjdGl2ZSBCT09MRUFOIERFRkFVTFQgVFJVRSxcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgICApO1xuXG4gICAgICAgIC0tIEFydGljbGVzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGFydGljbGVzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgdGl0bGUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIHNsdWcgVkFSQ0hBUigyNTUpIFVOSVFVRSBOT1QgTlVMTCxcbiAgICAgICAgICBjb250ZW50IExPTkdURVhULFxuICAgICAgICAgIGV4Y2VycHQgVEVYVCxcbiAgICAgICAgICBmZWF0dXJlZF9pbWFnZSBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgYXV0aG9yIFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICBzdGF0dXMgRU5VTSgnZHJhZnQnLCAncHVibGlzaGVkJywgJ2FyY2hpdmVkJykgREVGQVVMVCAnZHJhZnQnLFxuICAgICAgICAgIHB1Ymxpc2hlZF9hdCBUSU1FU1RBTVAgTlVMTCxcbiAgICAgICAgICB0YWdzIEpTT04sXG4gICAgICAgICAgY2F0ZWdvcnkgVkFSQ0hBUigxMDApLFxuICAgICAgICAgIHJlYWRfdGltZSBJTlQgREVGQVVMVCA1LFxuICAgICAgICAgIG1ldGFfZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgICAgICBmZWF0dXJlZCBCT09MRUFOIERFRkFVTFQgRkFMU0UsXG4gICAgICAgICAgdmlld3NfY291bnQgSU5UIERFRkFVTFQgMCxcbiAgICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICAgICk7XG5cbiAgICAgICAgLS0gTWVkaWEgZmlsZXMgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgbWVkaWFfZmlsZXMgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBmaWxlbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgb3JpZ2luYWxfbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgZmlsZV9wYXRoIFZBUkNIQVIoNTAwKSBOT1QgTlVMTCxcbiAgICAgICAgICBmaWxlX3NpemUgQklHSU5UIE5PVCBOVUxMLFxuICAgICAgICAgIG1pbWVfdHlwZSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwsXG4gICAgICAgICAgYWx0X3RleHQgVkFSQ0hBUigyNTUpLFxuICAgICAgICAgIHVwbG9hZGVkX2J5IElOVCxcbiAgICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIEZPUkVJR04gS0VZICh1cGxvYWRlZF9ieSkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMXG4gICAgICAgICk7XG5cbiAgICAgICAgLS0gU3lzdGVtIGxvZ3MgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc3lzdGVtX2xvZ3MgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICB0aW1lc3RhbXAgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICAgICAgbGV2ZWwgRU5VTSgnaW5mbycsICd3YXJuaW5nJywgJ2Vycm9yJywgJ3N1Y2Nlc3MnKSBOT1QgTlVMTCxcbiAgICAgICAgICBjYXRlZ29yeSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwsXG4gICAgICAgICAgbWVzc2FnZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICAgIHVzZXJfaWQgSU5ULFxuICAgICAgICAgIGlwX2FkZHJlc3MgVkFSQ0hBUig0NSksXG4gICAgICAgICAgdXNlcl9hZ2VudCBURVhULFxuICAgICAgICAgIGRldGFpbHMgSlNPTixcbiAgICAgICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMXG4gICAgICAgICk7XG5cbiAgICAgICAgLS0gQ2hhdCBtZXNzYWdlcyB0YWJsZVxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjaGF0X21lc3NhZ2VzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgc2Vzc2lvbl9pZCBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgbWVzc2FnZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICAgIHJlc3BvbnNlIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgICAgdGltZXN0YW1wIFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIHJlc3BvbnNlX3RpbWUgSU5UIE5PVCBOVUxMLFxuICAgICAgICAgIHVzZXJfaXAgVkFSQ0hBUig0NSlcbiAgICAgICAgKTtcblxuICAgICAgICAtLSBQcmVzZW50YXRpb24gc2xpZGVzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHByZXNlbnRhdGlvbl9zbGlkZXMgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBwcm9qZWN0X2lkIElOVCBOT1QgTlVMTCxcbiAgICAgICAgICBzbGlkZV9udW1iZXIgSU5UIE5PVCBOVUxMLFxuICAgICAgICAgIHRpdGxlIFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICBjb250ZW50IFRFWFQsXG4gICAgICAgICAgaW1hZ2VfdXJsIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBhbmltYXRpb25fdHlwZSBWQVJDSEFSKDEwMCksXG4gICAgICAgICAgZHVyYXRpb24gSU5UIERFRkFVTFQgNTAwMCxcbiAgICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIEZPUkVJR04gS0VZIChwcm9qZWN0X2lkKSBSRUZFUkVOQ0VTIHByb2plY3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICAgICApO1xuXG4gICAgICAgIC0tIFNpdGUgc2V0dGluZ3MgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc2l0ZV9zZXR0aW5ncyAoXG4gICAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIHNpdGVfdGl0bGUgVkFSQ0hBUigyNTUpIERFRkFVTFQgJ1ByZW1pdW0gQ2hvaWNlJyxcbiAgICAgICAgICBzaXRlX2Rlc2NyaXB0aW9uIFRFWFQgREVGQVVMVCAnWW91ciB0cnVzdGVkIHBhcnRuZXIgaW4gRHViYWkgcmVhbCBlc3RhdGUnLFxuICAgICAgICAgIHNpdGVfbG9nbyBWQVJDSEFSKDUwMCkgREVGQVVMVCAnL2xvZ28ucG5nJyxcbiAgICAgICAgICBzaXRlX2Zhdmljb24gVkFSQ0hBUig1MDApIERFRkFVTFQgJy9mYXZpY29uLmljbycsXG4gICAgICAgICAgY29udGFjdF9lbWFpbCBWQVJDSEFSKDI1NSkgREVGQVVMVCAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgIGNvbnRhY3RfcGhvbmUgVkFSQ0hBUig1MCkgREVGQVVMVCBOVUxMLFxuICAgIGNvbnRhY3RfYWRkcmVzcyBURVhUIERFRkFVTFQgJ0R1YmFpLCBVQUUnLFxuICAgIGNvbnRhY3Rfd2hhdHNhcHAgVkFSQ0hBUig1MCkgREVGQVVMVCBOVUxMLFxuICAgICAgICAgIHNvY2lhbF9mYWNlYm9vayBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgc29jaWFsX2luc3RhZ3JhbSBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgc29jaWFsX3R3aXR0ZXIgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNvY2lhbF9saW5rZWRpbiBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgc29jaWFsX3lvdXR1YmUgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNvY2lhbF90aWt0b2sgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNvY2lhbF9zbmFwY2hhdCBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgc29jaWFsX3RlbGVncmFtIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBzb2NpYWxfd2hhdHNhcHAgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNlb19tZXRhX3RpdGxlIFZBUkNIQVIoMjU1KSBERUZBVUxUICdQcmVtaXVtIENob2ljZSAtIER1YmFpIFJlYWwgRXN0YXRlJyxcbiAgICAgICAgICBzZW9fbWV0YV9kZXNjcmlwdGlvbiBURVhUIERFRkFVTFQgJ0Rpc2NvdmVyIHByZW1pdW0gcmVhbCBlc3RhdGUgb3Bwb3J0dW5pdGllcyBpbiBEdWJhaSB3aXRoIFByZW1pdW0gQ2hvaWNlLiBZb3VyIHRydXN0ZWQgcGFydG5lciBmb3IgbHV4dXJ5IHByb3BlcnRpZXMgYW5kIGludmVzdG1lbnQgc29sdXRpb25zLicsXG4gICAgICAgICAgc2VvX2tleXdvcmRzIFRFWFQgREVGQVVMVCAnRHViYWkgcmVhbCBlc3RhdGUsIGx1eHVyeSBwcm9wZXJ0aWVzLCBpbnZlc3RtZW50LCBQcmVtaXVtIENob2ljZScsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX2Jsb2cgQk9PTEVBTiBERUZBVUxUIFRSVUUsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX25ld3NsZXR0ZXIgQk9PTEVBTiBERUZBVUxUIFRSVUUsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX3doYXRzYXBwIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxuICAgICAgICAgIGZlYXR1cmVzX2VuYWJsZV9saXZlX2NoYXQgQk9PTEVBTiBERUZBVUxUIEZBTFNFLFxuICAgICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICAgICAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgICAgKTtcblxuICAgICAgICAtLSBQcm9qZWN0IG1lZGlhIHRhYmxlIGZvciBlbmhhbmNlZCBtZWRpYSBtYW5hZ2VtZW50XG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHByb2plY3RfbWVkaWEgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBwcm9qZWN0X2lkIElOVCBOT1QgTlVMTCxcbiAgICAgICAgICBmaWxlX25hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIGZpbGVfcGF0aCBWQVJDSEFSKDUwMCkgTk9UIE5VTEwsXG4gICAgICAgICAgZmlsZV9zaXplIEJJR0lOVCBOT1QgTlVMTCxcbiAgICAgICAgICBtZWRpYV90eXBlIEVOVU0oJ2ltYWdlJywgJ3ZpZGVvJywgJ2FuaW1hdGlvbicsICdwZGYnLCAncHB0eCcpIE5PVCBOVUxMLFxuICAgICAgICAgIGZpbGVfZXh0ZW5zaW9uIFZBUkNIQVIoMTApIE5PVCBOVUxMLFxuICAgICAgICAgIHVwbG9hZF9kYXRlIFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIEZPUkVJR04gS0VZIChwcm9qZWN0X2lkKSBSRUZFUkVOQ0VTIHByb2plY3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICAgICApO1xuXG4gICAgICAgIC0tIEhlcm8gaW1hZ2VzIHRhYmxlIGZvciBsYW5kaW5nIHBhZ2UgY2Fyb3VzZWxcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaGVyb19pbWFnZXMgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICB1cmwgVkFSQ0hBUig1MDApIE5PVCBOVUxMLFxuICAgICAgICAgIHRpdGxlIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgICAgIGFsdF90ZXh0IFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICBpc19hY3RpdmUgQk9PTEVBTiBERUZBVUxUIFRSVUUsXG4gICAgICAgICAgb3JkZXJfaW5kZXggSU5UIERFRkFVTFQgMCxcbiAgICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIElOREVYIGlkeF9hY3RpdmVfb3JkZXIgKGlzX2FjdGl2ZSwgb3JkZXJfaW5kZXgpXG4gICAgICAgICk7XG5cbiAgICAgICAgLS0gQUkgQVBJIHNldHRpbmdzIHRhYmxlIGZvciBBSSBpbnRlZ3JhdGlvbiBjb250cm9sXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGFpX2FwaV9zZXR0aW5ncyAoXG4gICAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIG9wZW5haV9hcGlfa2V5IFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICBvcGVuYWlfbW9kZWwgVkFSQ0hBUigxMDApIERFRkFVTFQgJ2dwdC0zLjUtdHVyYm8nLFxuICAgICAgICAgIG9wZW5haV9tYXhfdG9rZW5zIElOVCBERUZBVUxUIDEwMDAsXG4gICAgICAgICAgb3BlbmFpX3RlbXBlcmF0dXJlIERFQ0lNQUwoMywyKSBERUZBVUxUIDAuNzAsXG4gICAgICAgICAgZ29vZ2xlX2FwaV9rZXkgVkFSQ0hBUigyNTUpLFxuICAgICAgICAgIGdvb2dsZV9tb2RlbCBWQVJDSEFSKDEwMCkgREVGQVVMVCAnZ2VtaW5pLXBybycsXG4gICAgICAgICAgZ29vZ2xlX21heF90b2tlbnMgSU5UIERFRkFVTFQgMTAwMCxcbiAgICAgICAgICBnb29nbGVfdGVtcGVyYXR1cmUgREVDSU1BTCgzLDIpIERFRkFVTFQgMC43MCxcbiAgICAgICAgICBhbnRocm9waWNfYXBpX2tleSBWQVJDSEFSKDI1NSksXG4gICAgICAgICAgYW50aHJvcGljX21vZGVsIFZBUkNIQVIoMTAwKSBERUZBVUxUICdjbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjknLFxuICAgICAgICAgIGFudGhyb3BpY19tYXhfdG9rZW5zIElOVCBERUZBVUxUIDEwMDAsXG4gICAgICAgICAgYW50aHJvcGljX3RlbXBlcmF0dXJlIERFQ0lNQUwoMywyKSBERUZBVUxUIDAuNzAsXG4gICAgICAgICAgZGVmYXVsdF9wcm92aWRlciBFTlVNKCdvcGVuYWknLCAnZ29vZ2xlJywgJ2FudGhyb3BpYycpIERFRkFVTFQgJ29wZW5haScsXG4gICAgICAgICAgYWlfZW5hYmxlZCBCT09MRUFOIERFRkFVTFQgVFJVRSxcbiAgICAgICAgICByYXRlX2xpbWl0X3Blcl9taW51dGUgSU5UIERFRkFVTFQgMTAsXG4gICAgICAgICAgcmF0ZV9saW1pdF9wZXJfaG91ciBJTlQgREVGQVVMVCAxMDAsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgICApO1xuICAgICAgYDtcblxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKGNyZWF0ZVRhYmxlc1NRTCk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRGF0YWJhc2UgdGFibGVzIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSB0YWJsZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEluc2VydCBkZWZhdWx0IGFkbWluIHVzZXJcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZURlZmF1bHRBZG1pbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBhZG1pbiB1c2VyIGFscmVhZHkgZXhpc3RzXG4gICAgICBjb25zdCBbZXhpc3RpbmdVc2Vyc10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICdTRUxFQ1QgaWQgRlJPTSB1c2VycyBXSEVSRSByb2xlID0gXCJhZG1pblwiJ1xuICAgICAgKTtcblxuICAgICAgaWYgKChleGlzdGluZ1VzZXJzIGFzIGFueVtdKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gQ3JlYXRlIGRlZmF1bHQgYWRtaW4gdXNlciB3aXRoIHlvdXIgY3JlZGVudGlhbHNcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBJTlNFUlQgSU5UTyB1c2VycyAoZW1haWwsIHBhc3N3b3JkX2hhc2gsIHJvbGUsIG5hbWUsIGlzX2FjdGl2ZSkgXG4gICAgICAgICAgIFZBTFVFUyAoPywgPywgJ2FkbWluJywgJ0FkbWluJywgVFJVRSlgLFxuICAgICAgICAgIFsnYWRtaW5AZXhhbXBsZS5jb20nLCAnQWJlZHlyNTcuLiddIC8vIEluIHByb2R1Y3Rpb24sIGhhc2ggdGhpcyBwYXNzd29yZCBhbmQgY2hhbmdlIGVtYWlsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRGVmYXVsdCBhZG1pbiB1c2VyIGNyZWF0ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8gQWRtaW4gdXNlciBhbHJlYWR5IGV4aXN0cycpO1xuICAgICAgfVxuXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGNyZWF0ZSBhZG1pbiB1c2VyOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgYXJ0aWNsZXMgdGFibGUgd2l0aCBtaXNzaW5nIGNvbHVtbnNcbiAgc3RhdGljIGFzeW5jIHVwZGF0ZUFydGljbGVzVGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgY29sdW1ucyBleGlzdCBhbmQgYWRkIHRoZW0gaWYgdGhleSBkb24ndFxuICAgICAgY29uc3QgY29sdW1uc1RvQWRkID0gW1xuICAgICAgICB7IG5hbWU6ICd0YWdzJywgZGVmaW5pdGlvbjogJ0pTT04nIH0sXG4gICAgICAgIHsgbmFtZTogJ2NhdGVnb3J5JywgZGVmaW5pdGlvbjogJ1ZBUkNIQVIoMTAwKScgfSxcbiAgICAgICAgeyBuYW1lOiAncmVhZF90aW1lJywgZGVmaW5pdGlvbjogJ0lOVCBERUZBVUxUIDUnIH0sXG4gICAgICAgIHsgbmFtZTogJ21ldGFfZGVzY3JpcHRpb24nLCBkZWZpbml0aW9uOiAnVEVYVCcgfSxcbiAgICAgICAgeyBuYW1lOiAnZmVhdHVyZWQnLCBkZWZpbml0aW9uOiAnQk9PTEVBTiBERUZBVUxUIEZBTFNFJyB9LFxuICAgICAgICB7IG5hbWU6ICd2aWV3c19jb3VudCcsIGRlZmluaXRpb246ICdJTlQgREVGQVVMVCAwJyB9XG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IGNvbHVtbiBvZiBjb2x1bW5zVG9BZGQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBDaGVjayBpZiBjb2x1bW4gZXhpc3RzXG4gICAgICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICAgYFNFTEVDVCBDT0xVTU5fTkFNRSBGUk9NIElORk9STUFUSU9OX1NDSEVNQS5DT0xVTU5TIFxuICAgICAgICAgICAgIFdIRVJFIFRBQkxFX1NDSEVNQSA9IERBVEFCQVNFKCkgQU5EIFRBQkxFX05BTUUgPSAnYXJ0aWNsZXMnIEFORCBDT0xVTU5fTkFNRSA9ID9gLFxuICAgICAgICAgICAgW2NvbHVtbi5uYW1lXVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKChyb3dzIGFzIGFueVtdKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIENvbHVtbiBkb2Vzbid0IGV4aXN0LCBhZGQgaXRcbiAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShgQUxURVIgVEFCTEUgYXJ0aWNsZXMgQUREIENPTFVNTiAke2NvbHVtbi5uYW1lfSAke2NvbHVtbi5kZWZpbml0aW9ufWApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBBZGRlZCBjb2x1bW4gJyR7Y29sdW1uLm5hbWV9JyB0byBhcnRpY2xlcyB0YWJsZWApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4oS577iPIENvbHVtbiAnJHtjb2x1bW4ubmFtZX0nIGFscmVhZHkgZXhpc3RzIGluIGFydGljbGVzIHRhYmxlYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gYWRkIGNvbHVtbiAnJHtjb2x1bW4ubmFtZX0nOmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHVwZGF0ZSBhcnRpY2xlcyB0YWJsZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvamVjdHMgQ1JVRCBvcGVyYXRpb25zXG4gIHN0YXRpYyBhc3luYyBnZXRQcm9qZWN0cygpOiBQcm9taXNlPFByb2plY3RbXT4ge1xuICAgIGxldCBjb25uZWN0aW9uO1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UlyBBdHRlbXB0aW5nIHRvIGdldCBkYXRhYmFzZSBjb25uZWN0aW9uLi4uJyk7XG4gICAgICBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGNvbm5lY3Rpb24gYWNxdWlyZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHByb2plY3RzIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQycpO1xuICAgICAgY29uc29sZS5sb2coYPCfk4ogUmV0cmlldmVkICR7KHJvd3MgYXMgYW55W10pLmxlbmd0aH0gcHJvamVjdHMgZnJvbSBkYXRhYmFzZWApO1xuICAgICAgXG4gICAgICAvLyBQYXJzZSBKU09OIGZpZWxkcyBmb3IgZWFjaCBwcm9qZWN0XG4gICAgICBjb25zdCBwYXJzZUpzb25GaWVsZCA9IChmaWVsZDogYW55KSA9PiB7XG4gICAgICAgIGlmICghZmllbGQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShmaWVsZCk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQuc3BsaXQoJywnKS5tYXAoKGl0ZW06IHN0cmluZykgPT4gaXRlbS50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcHJvamVjdHMgPSAocm93cyBhcyBQcm9qZWN0W10pLm1hcChwcm9qZWN0ID0+ICh7XG4gICAgICAgIC4uLnByb2plY3QsXG4gICAgICAgIGdhbGxlcnk6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QuZ2FsbGVyeSksXG4gICAgICAgIGZlYXR1cmVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmZlYXR1cmVzKSxcbiAgICAgICAgYW1lbml0aWVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmFtZW5pdGllcyksXG4gICAgICAgIHByb3BlcnR5X3R5cGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnByb3BlcnR5X3R5cGVzKSxcbiAgICAgICAgc3ViX3Byb2plY3RzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnN1Yl9wcm9qZWN0cyksXG4gICAgICAgIG1lZGlhX2ZpbGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLm1lZGlhX2ZpbGVzKSxcbiAgICAgICAgdW5pdHM6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QudW5pdHMpLFxuICAgICAgICBwcm9wZXJ0eV90eXBlOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LnByb3BlcnR5X3R5cGUpXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUHJvamVjdHMgcGFyc2VkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgcmV0dXJuIHByb2plY3RzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6JywgZXJyb3IpO1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnbWF4X3VzZXJfY29ubmVjdGlvbnMnKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfwn5qrIERhdGFiYXNlIGNvbm5lY3Rpb24gbGltaXQgZXhjZWVkZWQuIENvbnNpZGVyIHJlZHVjaW5nIGNvbmN1cnJlbnQgY29ubmVjdGlvbnMuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflJMgRGF0YWJhc2UgY29ubmVjdGlvbiByZWxlYXNlZCcpO1xuICAgICAgICB9IGNhdGNoIChyZWxlYXNlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfimqDvuI8gRXJyb3IgcmVsZWFzaW5nIGNvbm5lY3Rpb246JywgcmVsZWFzZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRQcm9qZWN0c0J5RGV2ZWxvcGVyKGRldmVsb3Blck5hbWU6IHN0cmluZyk6IFByb21pc2U8UHJvamVjdFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwcm9qZWN0cyBXSEVSRSBkZXZlbG9wZXIgPSA/IE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQycsIFtkZXZlbG9wZXJOYW1lXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgSlNPTiBmaWVsZHMgZm9yIGVhY2ggcHJvamVjdFxuICAgICAgY29uc3QgcGFyc2VKc29uRmllbGQgPSAoZmllbGQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIWZpZWxkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZmllbGQpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnNwbGl0KCcsJykubWFwKChpdGVtOiBzdHJpbmcpID0+IGl0ZW0udHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWVsZDtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAocm93cyBhcyBQcm9qZWN0W10pLm1hcChwcm9qZWN0ID0+ICh7XG4gICAgICAgIC4uLnByb2plY3QsXG4gICAgICAgIGdhbGxlcnk6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QuZ2FsbGVyeSksXG4gICAgICAgIGZlYXR1cmVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmZlYXR1cmVzKSxcbiAgICAgICAgYW1lbml0aWVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmFtZW5pdGllcyksXG4gICAgICAgIHByb3BlcnR5X3R5cGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnByb3BlcnR5X3R5cGVzKSxcbiAgICAgICAgc3ViX3Byb2plY3RzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnN1Yl9wcm9qZWN0cyksXG4gICAgICAgIG1lZGlhX2ZpbGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLm1lZGlhX2ZpbGVzKSxcbiAgICAgICAgdW5pdHM6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QudW5pdHMpLFxuICAgICAgICBwcm9wZXJ0eV90eXBlOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LnByb3BlcnR5X3R5cGUpXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzIGJ5IGRldmVsb3BlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFByb2plY3RCeVNsdWcoc2x1Zzogc3RyaW5nKTogUHJvbWlzZTxQcm9qZWN0IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBwcm9qZWN0IGRhdGFcbiAgICAgIGNvbnN0IFtwcm9qZWN0Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcHJvamVjdHMgV0hFUkUgc2x1ZyA9ID8nLCBbc2x1Z10pO1xuICAgICAgY29uc3QgcHJvamVjdHMgPSBwcm9qZWN0Um93cyBhcyBQcm9qZWN0W107XG4gICAgICBcbiAgICAgIGlmIChwcm9qZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdHNbMF07XG4gICAgICBcbiAgICAgIC8vIEdldCBwcmVzZW50YXRpb24gc2xpZGVzIGZvciB0aGlzIHByb2plY3RcbiAgICAgIGNvbnN0IFtzbGlkZVJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUICogRlJPTSBwcmVzZW50YXRpb25fc2xpZGVzIFdIRVJFIHByb2plY3RfaWQgPSA/IE9SREVSIEJZIHNsaWRlX251bWJlciBBU0MnLFxuICAgICAgICBbcHJvamVjdC5pZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgXG4gICAgICAvLyBQYXJzZSBKU09OIGZpZWxkcyBhbmQgYWRkIHByZXNlbnRhdGlvbiBzbGlkZXNcbiAgICAgIGNvbnN0IHBhcnNlSnNvbkZpZWxkID0gKGZpZWxkOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKCFmaWVsZCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGZpZWxkKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC5zcGxpdCgnLCcpLm1hcCgoaXRlbTogc3RyaW5nKSA9PiBpdGVtLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgICB9O1xuXG4gICAgICAvLyBQYXJzZSBjb2xvciBwYWxldHRlIHNhZmVseVxuICAgICAgY29uc3QgcGFyc2VDb2xvclBhbGV0dGUgPSAoY29sb3JQYWxldHRlOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKCFjb2xvclBhbGV0dGUpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGNvbG9yUGFsZXR0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29sb3JQYWxldHRlKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JQYWxldHRlO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJvamVjdCxcbiAgICAgICAgZ2FsbGVyeTogcGFyc2VKc29uRmllbGQocHJvamVjdC5nYWxsZXJ5KSxcbiAgICAgICAgZmVhdHVyZXM6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QuZmVhdHVyZXMpLFxuICAgICAgICBhbWVuaXRpZXM6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QuYW1lbml0aWVzKSxcbiAgICAgICAgcHJvcGVydHlfdHlwZXM6IHBhcnNlSnNvbkZpZWxkKChwcm9qZWN0IGFzIGFueSkucHJvcGVydHlfdHlwZXMpLFxuICAgICAgICBzdWJfcHJvamVjdHM6IHBhcnNlSnNvbkZpZWxkKChwcm9qZWN0IGFzIGFueSkuc3ViX3Byb2plY3RzKSxcbiAgICAgICAgbWVkaWFfZmlsZXM6IHBhcnNlSnNvbkZpZWxkKChwcm9qZWN0IGFzIGFueSkubWVkaWFfZmlsZXMpLFxuICAgICAgICBwcmVzZW50YXRpb25fc2xpZGVzOiBzbGlkZVJvd3MgYXMgUHJlc2VudGF0aW9uU2xpZGVbXVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdCBieSBzbHVnOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVQcm9qZWN0KHByb2plY3Q6IE9taXQ8UHJvamVjdCwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4pOiBQcm9taXNlPFByb2plY3QgfCBudWxsPiB7XG4gICAgbGV0IGNvbm5lY3Rpb247XG4gICAgdHJ5IHtcbiAgICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgaWYgKCFwcm9qZWN0Lm5hbWUgfHwgcHJvamVjdC5uYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9qZWN0IG5hbWUgaXMgcmVxdWlyZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmICghcHJvamVjdC5kZXNjcmlwdGlvbiB8fCBwcm9qZWN0LmRlc2NyaXB0aW9uLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9qZWN0IGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5SXIEdldHRpbmcgZGF0YWJhc2UgY29ubmVjdGlvbiBmb3IgcHJvamVjdCBjcmVhdGlvbi4uLicpO1xuICAgICAgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBjb25uZWN0aW9uIGFjcXVpcmVkIGZvciBwcm9qZWN0IGNyZWF0aW9uJyk7XG4gICAgICBcbiAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IHVuZGVmaW5lZCB0byBudWxsXG4gICAgICBjb25zdCB0b051bGxJZlVuZGVmaW5lZCA9ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlO1xuICAgICAgXG4gICAgICAvLyBFbnN1cmUgc2x1ZyBpcyB1bmlxdWUgYnkgYWRkaW5nIHRpbWVzdGFtcCBpZiBuZWVkZWRcbiAgICAgIGxldCBmaW5hbFNsdWcgPSBwcm9qZWN0LnNsdWcgfHwgJyc7XG4gICAgICBcbiAgICAgIC8vIEFsd2F5cyBjaGVjayBpZiBzbHVnIGFscmVhZHkgZXhpc3RzIGFuZCBtYWtlIGl0IHVuaXF1ZVxuICAgICAgY29uc3QgW2V4aXN0aW5nUm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBpZCBGUk9NIHByb2plY3RzIFdIRVJFIHNsdWcgPSA/JywgW2ZpbmFsU2x1Z10pO1xuICAgICAgaWYgKChleGlzdGluZ1Jvd3MgYXMgYW55W10pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZmluYWxTbHVnID0gYCR7ZmluYWxTbHVnfS0ke0RhdGUubm93KCl9YDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBJTlNFUlQgSU5UTyBwcm9qZWN0cyAobmFtZSwgc2x1ZywgZGV2ZWxvcGVyLCBkZXZlbG9wZXJfaWQsIGxvY2F0aW9uLCBwcmljZSwgc3RhdHVzLCBiZWRyb29tcywgYmF0aHJvb21zLCBhcmVhLCBcbiAgICAgICAgIGRlc2NyaXB0aW9uLCBpbWFnZSwgZ2FsbGVyeSwgY29vcmRpbmF0ZXNfbGF0LCBjb29yZGluYXRlc19sbmcsIGZlYXR1cmVzLCBhbWVuaXRpZXMsXG4gICAgICAgICBwcmVzZW50YXRpb25fZmlsZSwgcHJlc2VudGF0aW9uX3VybCwgcHJlc2VudGF0aW9uX3NsaWRlcywgcHJlc2VudGF0aW9uX2FuaW1hdGlvbnMsIHByZXNlbnRhdGlvbl9lZmZlY3RzLCBcbiAgICAgICAgIGZlYXR1cmVkX3ZpZGVvLCBzdHVkaW9zLCBtZWRpYV9maWxlcylcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPylgLFxuICAgICAgICBbXG4gICAgICAgICAgcHJvamVjdC5uYW1lIHx8ICcnLCBcbiAgICAgICAgICBmaW5hbFNsdWcsIFxuICAgICAgICAgIHByb2plY3QuZGV2ZWxvcGVyIHx8ICcnLCBcbiAgICAgICAgICAocHJvamVjdCBhcyBhbnkpLmRldmVsb3Blcl9pZCB8fCBudWxsLFxuICAgICAgICAgIHByb2plY3QubG9jYXRpb24gfHwgJycsIFxuICAgICAgICAgIHByb2plY3QucHJpY2UgfHwgJ1ByaWNlIG9uIFJlcXVlc3QnLFxuICAgICAgICAgIHByb2plY3Quc3RhdHVzIHx8ICdBdmFpbGFibGUnLCBcbiAgICAgICAgICBwcm9qZWN0LmJlZHJvb21zIHx8IDAsIFxuICAgICAgICAgIHByb2plY3QuYmF0aHJvb21zIHx8IDAsIFxuICAgICAgICAgIHByb2plY3QuYXJlYSB8fCAnJywgXG4gICAgICAgICAgcHJvamVjdC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBwcm9qZWN0LmltYWdlIHx8ICcnLCBcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0LmdhbGxlcnkgfHwgW10pLCBcbiAgICAgICAgICBwcm9qZWN0LmNvb3JkaW5hdGVzX2xhdCB8fCAwLCBcbiAgICAgICAgICBwcm9qZWN0LmNvb3JkaW5hdGVzX2xuZyB8fCAwLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QuZmVhdHVyZXMgfHwgW10pLCBcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0LmFtZW5pdGllcyB8fCBbXSksIFxuICAgICAgICAgIHRvTnVsbElmVW5kZWZpbmVkKHByb2plY3QucHJlc2VudGF0aW9uX2ZpbGUpLCBcbiAgICAgICAgICB0b051bGxJZlVuZGVmaW5lZChwcm9qZWN0LnByZXNlbnRhdGlvbl91cmwpLCBcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0LnByZXNlbnRhdGlvbl9zbGlkZXMgfHwge30pLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QucHJlc2VudGF0aW9uX2FuaW1hdGlvbnMgfHwge30pLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QucHJlc2VudGF0aW9uX2VmZmVjdHMgfHwge30pLFxuICAgICAgICAgIHRvTnVsbElmVW5kZWZpbmVkKHByb2plY3QuZmVhdHVyZWRfdmlkZW8pLFxuICAgICAgICAgIHByb2plY3Quc3R1ZGlvcyB8fCAwLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QubWVkaWFfZmlsZXMgfHwgW10pXG4gICAgICAgIF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGluc2VydElkID0gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZGV2ZWxvcGVyIHByb2plY3QgY291bnQgYXV0b21hdGljYWxseVxuICAgICAgaWYgKChwcm9qZWN0IGFzIGFueSkuZGV2ZWxvcGVyX2lkKSB7XG4gICAgICAgIC8vIEdldCBkZXZlbG9wZXIgbmFtZSBieSBJRCBmb3IgdGhlIGNvdW50IHVwZGF0ZVxuICAgICAgICBjb25zdCBbZGV2Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBuYW1lIEZST00gZGV2ZWxvcGVycyBXSEVSRSBpZCA9ID8nLCBbKHByb2plY3QgYXMgYW55KS5kZXZlbG9wZXJfaWRdKTtcbiAgICAgICAgaWYgKChkZXZSb3dzIGFzIGFueVtdKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVEZXZlbG9wZXJQcm9qZWN0Q291bnQoKGRldlJvd3MgYXMgYW55W10pWzBdLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb2plY3QuZGV2ZWxvcGVyKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGV2ZWxvcGVyUHJvamVjdENvdW50KHByb2plY3QuZGV2ZWxvcGVyKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgYWN0aXZpdHlcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlQWN0aXZpdHkoe1xuICAgICAgICAgIGxldmVsOiAnc3VjY2VzcycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdwcm9qZWN0JyxcbiAgICAgICAgICBtZXNzYWdlOiBgQ3JlYXRlZCBuZXcgcHJvamVjdCBcIiR7cHJvamVjdC5uYW1lfVwiIGJ5ICR7cHJvamVjdC5kZXZlbG9wZXIgfHwgJ1Vua25vd24gRGV2ZWxvcGVyJ31gLFxuICAgICAgICAgIGRldGFpbHM6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChsb2dFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9nIHByb2plY3QgY3JlYXRpb24gYWN0aXZpdHk6JywgbG9nRXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRQcm9qZWN0QnlJZChpbnNlcnRJZCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHByb2plY3Q6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgTXlTUUwgZXJyb3JzXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ0VSX0RVUF9FTlRSWScpIHtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ25hbWUnKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSBwcm9qZWN0IHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgY2hvb3NlIGEgZGlmZmVyZW50IG5hbWUuJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnc2x1ZycpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHByb2plY3Qgd2l0aCB0aGlzIFVSTCBzbHVnIGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgbW9kaWZ5IHRoZSBwcm9qZWN0IG5hbWUuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHByb2plY3Qgd2l0aCB0aGVzZSBkZXRhaWxzIGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgY2hlY2sgZm9yIGR1cGxpY2F0ZXMuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gJ0VSX0RBVEFfVE9PX0xPTkcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT25lIG9yIG1vcmUgZmllbGRzIGNvbnRhaW4gdG9vIG11Y2ggZGF0YS4gUGxlYXNlIHNob3J0ZW4geW91ciBpbnB1dC4nKTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gJ0VSX0JBRF9OVUxMX0VSUk9SJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIGZpZWxkIGlzIG1pc3NpbmcuIFBsZWFzZSBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMuJyk7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3JlcXVpcmVkJykpIHtcbiAgICAgICAgLy8gT3VyIGN1c3RvbSB2YWxpZGF0aW9uIGVycm9yc1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIHByb2plY3QuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFByb2plY3RCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPFByb2plY3QgfCBudWxsPiB7XG4gICAgbGV0IGNvbm5lY3Rpb247XG4gICAgdHJ5IHtcbiAgICAgIGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwcm9qZWN0cyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbnN0IHByb2plY3RzID0gcm93cyBhcyBQcm9qZWN0W107XG4gICAgICBcbiAgICAgIGlmIChwcm9qZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0c1swXTtcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgSlNPTiBmaWVsZHNcbiAgICAgIGNvbnN0IHBhcnNlSnNvbkZpZWxkID0gKGZpZWxkOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKCFmaWVsZCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGZpZWxkKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC5zcGxpdCgnLCcpLm1hcCgoaXRlbTogc3RyaW5nKSA9PiBpdGVtLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcm9qZWN0LFxuICAgICAgICBnYWxsZXJ5OiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmdhbGxlcnkpLFxuICAgICAgICBmZWF0dXJlczogcGFyc2VKc29uRmllbGQocHJvamVjdC5mZWF0dXJlcyksXG4gICAgICAgIGFtZW5pdGllczogcGFyc2VKc29uRmllbGQocHJvamVjdC5hbWVuaXRpZXMpLFxuICAgICAgICBwcm9wZXJ0eV90eXBlczogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5wcm9wZXJ0eV90eXBlcyksXG4gICAgICAgIHN1Yl9wcm9qZWN0czogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5zdWJfcHJvamVjdHMpLFxuICAgICAgICBtZWRpYV9maWxlczogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5tZWRpYV9maWxlcyksXG4gICAgICAgIHVuaXRzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LnVuaXRzKSxcbiAgICAgICAgcHJvcGVydHlfdHlwZTogcGFyc2VKc29uRmllbGQocHJvamVjdC5wcm9wZXJ0eV90eXBlKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvamVjdCBieSBJRDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdG8gbGV0IEFQSSBoYW5kbGUgdGhlIGVycm9yIHByb3Blcmx5XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVQcm9qZWN0KGlkOiBudW1iZXIsIHVwZGF0ZURhdGE6IFBhcnRpYWw8UHJvamVjdD4pOiBQcm9taXNlPFByb2plY3QgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHByb2plY3QgZGF0YSB0byBjaGVjayBpZiBkZXZlbG9wZXIgaXMgY2hhbmdpbmdcbiAgICAgIGNvbnN0IFtjdXJyZW50Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBkZXZlbG9wZXIgRlJPTSBwcm9qZWN0cyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gKGN1cnJlbnRSb3dzIGFzIGFueVtdKVswXTtcbiAgICAgIGNvbnN0IG9sZERldmVsb3BlciA9IGN1cnJlbnRQcm9qZWN0Py5kZXZlbG9wZXI7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIGR5bmFtaWMgdXBkYXRlIHF1ZXJ5XG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVEYXRhKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2lkJyk7XG4gICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gKHVwZGF0ZURhdGEgYXMgYW55KVtmaWVsZF07XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgVVBEQVRFIHByb2plY3RzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICBbLi4udmFsdWVzLCBpZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBwcm9qZWN0IGNvdW50cyBpZiBkZXZlbG9wZXIgY2hhbmdlZFxuICAgICAgY29uc3QgbmV3RGV2ZWxvcGVyID0gdXBkYXRlRGF0YS5kZXZlbG9wZXI7XG4gICAgICBpZiAobmV3RGV2ZWxvcGVyICYmIG5ld0RldmVsb3BlciAhPT0gb2xkRGV2ZWxvcGVyKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBjb3VudCBmb3Igb2xkIGRldmVsb3BlclxuICAgICAgICBpZiAob2xkRGV2ZWxvcGVyKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVEZXZlbG9wZXJQcm9qZWN0Q291bnQob2xkRGV2ZWxvcGVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgY291bnQgZm9yIG5ldyBkZXZlbG9wZXJcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVEZXZlbG9wZXJQcm9qZWN0Q291bnQobmV3RGV2ZWxvcGVyKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgYWN0aXZpdHlcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9qZWN0ID0gYXdhaXQgdGhpcy5nZXRQcm9qZWN0QnlJZChpZCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVEYXRhKTtcbiAgICAgICAgY29uc3QgZmllbGRUZXh0ID0gdXBkYXRlZEZpZWxkcy5sZW5ndGggPT09IDEgPyB1cGRhdGVkRmllbGRzWzBdIDogYCR7dXBkYXRlZEZpZWxkcy5sZW5ndGh9IGZpZWxkc2A7XG4gICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlQWN0aXZpdHkoe1xuICAgICAgICAgIGxldmVsOiAnaW5mbycsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdwcm9qZWN0JyxcbiAgICAgICAgICBtZXNzYWdlOiBgVXBkYXRlZCAke2ZpZWxkVGV4dH0gZm9yIHByb2plY3QgXCIke3VwZGF0ZWRQcm9qZWN0Py5uYW1lIHx8ICdVbmtub3duJ31cImAsXG4gICAgICAgICAgZGV0YWlsczogbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgcHJvamVjdCB1cGRhdGUgYWN0aXZpdHk6JywgbG9nRXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRQcm9qZWN0QnlJZChpZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2plY3Q6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZVByb2plY3QoaWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSBwcm9qZWN0IGV4aXN0cyBhbmQgZ2V0IGRldmVsb3BlciBuYW1lXG4gICAgICBjb25zdCBbY2hlY2tSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIGlkLCBkZXZlbG9wZXIgRlJPTSBwcm9qZWN0cyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGlmICgoY2hlY2tSb3dzIGFzIGFueVtdKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9qZWN0IHdpdGggaWQgJHtpZH0gbm90IGZvdW5kYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcHJvamVjdERhdGEgPSAoY2hlY2tSb3dzIGFzIGFueVtdKVswXTtcbiAgICAgIGNvbnN0IGRldmVsb3Blck5hbWUgPSBwcm9qZWN0RGF0YS5kZXZlbG9wZXI7XG4gICAgICBcbiAgICAgIC8vIEdldCBwcm9qZWN0IG5hbWUgZm9yIGxvZ2dpbmcgYmVmb3JlIGRlbGV0aW9uXG4gICAgICBjb25zdCBbcHJvamVjdFJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgbmFtZSBGUk9NIHByb2plY3RzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSAocHJvamVjdFJvd3MgYXMgYW55W10pWzBdPy5uYW1lIHx8ICdVbmtub3duJztcbiAgICAgIFxuICAgICAgLy8gRGVsZXRlIHRoZSBwcm9qZWN0IChDQVNDQURFIHdpbGwgaGFuZGxlIHJlbGF0ZWQgcmVjb3JkcylcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBwcm9qZWN0cyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGRldmVsb3BlciBwcm9qZWN0IGNvdW50IGF1dG9tYXRpY2FsbHlcbiAgICAgIGlmIChkZXZlbG9wZXJOYW1lKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGV2ZWxvcGVyUHJvamVjdENvdW50KGRldmVsb3Blck5hbWUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHJvd3Mgd2VyZSBhZmZlY3RlZFxuICAgICAgY29uc3QgYWZmZWN0ZWRSb3dzID0gKHJlc3VsdCBhcyBhbnkpLmFmZmVjdGVkUm93cztcbiAgICAgIGNvbnNvbGUubG9nKGBEZWxldGUgb3BlcmF0aW9uIGFmZmVjdGVkICR7YWZmZWN0ZWRSb3dzfSByb3dzIGZvciBwcm9qZWN0IGlkICR7aWR9YCk7XG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgYWN0aXZpdHkgaWYgZGVsZXRpb24gd2FzIHN1Y2Nlc3NmdWxcbiAgICAgIGlmIChhZmZlY3RlZFJvd3MgPiAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVBY3Rpdml0eSh7XG4gICAgICAgICAgICBsZXZlbDogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdwcm9qZWN0JyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBEZWxldGVkIHByb2plY3QgXCIke3Byb2plY3ROYW1lfVwiIGJ5ICR7ZGV2ZWxvcGVyTmFtZSB8fCAnVW5rbm93biBEZXZlbG9wZXInfWAsXG4gICAgICAgICAgICBkZXRhaWxzOiBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvZyBwcm9qZWN0IGRlbGV0aW9uIGFjdGl2aXR5OicsIGxvZ0Vycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYWZmZWN0ZWRSb3dzID4gMDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgcHJvamVjdDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gRGV2ZWxvcGVycyBDUlVEIG9wZXJhdGlvbnNcbiAgc3RhdGljIGFzeW5jIGdldERldmVsb3BlcnMoKTogUHJvbWlzZTxEZXZlbG9wZXJbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gZGV2ZWxvcGVycyBPUkRFUiBCWSBuYW1lIEFTQycpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gcm93cyBhcyBEZXZlbG9wZXJbXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGV2ZWxvcGVyczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZURldmVsb3BlcihkZXZlbG9wZXI6IE9taXQ8RGV2ZWxvcGVyLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8RGV2ZWxvcGVyIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYElOU0VSVCBJTlRPIGRldmVsb3BlcnMgKG5hbWUsIHNsdWcsIGRlc2NyaXB0aW9uLCBsb2dvLCBlc3RhYmxpc2hlZCwgcHJvamVjdHNfY291bnQsIFxuICAgICAgICAgbG9jYXRpb24sIHdlYnNpdGUsIHBob25lLCBlbWFpbCwgc3RhdHVzKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgW1xuICAgICAgICAgIGRldmVsb3Blci5uYW1lLCBkZXZlbG9wZXIuc2x1ZywgZGV2ZWxvcGVyLmRlc2NyaXB0aW9uLCBkZXZlbG9wZXIubG9nbyxcbiAgICAgICAgICBkZXZlbG9wZXIuZXN0YWJsaXNoZWQsIGRldmVsb3Blci5wcm9qZWN0c19jb3VudCwgZGV2ZWxvcGVyLmxvY2F0aW9uLFxuICAgICAgICAgIGRldmVsb3Blci53ZWJzaXRlLCBkZXZlbG9wZXIucGhvbmUsIGRldmVsb3Blci5lbWFpbCwgZGV2ZWxvcGVyLnN0YXR1c1xuICAgICAgICBdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBpbnNlcnRJZCA9IChyZXN1bHQgYXMgYW55KS5pbnNlcnRJZDtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgXG4gICAgICAvLyBMb2cgdGhlIGFjdGl2aXR5XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZUFjdGl2aXR5KHtcbiAgICAgICAgICBsZXZlbDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIGNhdGVnb3J5OiAnZGV2ZWxvcGVyJyxcbiAgICAgICAgICBtZXNzYWdlOiBgQWRkZWQgbmV3IGRldmVsb3BlciBcIiR7ZGV2ZWxvcGVyLm5hbWV9XCIgZnJvbSAke2RldmVsb3Blci5sb2NhdGlvbiB8fCAnVW5rbm93biBMb2NhdGlvbid9YCxcbiAgICAgICAgICBkZXRhaWxzOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvZyBkZXZlbG9wZXIgY3JlYXRpb24gYWN0aXZpdHk6JywgbG9nRXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXREZXZlbG9wZXJCeUlkKGluc2VydElkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZGV2ZWxvcGVyOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXREZXZlbG9wZXJCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPERldmVsb3BlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGRldmVsb3BlcnMgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnN0IGRldmVsb3BlcnMgPSByb3dzIGFzIERldmVsb3BlcltdO1xuICAgICAgcmV0dXJuIGRldmVsb3BlcnMubGVuZ3RoID4gMCA/IGRldmVsb3BlcnNbMF0gOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkZXZlbG9wZXIgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZURldmVsb3BlcihpZDogbnVtYmVyLCB1cGRhdGVEYXRhOiBQYXJ0aWFsPERldmVsb3Blcj4pOiBQcm9taXNlPERldmVsb3BlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgZGV2ZWxvcGVyIG5hbWUgZm9yIGxvZ2dpbmdcbiAgICAgIGNvbnN0IFtjdXJyZW50Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBuYW1lIEZST00gZGV2ZWxvcGVycyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbnN0IGN1cnJlbnREZXZlbG9wZXIgPSAoY3VycmVudFJvd3MgYXMgYW55W10pWzBdO1xuICAgICAgY29uc3QgZGV2ZWxvcGVyTmFtZSA9IGN1cnJlbnREZXZlbG9wZXI/Lm5hbWUgfHwgJ1Vua25vd24gRGV2ZWxvcGVyJztcbiAgICAgIFxuICAgICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmtleXModXBkYXRlRGF0YSkuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdpZCcpO1xuICAgICAgY29uc3Qgc2V0Q2xhdXNlID0gZmllbGRzLm1hcChmaWVsZCA9PiBgJHtmaWVsZH0gPSA/YCkuam9pbignLCAnKTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gKHVwZGF0ZURhdGEgYXMgYW55KVtmaWVsZF0pO1xuICAgICAgXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBVUERBVEUgZGV2ZWxvcGVycyBTRVQgJHtzZXRDbGF1c2V9LCB1cGRhdGVkX2F0ID0gTk9XKCkgV0hFUkUgaWQgPSA/YCxcbiAgICAgICAgWy4uLnZhbHVlcywgaWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgLy8gTG9nIHRoZSBhY3Rpdml0eVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVBY3Rpdml0eSh7XG4gICAgICAgICAgbGV2ZWw6ICdpbmZvJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ2RldmVsb3BlcicsXG4gICAgICAgICAgbWVzc2FnZTogYERldmVsb3BlciB1cGRhdGVkOiAke2RldmVsb3Blck5hbWV9YCxcbiAgICAgICAgICBkZXRhaWxzOiBKU09OLnN0cmluZ2lmeSh7IGRldmVsb3BlcklkOiBpZCwgdXBkYXRlZEZpZWxkczogZmllbGRzIH0pXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvZyBkZXZlbG9wZXIgdXBkYXRlIGFjdGl2aXR5OicsIGxvZ0Vycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0RGV2ZWxvcGVyQnlJZChpZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGRldmVsb3BlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGVsZXRlRGV2ZWxvcGVyKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBkZXZlbG9wZXJzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZGV2ZWxvcGVyOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlRGV2ZWxvcGVyUHJvamVjdENvdW50KGRldmVsb3Blck5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIENvdW50IHByb2plY3RzIGZvciB0aGlzIGRldmVsb3BlclxuICAgICAgY29uc3QgW2NvdW50Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICdTRUxFQ1QgQ09VTlQoKikgYXMgcHJvamVjdF9jb3VudCBGUk9NIHByb2plY3RzIFdIRVJFIGRldmVsb3BlciA9ID8nLFxuICAgICAgICBbZGV2ZWxvcGVyTmFtZV1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2plY3RDb3VudCA9IChjb3VudFJvd3MgYXMgYW55W10pWzBdLnByb2plY3RfY291bnQ7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgZGV2ZWxvcGVyJ3MgcHJvamVjdCBjb3VudFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnVVBEQVRFIGRldmVsb3BlcnMgU0VUIHByb2plY3RzX2NvdW50ID0gPywgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIG5hbWUgPSA/JyxcbiAgICAgICAgW3Byb2plY3RDb3VudCwgZGV2ZWxvcGVyTmFtZV1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgcHJvamVjdCBjb3VudCBmb3IgZGV2ZWxvcGVyICR7ZGV2ZWxvcGVyTmFtZX06ICR7cHJvamVjdENvdW50fSBwcm9qZWN0c2ApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBkZXZlbG9wZXIgcHJvamVjdCBjb3VudDonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gRW5oYW5jZWQgcHJvamVjdC1kZXZlbG9wZXIgcmVsYXRpb25zaGlwIG1ldGhvZHNcbiAgc3RhdGljIGFzeW5jIGdldFByb2plY3RzQnlEZXZlbG9wZXJJZChkZXZlbG9wZXJJZDogbnVtYmVyKTogUHJvbWlzZTxQcm9qZWN0W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgU0VMRUNUIHAuKiwgZC5uYW1lIGFzIGRldmVsb3Blcl9uYW1lLCBkLnNsdWcgYXMgZGV2ZWxvcGVyX3NsdWcgXG4gICAgICAgICBGUk9NIHByb2plY3RzIHAgXG4gICAgICAgICBMRUZUIEpPSU4gZGV2ZWxvcGVycyBkIE9OIHAuZGV2ZWxvcGVyX2lkID0gZC5pZCBcbiAgICAgICAgIFdIRVJFIHAuZGV2ZWxvcGVyX2lkID0gPyBcbiAgICAgICAgIE9SREVSIEJZIHAuY3JlYXRlZF9hdCBERVNDYCxcbiAgICAgICAgW2RldmVsb3BlcklkXVxuICAgICAgKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHJvd3MgYXMgUHJvamVjdFtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0cyBieSBkZXZlbG9wZXIgSUQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXREZXZlbG9wZXJXaXRoUHJvamVjdHMoZGV2ZWxvcGVySWQ6IG51bWJlcik6IFByb21pc2U8RGV2ZWxvcGVyICYgeyBwcm9qZWN0czogUHJvamVjdFtdIH0gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGRldmVsb3BlciBkZXRhaWxzXG4gICAgICBjb25zdCBbZGV2ZWxvcGVyUm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICdTRUxFQ1QgKiBGUk9NIGRldmVsb3BlcnMgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgW2RldmVsb3BlcklkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKChkZXZlbG9wZXJSb3dzIGFzIGFueVtdKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkZXZlbG9wZXIgPSAoZGV2ZWxvcGVyUm93cyBhcyBhbnlbXSlbMF0gYXMgRGV2ZWxvcGVyO1xuICAgICAgXG4gICAgICAvLyBHZXQgYXNzb2NpYXRlZCBwcm9qZWN0c1xuICAgICAgY29uc3QgW3Byb2plY3RSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCAqIEZST00gcHJvamVjdHMgV0hFUkUgZGV2ZWxvcGVyX2lkID0gPyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MnLFxuICAgICAgICBbZGV2ZWxvcGVySWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZGV2ZWxvcGVyLFxuICAgICAgICBwcm9qZWN0czogcHJvamVjdFJvd3MgYXMgUHJvamVjdFtdXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkZXZlbG9wZXIgd2l0aCBwcm9qZWN0czonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgYXNzaWduUHJvamVjdFRvRGV2ZWxvcGVyKHByb2plY3RJZDogbnVtYmVyLCBkZXZlbG9wZXJJZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHByb2plY3Qgd2l0aCBkZXZlbG9wZXJfaWRcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1VQREFURSBwcm9qZWN0cyBTRVQgZGV2ZWxvcGVyX2lkID0gPywgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gPycsXG4gICAgICAgIFtkZXZlbG9wZXJJZCwgcHJvamVjdElkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGRldmVsb3BlcidzIHByb2plY3QgY291bnRcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1VQREFURSBkZXZlbG9wZXJzIFNFVCBwcm9qZWN0c19jb3VudCA9IHByb2plY3RzX2NvdW50ICsgMSwgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gPycsXG4gICAgICAgIFtkZXZlbG9wZXJJZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFzc2lnbmluZyBwcm9qZWN0IHRvIGRldmVsb3BlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVuYXNzaWduUHJvamVjdEZyb21EZXZlbG9wZXIocHJvamVjdElkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBHZXQgY3VycmVudCBkZXZlbG9wZXJfaWQgYmVmb3JlIHJlbW92aW5nXG4gICAgICBjb25zdCBbcHJvamVjdFJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUIGRldmVsb3Blcl9pZCBGUk9NIHByb2plY3RzIFdIRVJFIGlkID0gPycsXG4gICAgICAgIFtwcm9qZWN0SWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoKHByb2plY3RSb3dzIGFzIGFueVtdKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREZXZlbG9wZXJJZCA9IChwcm9qZWN0Um93cyBhcyBhbnlbXSlbMF0uZGV2ZWxvcGVyX2lkO1xuICAgICAgICBcbiAgICAgICAgaWYgKGN1cnJlbnREZXZlbG9wZXJJZCkge1xuICAgICAgICAgIC8vIFJlbW92ZSBkZXZlbG9wZXIgYXNzaWdubWVudFxuICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICAgICdVUERBVEUgcHJvamVjdHMgU0VUIGRldmVsb3Blcl9pZCA9IE5VTEwsIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID8nLFxuICAgICAgICAgICAgW3Byb2plY3RJZF1cbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSBkZXZlbG9wZXIncyBwcm9qZWN0IGNvdW50XG4gICAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICAgJ1VQREFURSBkZXZlbG9wZXJzIFNFVCBwcm9qZWN0c19jb3VudCA9IHByb2plY3RzX2NvdW50IC0gMSwgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gPycsXG4gICAgICAgICAgICBbY3VycmVudERldmVsb3BlcklkXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdW5hc3NpZ25pbmcgcHJvamVjdCBmcm9tIGRldmVsb3BlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZURldmVsb3BlcldpdGhDYXNjYWRlKGlkOiBudW1iZXIpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGVsZXRlZFByb2plY3RzOiBudW1iZXIgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBkZXZlbG9wZXIgbmFtZSBmb3IgbG9nZ2luZyBiZWZvcmUgZGVsZXRpb25cbiAgICAgIGNvbnN0IFtkZXZlbG9wZXJSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIG5hbWUgRlJPTSBkZXZlbG9wZXJzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29uc3QgZGV2ZWxvcGVyTmFtZSA9IChkZXZlbG9wZXJSb3dzIGFzIGFueVtdKVswXT8ubmFtZSB8fCAnVW5rbm93biBEZXZlbG9wZXInO1xuICAgICAgXG4gICAgICAvLyBTdGFydCB0cmFuc2FjdGlvblxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5iZWdpblRyYW5zYWN0aW9uKCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENvdW50IHByb2plY3RzIHRoYXQgd2lsbCBiZSBkZWxldGVkXG4gICAgICAgIGNvbnN0IFtjb3VudFJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICdTRUxFQ1QgQ09VTlQoKikgYXMgcHJvamVjdF9jb3VudCBGUk9NIHByb2plY3RzIFdIRVJFIGRldmVsb3Blcl9pZCA9ID8nLFxuICAgICAgICAgIFtpZF1cbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZGVsZXRlZFByb2plY3RzID0gKGNvdW50Um93cyBhcyBhbnlbXSlbMF0ucHJvamVjdF9jb3VudDtcbiAgICAgICAgXG4gICAgICAgIC8vIERlbGV0ZSBhc3NvY2lhdGVkIHByb2plY3RzIChjYXNjYWRpbmcgZGVsZXRlKVxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICAgJ0RFTEVURSBGUk9NIHByb2plY3RzIFdIRVJFIGRldmVsb3Blcl9pZCA9ID8nLFxuICAgICAgICAgIFtpZF1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERlbGV0ZSB0aGUgZGV2ZWxvcGVyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICAnREVMRVRFIEZST00gZGV2ZWxvcGVycyBXSEVSRSBpZCA9ID8nLFxuICAgICAgICAgIFtpZF1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvbW1pdCB0cmFuc2FjdGlvblxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmNvbW1pdCgpO1xuICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIExvZyB0aGUgYWN0aXZpdHlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZUFjdGl2aXR5KHtcbiAgICAgICAgICAgIGxldmVsOiAnd2FybmluZycsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ2RldmVsb3BlcicsXG4gICAgICAgICAgICBtZXNzYWdlOiBgRGV2ZWxvcGVyIGRlbGV0ZWQ6ICR7ZGV2ZWxvcGVyTmFtZX1gLFxuICAgICAgICAgICAgZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoeyBkZXZlbG9wZXJJZDogaWQsIGRlbGV0ZWRQcm9qZWN0cyB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChsb2dFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgZGV2ZWxvcGVyIGRlbGV0aW9uIGFjdGl2aXR5OicsIGxvZ0Vycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGVsZXRlZFByb2plY3RzIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBSb2xsYmFjayB0cmFuc2FjdGlvbiBvbiBlcnJvclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLnJvbGxiYWNrKCk7XG4gICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZGV2ZWxvcGVyIHdpdGggY2FzY2FkZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZGVsZXRlZFByb2plY3RzOiAwIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVByb2plY3RXaXRoRGV2ZWxvcGVyKHByb2plY3REYXRhOiBPbWl0PFByb2plY3QsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+LCBkZXZlbG9wZXJJZD86IG51bWJlcik6IFByb21pc2U8UHJvamVjdCB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBTdGFydCB0cmFuc2FjdGlvblxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5iZWdpblRyYW5zYWN0aW9uKCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgcHJvamVjdCB3aXRoIGRldmVsb3Blcl9pZFxuICAgICAgICBjb25zdCBwcm9qZWN0VG9DcmVhdGUgPSB7XG4gICAgICAgICAgLi4ucHJvamVjdERhdGEsXG4gICAgICAgICAgZGV2ZWxvcGVyX2lkOiBkZXZlbG9wZXJJZCB8fCBudWxsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICBgSU5TRVJUIElOVE8gcHJvamVjdHMgKFxuICAgICAgICAgICAgbmFtZSwgc2x1ZywgcHJvamVjdF9uYW1lLCBzdWJfcHJvamVjdCwgZGlzcGxheV90aXRsZSwgZGV2ZWxvcGVyLCBkZXZlbG9wZXJfaWQsXG4gICAgICAgICAgICBsb2NhdGlvbiwgcHJpY2UsIHN0YXJ0aW5nX3ByaWNlLCBzdGF0dXMsIHByb2plY3RfdHlwZSwgdHlwZSwgY2F0ZWdvcnksXG4gICAgICAgICAgICBjb2xvcl9wYWxldHRlLCBwcm9wZXJ0eV90eXBlLCBwcm9wZXJ0eV90eXBlcywgc3ViX3Byb2plY3RzLCBiZWRyb29tcywgYmF0aHJvb21zLFxuICAgICAgICAgICAgc3R1ZGlvcywgdW5pdHNfMWJlZHJvb20sIHVuaXRzXzJiZWRyb29tLCB1bml0c18zYmVkcm9vbSwgdW5pdHNfNGJlZHJvb20sXG4gICAgICAgICAgICB1bml0c181YmVkcm9vbSwgdW5pdHNfb2ZmaWNlLCBsaXZpbmdfcm9vbXMsIHVuaXRzLCBhcmVhLCBkZXNjcmlwdGlvbiwgaW1hZ2UsXG4gICAgICAgICAgICBnYWxsZXJ5LCBjb29yZGluYXRlc19sYXQsIGNvb3JkaW5hdGVzX2xuZywgZmVhdHVyZXMsIGFtZW5pdGllcywgaXNfZmVhdHVyZWQsXG4gICAgICAgICAgICBicm9jaHVyZV91cmwsIHRoZW1lX2NvbG9yLCB2b2ljZV9vdmVyX3VybCwgcHJlc2VudGF0aW9uX2ZpbGUsIHByZXNlbnRhdGlvbl91cmwsXG4gICAgICAgICAgICBtZWRpYV90eXBlLCBmZWF0dXJlZF92aWRlbywgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdFxuICAgICAgICAgICkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCBOT1coKSwgTk9XKCkpYCxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUubmFtZSxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5zbHVnLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnByb2plY3RfbmFtZSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnN1Yl9wcm9qZWN0IHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuZGlzcGxheV90aXRsZSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmRldmVsb3BlcixcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5kZXZlbG9wZXJfaWQsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUubG9jYXRpb24sXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUucHJpY2UgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5zdGFydGluZ19wcmljZSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnN0YXR1cyB8fCAnQWN0aXZlJyxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5wcm9qZWN0X3R5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS50eXBlIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuY2F0ZWdvcnkgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5jb2xvcl9wYWxldHRlIHx8IG51bGwsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0VG9DcmVhdGUucHJvcGVydHlfdHlwZSB8fCBbXSksXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0VG9DcmVhdGUucHJvcGVydHlfdHlwZXMgfHwgW10pLFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvamVjdFRvQ3JlYXRlLnN1Yl9wcm9qZWN0cyB8fCBbXSksXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuYmVkcm9vbXMgfHwgMCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5iYXRocm9vbXMgfHwgMCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5zdHVkaW9zIHx8IDAsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUudW5pdHNfMWJlZHJvb20gfHwgMCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS51bml0c18yYmVkcm9vbSB8fCAwLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnVuaXRzXzNiZWRyb29tIHx8IDAsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUudW5pdHNfNGJlZHJvb20gfHwgMCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS51bml0c181YmVkcm9vbSB8fCAwLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnVuaXRzX29mZmljZSB8fCAwLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmxpdmluZ19yb29tcyB8fCAwLFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvamVjdFRvQ3JlYXRlLnVuaXRzIHx8IFtdKSxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5hcmVhLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmltYWdlLFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvamVjdFRvQ3JlYXRlLmdhbGxlcnkgfHwgW10pLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmNvb3JkaW5hdGVzX2xhdCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5jb29yZGluYXRlc19sbmcsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0VG9DcmVhdGUuZmVhdHVyZXMgfHwgW10pLFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvamVjdFRvQ3JlYXRlLmFtZW5pdGllcyB8fCBbXSksXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuaXNfZmVhdHVyZWQgfHwgZmFsc2UsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuYnJvY2h1cmVfdXJsIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUudGhlbWVfY29sb3IgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS52b2ljZV9vdmVyX3VybCB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnByZXNlbnRhdGlvbl9maWxlIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUucHJlc2VudGF0aW9uX3VybCB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLm1lZGlhX3R5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5mZWF0dXJlZF92aWRlbyB8fCBudWxsXG4gICAgICAgICAgXVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaW5zZXJ0SWQgPSAocmVzdWx0IGFzIGFueSkuaW5zZXJ0SWQ7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgZGV2ZWxvcGVyJ3MgcHJvamVjdCBjb3VudCBpZiBhc3NpZ25lZFxuICAgICAgICBpZiAoZGV2ZWxvcGVySWQpIHtcbiAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICAgICAnVVBEQVRFIGRldmVsb3BlcnMgU0VUIHByb2plY3RzX2NvdW50ID0gcHJvamVjdHNfY291bnQgKyAxLCB1cGRhdGVkX2F0ID0gTk9XKCkgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgICAgIFtkZXZlbG9wZXJJZF1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDb21taXQgdHJhbnNhY3Rpb25cbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5jb21taXQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZldGNoIGFuZCByZXR1cm4gdGhlIGNyZWF0ZWQgcHJvamVjdFxuICAgICAgICBjb25zdCBbcHJvamVjdFJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICdTRUxFQ1QgKiBGUk9NIHByb2plY3RzIFdIRVJFIGlkID0gPycsXG4gICAgICAgICAgW2luc2VydElkXVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoKHByb2plY3RSb3dzIGFzIGFueVtdKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcHJvamVjdCA9IChwcm9qZWN0Um93cyBhcyBhbnlbXSlbMF0gYXMgUHJvamVjdDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJvamVjdCxcbiAgICAgICAgICAgIHByb3BlcnR5X3R5cGU6IHByb2plY3QucHJvcGVydHlfdHlwZSA/ICh0eXBlb2YgcHJvamVjdC5wcm9wZXJ0eV90eXBlID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocHJvamVjdC5wcm9wZXJ0eV90eXBlKSA6IHByb2plY3QucHJvcGVydHlfdHlwZSkgOiBbXSxcbiAgICAgICAgICAgIHByb3BlcnR5X3R5cGVzOiBwcm9qZWN0LnByb3BlcnR5X3R5cGVzID8gKHR5cGVvZiBwcm9qZWN0LnByb3BlcnR5X3R5cGVzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocHJvamVjdC5wcm9wZXJ0eV90eXBlcykgOiBwcm9qZWN0LnByb3BlcnR5X3R5cGVzKSA6IFtdLFxuICAgICAgICAgICAgc3ViX3Byb2plY3RzOiBwcm9qZWN0LnN1Yl9wcm9qZWN0cyA/ICh0eXBlb2YgcHJvamVjdC5zdWJfcHJvamVjdHMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShwcm9qZWN0LnN1Yl9wcm9qZWN0cykgOiBwcm9qZWN0LnN1Yl9wcm9qZWN0cykgOiBbXSxcbiAgICAgICAgICAgIHVuaXRzOiBwcm9qZWN0LnVuaXRzID8gKHR5cGVvZiBwcm9qZWN0LnVuaXRzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocHJvamVjdC51bml0cykgOiBwcm9qZWN0LnVuaXRzKSA6IFtdLFxuICAgICAgICAgICAgZ2FsbGVyeTogcHJvamVjdC5nYWxsZXJ5ID8gKHR5cGVvZiBwcm9qZWN0LmdhbGxlcnkgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShwcm9qZWN0LmdhbGxlcnkpIDogcHJvamVjdC5nYWxsZXJ5KSA6IFtdLFxuICAgICAgICAgICAgZmVhdHVyZXM6IHByb2plY3QuZmVhdHVyZXMgPyAodHlwZW9mIHByb2plY3QuZmVhdHVyZXMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShwcm9qZWN0LmZlYXR1cmVzKSA6IHByb2plY3QuZmVhdHVyZXMpIDogW10sXG4gICAgICAgICAgICBhbWVuaXRpZXM6IHByb2plY3QuYW1lbml0aWVzID8gKHR5cGVvZiBwcm9qZWN0LmFtZW5pdGllcyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHByb2plY3QuYW1lbml0aWVzKSA6IHByb2plY3QuYW1lbml0aWVzKSA6IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBSb2xsYmFjayB0cmFuc2FjdGlvbiBvbiBlcnJvclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLnJvbGxiYWNrKCk7XG4gICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcHJvamVjdCB3aXRoIGRldmVsb3BlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBBcnRpY2xlcyBDUlVEIG9wZXJhdGlvbnNcbiAgc3RhdGljIGFzeW5jIGdldEFydGljbGVzKCk6IFByb21pc2U8QXJ0aWNsZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBhcnRpY2xlcyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MnKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgY29uc3QgYXJ0aWNsZXMgPSByb3dzIGFzIEFydGljbGVbXTtcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgSlNPTiB0YWdzIGZpZWxkIGFuZCBoYW5kbGUgbWlzc2luZyBjb2x1bW5zXG4gICAgICByZXR1cm4gYXJ0aWNsZXMubWFwKGFydGljbGUgPT4gKHtcbiAgICAgICAgLi4uYXJ0aWNsZSxcbiAgICAgICAgdGFnczogYXJ0aWNsZS50YWdzID8gKHR5cGVvZiBhcnRpY2xlLnRhZ3MgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShhcnRpY2xlLnRhZ3MpIDogYXJ0aWNsZS50YWdzKSA6IFtdLFxuICAgICAgICBjYXRlZ29yeTogYXJ0aWNsZS5jYXRlZ29yeSB8fCAnJyxcbiAgICAgICAgcmVhZF90aW1lOiBhcnRpY2xlLnJlYWRfdGltZSB8fCA1LFxuICAgICAgICBtZXRhX2Rlc2NyaXB0aW9uOiBhcnRpY2xlLm1ldGFfZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIGZlYXR1cmVkOiBhcnRpY2xlLmZlYXR1cmVkIHx8IGZhbHNlLFxuICAgICAgICB2aWV3c19jb3VudDogYXJ0aWNsZS52aWV3c19jb3VudCB8fCAwXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFydGljbGVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlQXJ0aWNsZShhcnRpY2xlOiBPbWl0PEFydGljbGUsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+KTogUHJvbWlzZTxBcnRpY2xlIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0IHRyeSB3aXRoIGFsbCBjb2x1bW5zXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICBgSU5TRVJUIElOVE8gYXJ0aWNsZXMgKHRpdGxlLCBzbHVnLCBjb250ZW50LCBleGNlcnB0LCBmZWF0dXJlZF9pbWFnZSwgYXV0aG9yLCBzdGF0dXMsIHB1Ymxpc2hlZF9hdCwgdGFncywgY2F0ZWdvcnksIHJlYWRfdGltZSwgbWV0YV9kZXNjcmlwdGlvbiwgZmVhdHVyZWQsIHZpZXdzX2NvdW50KVxuICAgICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBhcnRpY2xlLnRpdGxlLCBhcnRpY2xlLnNsdWcsIGFydGljbGUuY29udGVudCwgYXJ0aWNsZS5leGNlcnB0LFxuICAgICAgICAgICAgYXJ0aWNsZS5mZWF0dXJlZF9pbWFnZSwgYXJ0aWNsZS5hdXRob3IsIGFydGljbGUuc3RhdHVzLCBhcnRpY2xlLnB1Ymxpc2hlZF9hdCxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGFydGljbGUudGFncyB8fCBbXSksIGFydGljbGUuY2F0ZWdvcnksIGFydGljbGUucmVhZF90aW1lLFxuICAgICAgICAgICAgYXJ0aWNsZS5tZXRhX2Rlc2NyaXB0aW9uLCBhcnRpY2xlLmZlYXR1cmVkIHx8IGZhbHNlLCBhcnRpY2xlLnZpZXdzX2NvdW50IHx8IDBcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbnNlcnRJZCA9IChyZXN1bHQgYXMgYW55KS5pbnNlcnRJZDtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldEFydGljbGVCeUlkKGluc2VydElkKTtcbiAgICAgIH0gY2F0Y2ggKGluc2VydEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGdWxsIGluc2VydCBmYWlsZWQsIHRyeWluZyBiYXNpYyBpbnNlcnQ6JywgaW5zZXJ0RXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgdGhhdCBmYWlscywgdHJ5IHdpdGggYmFzaWMgY29sdW1ucyBvbmx5XG4gICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBJTlNFUlQgSU5UTyBhcnRpY2xlcyAodGl0bGUsIHNsdWcsIGNvbnRlbnQsIGV4Y2VycHQsIGZlYXR1cmVkX2ltYWdlLCBhdXRob3IsIHN0YXR1cywgcHVibGlzaGVkX2F0KVxuICAgICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBhcnRpY2xlLnRpdGxlLCBhcnRpY2xlLnNsdWcsIGFydGljbGUuY29udGVudCwgYXJ0aWNsZS5leGNlcnB0LFxuICAgICAgICAgICAgYXJ0aWNsZS5mZWF0dXJlZF9pbWFnZSwgYXJ0aWNsZS5hdXRob3IsIGFydGljbGUuc3RhdHVzLCBhcnRpY2xlLnB1Ymxpc2hlZF9hdFxuICAgICAgICAgIF1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGluc2VydElkID0gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QXJ0aWNsZUJ5SWQoaW5zZXJ0SWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhcnRpY2xlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRBcnRpY2xlQnlJZChpZDogbnVtYmVyKTogUHJvbWlzZTxBcnRpY2xlIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYXJ0aWNsZXMgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnN0IGFydGljbGVzID0gcm93cyBhcyBBcnRpY2xlW107XG4gICAgICBpZiAoYXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBhcnRpY2xlID0gYXJ0aWNsZXNbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYXJ0aWNsZSxcbiAgICAgICAgICB0YWdzOiBhcnRpY2xlLnRhZ3MgPyAodHlwZW9mIGFydGljbGUudGFncyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGFydGljbGUudGFncykgOiBhcnRpY2xlLnRhZ3MpIDogW10sXG4gICAgICAgICAgY2F0ZWdvcnk6IGFydGljbGUuY2F0ZWdvcnkgfHwgJycsXG4gICAgICAgICAgcmVhZF90aW1lOiBhcnRpY2xlLnJlYWRfdGltZSB8fCA1LFxuICAgICAgICAgIG1ldGFfZGVzY3JpcHRpb246IGFydGljbGUubWV0YV9kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBmZWF0dXJlZDogYXJ0aWNsZS5mZWF0dXJlZCB8fCBmYWxzZSxcbiAgICAgICAgICB2aWV3c19jb3VudDogYXJ0aWNsZS52aWV3c19jb3VudCB8fCAwXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXJ0aWNsZSBieSBJRDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlQXJ0aWNsZShpZDogbnVtYmVyLCB1cGRhdGVEYXRhOiBQYXJ0aWFsPEFydGljbGU+KTogUHJvbWlzZTxBcnRpY2xlIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIENvbnZlcnQgdGFncyBhcnJheSB0byBKU09OIHN0cmluZyBpZiBwcmVzZW50XG4gICAgICBjb25zdCBwcm9jZXNzZWREYXRhID0geyAuLi51cGRhdGVEYXRhIH07XG4gICAgICBpZiAocHJvY2Vzc2VkRGF0YS50YWdzKSB7XG4gICAgICAgIHByb2Nlc3NlZERhdGEudGFncyA9IEpTT04uc3RyaW5naWZ5KHByb2Nlc3NlZERhdGEudGFncykgYXMgYW55O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyhwcm9jZXNzZWREYXRhKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2lkJyk7XG4gICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiAocHJvY2Vzc2VkRGF0YSBhcyBhbnkpW2ZpZWxkXSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYFVQREFURSBhcnRpY2xlcyBTRVQgJHtzZXRDbGF1c2V9LCB1cGRhdGVkX2F0ID0gTk9XKCkgV0hFUkUgaWQgPSA/YCxcbiAgICAgICAgWy4uLnZhbHVlcywgaWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldEFydGljbGVCeUlkKGlkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgYXJ0aWNsZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGVsZXRlQXJ0aWNsZShpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYXJ0aWNsZXMgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBhcnRpY2xlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0QXJ0aWNsZUJ5U2x1ZyhzbHVnOiBzdHJpbmcpOiBQcm9taXNlPEFydGljbGUgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBhcnRpY2xlcyBXSEVSRSBzbHVnID0gPyBBTkQgc3RhdHVzID0gXCJwdWJsaXNoZWRcIicsIFtzbHVnXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnN0IGFydGljbGVzID0gcm93cyBhcyBBcnRpY2xlW107XG4gICAgICBpZiAoYXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBhcnRpY2xlID0gYXJ0aWNsZXNbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYXJ0aWNsZSxcbiAgICAgICAgICB0YWdzOiBhcnRpY2xlLnRhZ3MgPyAodHlwZW9mIGFydGljbGUudGFncyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGFydGljbGUudGFncykgOiBhcnRpY2xlLnRhZ3MpIDogW10sXG4gICAgICAgICAgY2F0ZWdvcnk6IGFydGljbGUuY2F0ZWdvcnkgfHwgJycsXG4gICAgICAgICAgcmVhZF90aW1lOiBhcnRpY2xlLnJlYWRfdGltZSB8fCA1LFxuICAgICAgICAgIG1ldGFfZGVzY3JpcHRpb246IGFydGljbGUubWV0YV9kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBmZWF0dXJlZDogYXJ0aWNsZS5mZWF0dXJlZCB8fCBmYWxzZSxcbiAgICAgICAgICB2aWV3c19jb3VudDogYXJ0aWNsZS52aWV3c19jb3VudCB8fCAwXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXJ0aWNsZSBieSBzbHVnOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRQdWJsaXNoZWRBcnRpY2xlcyhvcHRpb25zPzoge1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICAgIGNhdGVnb3J5Pzogc3RyaW5nO1xuICAgIGZlYXR1cmVkPzogYm9vbGVhbjtcbiAgfSk6IFByb21pc2U8QXJ0aWNsZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGxldCBxdWVyeSA9ICdTRUxFQ1QgKiBGUk9NIGFydGljbGVzIFdIRVJFIHN0YXR1cyA9IFwicHVibGlzaGVkXCIgT1JERVIgQlkgcHVibGlzaGVkX2F0IERFU0MsIGNyZWF0ZWRfYXQgREVTQyc7XG4gICAgICBjb25zdCBwYXJhbXM6IGFueVtdID0gW107XG5cbiAgICAgIGlmIChvcHRpb25zPy5saW1pdCkge1xuICAgICAgICBxdWVyeSArPSAnIExJTUlUID8nO1xuICAgICAgICBwYXJhbXMucHVzaChvcHRpb25zLmxpbWl0KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zdCBhcnRpY2xlcyA9IHJvd3MgYXMgQXJ0aWNsZVtdO1xuICAgICAgXG4gICAgICAvLyBQYXJzZSBKU09OIHRhZ3MgZmllbGQgYW5kIGhhbmRsZSBtaXNzaW5nIGNvbHVtbnNcbiAgICAgIHJldHVybiBhcnRpY2xlcy5tYXAoYXJ0aWNsZSA9PiAoe1xuICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICB0YWdzOiBhcnRpY2xlLnRhZ3MgPyAodHlwZW9mIGFydGljbGUudGFncyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGFydGljbGUudGFncykgOiBhcnRpY2xlLnRhZ3MpIDogW10sXG4gICAgICAgIGNhdGVnb3J5OiBhcnRpY2xlLmNhdGVnb3J5IHx8ICcnLFxuICAgICAgICByZWFkX3RpbWU6IGFydGljbGUucmVhZF90aW1lIHx8IDUsXG4gICAgICAgIG1ldGFfZGVzY3JpcHRpb246IGFydGljbGUubWV0YV9kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgZmVhdHVyZWQ6IGFydGljbGUuZmVhdHVyZWQgfHwgZmFsc2UsXG4gICAgICAgIHZpZXdzX2NvdW50OiBhcnRpY2xlLnZpZXdzX2NvdW50IHx8IDBcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHVibGlzaGVkIGFydGljbGVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvLyBNZWRpYSBGaWxlcyBDUlVEIG9wZXJhdGlvbnNcbiAgc3RhdGljIGFzeW5jIGdldE1lZGlhRmlsZXMoKTogUHJvbWlzZTxNZWRpYUZpbGVbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gbWVkaWFfZmlsZXMgT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDJyk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiByb3dzIGFzIE1lZGlhRmlsZVtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtZWRpYSBmaWxlczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZU1lZGlhRmlsZShtZWRpYURhdGE6IE9taXQ8TWVkaWFGaWxlLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnPik6IFByb21pc2U8TWVkaWFGaWxlIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYElOU0VSVCBJTlRPIG1lZGlhX2ZpbGVzIChmaWxlbmFtZSwgb3JpZ2luYWxfbmFtZSwgZmlsZV9wYXRoLCBmaWxlX3NpemUsIG1pbWVfdHlwZSwgYWx0X3RleHQsIHVwbG9hZGVkX2J5KVxuICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/KWAsXG4gICAgICAgIFtcbiAgICAgICAgICBtZWRpYURhdGEuZmlsZW5hbWUsIG1lZGlhRGF0YS5vcmlnaW5hbF9uYW1lLCBtZWRpYURhdGEuZmlsZV9wYXRoLFxuICAgICAgICAgIG1lZGlhRGF0YS5maWxlX3NpemUsIG1lZGlhRGF0YS5taW1lX3R5cGUsIG1lZGlhRGF0YS5hbHRfdGV4dCwgbWVkaWFEYXRhLnVwbG9hZGVkX2J5XG4gICAgICAgIF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGluc2VydElkID0gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldE1lZGlhRmlsZUJ5SWQoaW5zZXJ0SWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBtZWRpYSBmaWxlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRNZWRpYUZpbGVCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPE1lZGlhRmlsZSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIG1lZGlhX2ZpbGVzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zdCBtZWRpYUZpbGVzID0gcm93cyBhcyBNZWRpYUZpbGVbXTtcbiAgICAgIHJldHVybiBtZWRpYUZpbGVzLmxlbmd0aCA+IDAgPyBtZWRpYUZpbGVzWzBdIDogbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWVkaWEgZmlsZSBieSBJRDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlTWVkaWFGaWxlKGlkOiBudW1iZXIsIHVwZGF0ZURhdGE6IFBhcnRpYWw8TWVkaWFGaWxlPik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHVwZGF0ZURhdGEpLmZpbHRlcihrZXkgPT4gXG4gICAgICAgIGtleSAhPT0gJ2lkJyAmJiBrZXkgIT09ICdjcmVhdGVkX2F0JyAmJiB1cGRhdGVEYXRhW2tleSBhcyBrZXlvZiBNZWRpYUZpbGVdICE9PSB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2V0Q2xhdXNlID0gZmllbGRzLm1hcChmaWVsZCA9PiBgJHtmaWVsZH0gPSA/YCkuam9pbignLCAnKTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gdXBkYXRlRGF0YVtmaWVsZCBhcyBrZXlvZiBNZWRpYUZpbGVdKTtcblxuICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBVUERBVEUgbWVkaWFfZmlsZXMgU0VUICR7c2V0Q2xhdXNlfSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICBbLi4udmFsdWVzLCBpZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgYXMgYW55KS5hZmZlY3RlZFJvd3MgPiAwO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBtZWRpYSBmaWxlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGVsZXRlTWVkaWFGaWxlKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBtZWRpYV9maWxlcyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIG1lZGlhIGZpbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhlcm8gU2VjdGlvbnMgQ1JVRCBvcGVyYXRpb25zXG4gIHN0YXRpYyBhc3luYyBnZXRIZXJvU2VjdGlvbnMoKTogUHJvbWlzZTxIZXJvU2VjdGlvbltdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBoZXJvX3NlY3Rpb25zIE9SREVSIEJZIGlkIERFU0MnKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHJvd3MgYXMgSGVyb1NlY3Rpb25bXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaGVybyBzZWN0aW9uczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUhlcm9TZWN0aW9uKGhlcm9EYXRhOiBPbWl0PEhlcm9TZWN0aW9uLCAnaWQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8SGVyb1NlY3Rpb24gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgSU5TRVJUIElOVE8gaGVyb19zZWN0aW9ucyAocGFnZSwgdGl0bGUsIHN1YnRpdGxlLCBkZXNjcmlwdGlvbiwgYmFja2dyb3VuZF9pbWFnZSwgY3RhX3RleHQsIGN0YV9saW5rLCBpc19hY3RpdmUpXG4gICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgW1xuICAgICAgICAgIGhlcm9EYXRhLnBhZ2UsIGhlcm9EYXRhLnRpdGxlLCBoZXJvRGF0YS5zdWJ0aXRsZSwgaGVyb0RhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgaGVyb0RhdGEuYmFja2dyb3VuZF9pbWFnZSwgaGVyb0RhdGEuY3RhX3RleHQsIGhlcm9EYXRhLmN0YV9saW5rLCBoZXJvRGF0YS5pc19hY3RpdmVcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW5zZXJ0SWQgPSAocmVzdWx0IGFzIGFueSkuaW5zZXJ0SWQ7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0SGVyb1NlY3Rpb25CeUlkKGluc2VydElkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaGVybyBzZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRIZXJvU2VjdGlvbkJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8SGVyb1NlY3Rpb24gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBoZXJvX3NlY3Rpb25zIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zdCBoZXJvU2VjdGlvbnMgPSByb3dzIGFzIEhlcm9TZWN0aW9uW107XG4gICAgICByZXR1cm4gaGVyb1NlY3Rpb25zLmxlbmd0aCA+IDAgPyBoZXJvU2VjdGlvbnNbMF0gOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBoZXJvIHNlY3Rpb24gYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZUhlcm9TZWN0aW9uKGlkOiBudW1iZXIsIHVwZGF0ZURhdGE6IFBhcnRpYWw8SGVyb1NlY3Rpb24+KTogUHJvbWlzZTxIZXJvU2VjdGlvbiB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVEYXRhKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2lkJyk7XG4gICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiAodXBkYXRlRGF0YSBhcyBhbnkpW2ZpZWxkXSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYFVQREFURSBoZXJvX3NlY3Rpb25zIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICBbLi4udmFsdWVzLCBpZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0SGVyb1NlY3Rpb25CeUlkKGlkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgaGVybyBzZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVIZXJvU2VjdGlvbihpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnREVMRVRFIEZST00gaGVyb19zZWN0aW9ucyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGhlcm8gc2VjdGlvbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gVXNlcnMgYXV0aGVudGljYXRpb25cbiAgc3RhdGljIGFzeW5jIGdldFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID8gQU5EIGlzX2FjdGl2ZSA9IFRSVUUnLCBbZW1haWxdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgY29uc3QgdXNlcnMgPSByb3dzIGFzIFVzZXJbXTtcbiAgICAgIHJldHVybiB1c2Vycy5sZW5ndGggPiAwID8gdXNlcnNbMF0gOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGJ5IGVtYWlsOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVVc2VyTGFzdExvZ2luKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnVVBEQVRFIHVzZXJzIFNFVCBsYXN0X2xvZ2luID0gTk9XKCkgV0hFUkUgaWQgPSA/JywgW3VzZXJJZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBsYXN0IGxvZ2luOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBTeXN0ZW0gbG9nc1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlTG9nKGxvZ0RhdGE6IE9taXQ8U3lzdGVtTG9nLCAnaWQnIHwgJ3RpbWVzdGFtcCc+KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYElOU0VSVCBJTlRPIHN5c3RlbV9sb2dzIChsZXZlbCwgY2F0ZWdvcnksIG1lc3NhZ2UsIHVzZXJfaWQsIGlwX2FkZHJlc3MsIHVzZXJfYWdlbnQsIGRldGFpbHMpXG4gICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgW1xuICAgICAgICAgIGxvZ0RhdGEubGV2ZWwsIGxvZ0RhdGEuY2F0ZWdvcnksIGxvZ0RhdGEubWVzc2FnZSwgbG9nRGF0YS51c2VyX2lkLFxuICAgICAgICAgIGxvZ0RhdGEuaXBfYWRkcmVzcywgbG9nRGF0YS51c2VyX2FnZW50LCBKU09OLnN0cmluZ2lmeShsb2dEYXRhLmRldGFpbHMgfHwge30pXG4gICAgICAgIF1cbiAgICAgICk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBsb2c6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBzeXN0ZW0gc3RhdGlzdGljc1xuICBzdGF0aWMgYXN5bmMgZ2V0U3lzdGVtU3RhdHMoKTogUHJvbWlzZTx7XG4gICAgdG90YWxQcm9qZWN0czogbnVtYmVyO1xuICAgIHRvdGFsRGV2ZWxvcGVyczogbnVtYmVyO1xuICAgIHRvdGFsVXNlcnM6IG51bWJlcjtcbiAgICB0b3RhbExvZ3M6IG51bWJlcjtcbiAgICBsYXN0QmFja3VwOiBEYXRlO1xuICB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgY29uc3QgW3Byb2plY3RDb3VudF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHByb2plY3RzJyk7XG4gICAgICBjb25zdCBbZGV2ZWxvcGVyQ291bnRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSBkZXZlbG9wZXJzJyk7XG4gICAgICBjb25zdCBbdXNlckNvdW50XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gdXNlcnMnKTtcbiAgICAgIGNvbnN0IFtsb2dDb3VudF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHN5c3RlbV9sb2dzJyk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbFByb2plY3RzOiAocHJvamVjdENvdW50IGFzIGFueSlbMF0uY291bnQsXG4gICAgICAgIHRvdGFsRGV2ZWxvcGVyczogKGRldmVsb3BlckNvdW50IGFzIGFueSlbMF0uY291bnQsXG4gICAgICAgIHRvdGFsVXNlcnM6ICh1c2VyQ291bnQgYXMgYW55KVswXS5jb3VudCxcbiAgICAgICAgdG90YWxMb2dzOiAobG9nQ291bnQgYXMgYW55KVswXS5jb3VudCxcbiAgICAgICAgbGFzdEJhY2t1cDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3lzdGVtIHN0YXRzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsUHJvamVjdHM6IDAsXG4gICAgICAgIHRvdGFsRGV2ZWxvcGVyczogMCxcbiAgICAgICAgdG90YWxVc2VyczogMCxcbiAgICAgICAgdG90YWxMb2dzOiAwLFxuICAgICAgICBsYXN0QmFja3VwOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldHRpbmdzIG1hbmFnZW1lbnRcbiAgc3RhdGljIGFzeW5jIGdldFNldHRpbmdzKCk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBzaXRlX3NldHRpbmdzIE9SREVSIEJZIGlkIERFU0MgTElNSVQgMScpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gcm93cyBhcyBhbnlbXTtcbiAgICAgIGlmIChzZXR0aW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGRiU2V0dGluZ3MgPSBzZXR0aW5nc1swXTtcbiAgICAgICAgLy8gVHJhbnNmb3JtIGRhdGFiYXNlIGNvbHVtbnMgdG8gQVBJIGZvcm1hdFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNpdGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiBkYlNldHRpbmdzLnNpdGVfdGl0bGUgfHwgJ1ByZW1pdW0gQ2hvaWNlJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYlNldHRpbmdzLnNpdGVfZGVzY3JpcHRpb24gfHwgJ1lvdXIgdHJ1c3RlZCBwYXJ0bmVyIGluIER1YmFpIHJlYWwgZXN0YXRlJyxcbiAgICAgICAgICAgIGxvZ286IGRiU2V0dGluZ3Muc2l0ZV9sb2dvIHx8ICcvbG9nby5wbmcnLFxuICAgICAgICAgICAgZmF2aWNvbjogZGJTZXR0aW5ncy5zaXRlX2Zhdmljb24gfHwgJy9mYXZpY29uLmljbydcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRhY3Q6IHtcbiAgICAgICAgICAgIGVtYWlsOiBkYlNldHRpbmdzLmNvbnRhY3RfZW1haWwgfHwgJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgIHBob25lOiBkYlNldHRpbmdzLmNvbnRhY3RfcGhvbmUgfHwgbnVsbCxcbiAgICAgIGFkZHJlc3M6IGRiU2V0dGluZ3MuY29udGFjdF9hZGRyZXNzIHx8ICdEdWJhaSwgVUFFJyxcbiAgICAgIHdoYXRzYXBwOiBkYlNldHRpbmdzLmNvbnRhY3Rfd2hhdHNhcHAgfHwgZGJTZXR0aW5ncy53aGF0c2FwcF9waG9uZSB8fCBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb2NpYWw6IHtcbiAgICAgICAgICAgIGZhY2Vib29rOiBkYlNldHRpbmdzLnNvY2lhbF9mYWNlYm9vayB8fCAnJyxcbiAgICAgICAgICAgIGluc3RhZ3JhbTogZGJTZXR0aW5ncy5zb2NpYWxfaW5zdGFncmFtIHx8ICcnLFxuICAgICAgICAgICAgdHdpdHRlcjogZGJTZXR0aW5ncy5zb2NpYWxfdHdpdHRlciB8fCAnJyxcbiAgICAgICAgICAgIGxpbmtlZGluOiBkYlNldHRpbmdzLnNvY2lhbF9saW5rZWRpbiB8fCAnJyxcbiAgICAgICAgICAgIHlvdXR1YmU6IGRiU2V0dGluZ3Muc29jaWFsX3lvdXR1YmUgfHwgJycsXG4gICAgICAgICAgICB0aWt0b2s6IGRiU2V0dGluZ3Muc29jaWFsX3Rpa3RvayB8fCAnJyxcbiAgICAgICAgICAgIHNuYXBjaGF0OiBkYlNldHRpbmdzLnNvY2lhbF9zbmFwY2hhdCB8fCAnJyxcbiAgICAgICAgICAgIHRlbGVncmFtOiBkYlNldHRpbmdzLnNvY2lhbF90ZWxlZ3JhbSB8fCAnJyxcbiAgICAgICAgICAgIHdoYXRzYXBwOiBkYlNldHRpbmdzLnNvY2lhbF93aGF0c2FwcCB8fCAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICBtZXRhVGl0bGU6IGRiU2V0dGluZ3Muc2VvX21ldGFfdGl0bGUgfHwgJ1ByZW1pdW0gQ2hvaWNlIC0gRHViYWkgUmVhbCBFc3RhdGUnLFxuICAgICAgICAgICAgbWV0YURlc2NyaXB0aW9uOiBkYlNldHRpbmdzLnNlb19tZXRhX2Rlc2NyaXB0aW9uIHx8ICdEaXNjb3ZlciBwcmVtaXVtIHJlYWwgZXN0YXRlIG9wcG9ydHVuaXRpZXMgaW4gRHViYWkgd2l0aCBQcmVtaXVtIENob2ljZS4gWW91ciB0cnVzdGVkIHBhcnRuZXIgZm9yIGx1eHVyeSBwcm9wZXJ0aWVzIGFuZCBpbnZlc3RtZW50IHNvbHV0aW9ucy4nLFxuICAgICAgICAgICAga2V5d29yZHM6IGRiU2V0dGluZ3Muc2VvX2tleXdvcmRzIHx8ICdEdWJhaSByZWFsIGVzdGF0ZSwgbHV4dXJ5IHByb3BlcnRpZXMsIGludmVzdG1lbnQsIFByZW1pdW0gQ2hvaWNlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgICAgIGVuYWJsZUJsb2c6IGRiU2V0dGluZ3MuZmVhdHVyZXNfZW5hYmxlX2Jsb2cgIT09IGZhbHNlLFxuICAgICAgICAgICAgZW5hYmxlTmV3c2xldHRlcjogZGJTZXR0aW5ncy5mZWF0dXJlc19lbmFibGVfbmV3c2xldHRlciAhPT0gZmFsc2UsXG4gICAgICAgICAgICBlbmFibGVXaGF0c0FwcDogZGJTZXR0aW5ncy5mZWF0dXJlc19lbmFibGVfd2hhdHNhcHAgIT09IGZhbHNlLFxuICAgICAgICAgICAgZW5hYmxlTGl2ZUNoYXQ6IGRiU2V0dGluZ3MuZmVhdHVyZXNfZW5hYmxlX2xpdmVfY2hhdCA9PT0gdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2hhdHNhcHA6IHtcbiAgICAgICAgICAgIHBob25lOiBkYlNldHRpbmdzLndoYXRzYXBwX3Bob25lIHx8IGRiU2V0dGluZ3MuY29udGFjdF93aGF0c2FwcCB8fCBudWxsLFxuICAgICAgICAgICAgZW5hYmxlZDogZGJTZXR0aW5ncy53aGF0c2FwcF9lbmFibGVkICE9PSBmYWxzZSxcbiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiBkYlNldHRpbmdzLndoYXRzYXBwX2RlZmF1bHRfbWVzc2FnZSB8fCAnSGVsbG8hIElcXCdtIGludGVyZXN0ZWQgaW4geW91ciByZWFsIGVzdGF0ZSBzZXJ2aWNlcy4nLFxuICAgICAgICAgICAgYnVzaW5lc3NIb3VyczogZGJTZXR0aW5ncy53aGF0c2FwcF9idXNpbmVzc19ob3VycyA/IEpTT04ucGFyc2UoZGJTZXR0aW5ncy53aGF0c2FwcF9idXNpbmVzc19ob3VycykgOiBudWxsLFxuICAgICAgICAgICAgYXV0b1JlcGx5OiBkYlNldHRpbmdzLndoYXRzYXBwX2F1dG9fcmVwbHkgfHwgbnVsbCxcbiAgICAgICAgICAgIHNob3dPblBhZ2VzOiBkYlNldHRpbmdzLndoYXRzYXBwX3Nob3dfb25fcGFnZXMgPyBKU09OLnBhcnNlKGRiU2V0dGluZ3Mud2hhdHNhcHBfc2hvd19vbl9wYWdlcykgOiBbJ2hvbWUnLCAncHJvamVjdHMnLCAnY29udGFjdCddXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgc2V0dGluZ3MgaWYgbm9uZSBleGlzdFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNpdGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnUHJlbWl1bSBDaG9pY2UnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdZb3VyIHRydXN0ZWQgcGFydG5lciBpbiBEdWJhaSByZWFsIGVzdGF0ZScsXG4gICAgICAgICAgICBsb2dvOiAnL2xvZ28ucG5nJyxcbiAgICAgICAgICAgIGZhdmljb246ICcvZmF2aWNvbi5pY28nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgICBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgIHBob25lOiBudWxsLFxuICAgICAgYWRkcmVzczogJ0R1YmFpLCBVQUUnLFxuICAgICAgd2hhdHNhcHA6IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNvY2lhbDoge1xuICAgICAgICAgICAgZmFjZWJvb2s6ICcnLFxuICAgICAgICAgICAgaW5zdGFncmFtOiAnJyxcbiAgICAgICAgICAgIHR3aXR0ZXI6ICcnLFxuICAgICAgICAgICAgbGlua2VkaW46ICcnLFxuICAgICAgICAgICAgeW91dHViZTogJycsXG4gICAgICAgICAgICB0aWt0b2s6ICcnLFxuICAgICAgICAgICAgc25hcGNoYXQ6ICcnLFxuICAgICAgICAgICAgdGVsZWdyYW06ICcnLFxuICAgICAgICAgICAgd2hhdHNhcHA6ICcnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZW86IHtcbiAgICAgICAgICAgIG1ldGFUaXRsZTogJ1ByZW1pdW0gQ2hvaWNlIC0gRHViYWkgUmVhbCBFc3RhdGUnLFxuICAgICAgICAgICAgbWV0YURlc2NyaXB0aW9uOiAnRGlzY292ZXIgcHJlbWl1bSByZWFsIGVzdGF0ZSBvcHBvcnR1bml0aWVzIGluIER1YmFpIHdpdGggUHJlbWl1bSBDaG9pY2UuIFlvdXIgdHJ1c3RlZCBwYXJ0bmVyIGZvciBsdXh1cnkgcHJvcGVydGllcyBhbmQgaW52ZXN0bWVudCBzb2x1dGlvbnMuJyxcbiAgICAgICAgICAgIGtleXdvcmRzOiAnRHViYWkgcmVhbCBlc3RhdGUsIGx1eHVyeSBwcm9wZXJ0aWVzLCBpbnZlc3RtZW50LCBQcmVtaXVtIENob2ljZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgICAgICBlbmFibGVCbG9nOiB0cnVlLFxuICAgICAgICAgICAgZW5hYmxlTmV3c2xldHRlcjogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZVdoYXRzQXBwOiB0cnVlLFxuICAgICAgICAgICAgZW5hYmxlTGl2ZUNoYXQ6IGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB3aGF0c2FwcDoge1xuICAgICAgICAgICAgcGhvbmU6IG51bGwsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdIZWxsbyEgSVxcJ20gaW50ZXJlc3RlZCBpbiB5b3VyIHJlYWwgZXN0YXRlIHNlcnZpY2VzLicsXG4gICAgICAgICAgICBidXNpbmVzc0hvdXJzOiBudWxsLFxuICAgICAgICAgICAgYXV0b1JlcGx5OiBudWxsLFxuICAgICAgICAgICAgc2hvd09uUGFnZXM6IFsnaG9tZScsICdwcm9qZWN0cycsICdjb250YWN0J11cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHVybiBkZWZhdWx0IHNldHRpbmdzIG9uIGVycm9yXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdGl0bGU6ICdQcmVtaXVtIENob2ljZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdZb3VyIHRydXN0ZWQgcGFydG5lciBpbiBEdWJhaSByZWFsIGVzdGF0ZScsXG4gICAgICAgICAgbG9nbzogJy9sb2dvLnBuZycsXG4gICAgICAgICAgZmF2aWNvbjogJy9mYXZpY29uLmljbydcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFjdDoge1xuICAgICAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgcGhvbmU6IG51bGwsXG4gICAgICBhZGRyZXNzOiAnRHViYWksIFVBRScsXG4gICAgICB3aGF0c2FwcDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBzb2NpYWw6IHtcbiAgICAgICAgICBmYWNlYm9vazogJycsXG4gICAgICAgICAgaW5zdGFncmFtOiAnJyxcbiAgICAgICAgICB0d2l0dGVyOiAnJyxcbiAgICAgICAgICBsaW5rZWRpbjogJycsXG4gICAgICAgICAgeW91dHViZTogJycsXG4gICAgICAgICAgdGlrdG9rOiAnJyxcbiAgICAgICAgICBzbmFwY2hhdDogJycsXG4gICAgICAgICAgdGVsZWdyYW06ICcnLFxuICAgICAgICAgIHdoYXRzYXBwOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBzZW86IHtcbiAgICAgICAgICBtZXRhVGl0bGU6ICdQcmVtaXVtIENob2ljZSAtIER1YmFpIFJlYWwgRXN0YXRlJyxcbiAgICAgICAgICBtZXRhRGVzY3JpcHRpb246ICdEaXNjb3ZlciBwcmVtaXVtIHJlYWwgZXN0YXRlIG9wcG9ydHVuaXRpZXMgaW4gRHViYWkgd2l0aCBQcmVtaXVtIENob2ljZS4gWW91ciB0cnVzdGVkIHBhcnRuZXIgZm9yIGx1eHVyeSBwcm9wZXJ0aWVzIGFuZCBpbnZlc3RtZW50IHNvbHV0aW9ucy4nLFxuICAgICAgICAgIGtleXdvcmRzOiAnRHViYWkgcmVhbCBlc3RhdGUsIGx1eHVyeSBwcm9wZXJ0aWVzLCBpbnZlc3RtZW50LCBQcmVtaXVtIENob2ljZSdcbiAgICAgICAgfSxcbiAgICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgICBlbmFibGVCbG9nOiB0cnVlLFxuICAgICAgICAgIGVuYWJsZU5ld3NsZXR0ZXI6IHRydWUsXG4gICAgICAgICAgZW5hYmxlV2hhdHNBcHA6IHRydWUsXG4gICAgICAgICAgZW5hYmxlTGl2ZUNoYXQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHdoYXRzYXBwOiB7XG4gICAgICAgICAgcGhvbmU6IG51bGwsXG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0hlbGxvISBJXFwnbSBpbnRlcmVzdGVkIGluIHlvdXIgcmVhbCBlc3RhdGUgc2VydmljZXMuJyxcbiAgICAgICAgICBidXNpbmVzc0hvdXJzOiBudWxsLFxuICAgICAgICAgIGF1dG9SZXBseTogbnVsbCxcbiAgICAgICAgICBzaG93T25QYWdlczogWydob21lJywgJ3Byb2plY3RzJywgJ2NvbnRhY3QnXVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVTZXR0aW5ncyhzZXR0aW5nc0RhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gVHJhbnNmb3JtIEFQSSBmb3JtYXQgdG8gZGF0YWJhc2UgY29sdW1uc1xuICAgICAgY29uc3QgZGJEYXRhOiBhbnkgPSB7fTtcbiAgICAgIFxuICAgICAgaWYgKHNldHRpbmdzRGF0YS5zaXRlKSB7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2l0ZS50aXRsZSkgZGJEYXRhLnNpdGVfdGl0bGUgPSBzZXR0aW5nc0RhdGEuc2l0ZS50aXRsZTtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zaXRlLmRlc2NyaXB0aW9uKSBkYkRhdGEuc2l0ZV9kZXNjcmlwdGlvbiA9IHNldHRpbmdzRGF0YS5zaXRlLmRlc2NyaXB0aW9uO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNpdGUubG9nbykgZGJEYXRhLnNpdGVfbG9nbyA9IHNldHRpbmdzRGF0YS5zaXRlLmxvZ287XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2l0ZS5mYXZpY29uKSBkYkRhdGEuc2l0ZV9mYXZpY29uID0gc2V0dGluZ3NEYXRhLnNpdGUuZmF2aWNvbjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHNldHRpbmdzRGF0YS5jb250YWN0KSB7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuY29udGFjdC5lbWFpbCkgZGJEYXRhLmNvbnRhY3RfZW1haWwgPSBzZXR0aW5nc0RhdGEuY29udGFjdC5lbWFpbDtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5jb250YWN0LnBob25lKSBkYkRhdGEuY29udGFjdF9waG9uZSA9IHNldHRpbmdzRGF0YS5jb250YWN0LnBob25lO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLmNvbnRhY3QuYWRkcmVzcykgZGJEYXRhLmNvbnRhY3RfYWRkcmVzcyA9IHNldHRpbmdzRGF0YS5jb250YWN0LmFkZHJlc3M7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuY29udGFjdC53aGF0c2FwcCkgZGJEYXRhLmNvbnRhY3Rfd2hhdHNhcHAgPSBzZXR0aW5nc0RhdGEuY29udGFjdC53aGF0c2FwcDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHNldHRpbmdzRGF0YS5zb2NpYWwpIHtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zb2NpYWwuZmFjZWJvb2sgIT09IHVuZGVmaW5lZCkgZGJEYXRhLnNvY2lhbF9mYWNlYm9vayA9IHNldHRpbmdzRGF0YS5zb2NpYWwuZmFjZWJvb2s7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc29jaWFsLmluc3RhZ3JhbSAhPT0gdW5kZWZpbmVkKSBkYkRhdGEuc29jaWFsX2luc3RhZ3JhbSA9IHNldHRpbmdzRGF0YS5zb2NpYWwuaW5zdGFncmFtO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNvY2lhbC50d2l0dGVyICE9PSB1bmRlZmluZWQpIGRiRGF0YS5zb2NpYWxfdHdpdHRlciA9IHNldHRpbmdzRGF0YS5zb2NpYWwudHdpdHRlcjtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zb2NpYWwubGlua2VkaW4gIT09IHVuZGVmaW5lZCkgZGJEYXRhLnNvY2lhbF9saW5rZWRpbiA9IHNldHRpbmdzRGF0YS5zb2NpYWwubGlua2VkaW47XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc29jaWFsLnlvdXR1YmUgIT09IHVuZGVmaW5lZCkgZGJEYXRhLnNvY2lhbF95b3V0dWJlID0gc2V0dGluZ3NEYXRhLnNvY2lhbC55b3V0dWJlO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNvY2lhbC50aWt0b2sgIT09IHVuZGVmaW5lZCkgZGJEYXRhLnNvY2lhbF90aWt0b2sgPSBzZXR0aW5nc0RhdGEuc29jaWFsLnRpa3RvaztcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zb2NpYWwuc25hcGNoYXQgIT09IHVuZGVmaW5lZCkgZGJEYXRhLnNvY2lhbF9zbmFwY2hhdCA9IHNldHRpbmdzRGF0YS5zb2NpYWwuc25hcGNoYXQ7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc29jaWFsLnRlbGVncmFtICE9PSB1bmRlZmluZWQpIGRiRGF0YS5zb2NpYWxfdGVsZWdyYW0gPSBzZXR0aW5nc0RhdGEuc29jaWFsLnRlbGVncmFtO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNvY2lhbC53aGF0c2FwcCAhPT0gdW5kZWZpbmVkKSBkYkRhdGEuc29jaWFsX3doYXRzYXBwID0gc2V0dGluZ3NEYXRhLnNvY2lhbC53aGF0c2FwcDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHNldHRpbmdzRGF0YS5zZW8pIHtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zZW8ubWV0YVRpdGxlKSBkYkRhdGEuc2VvX21ldGFfdGl0bGUgPSBzZXR0aW5nc0RhdGEuc2VvLm1ldGFUaXRsZTtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zZW8ubWV0YURlc2NyaXB0aW9uKSBkYkRhdGEuc2VvX21ldGFfZGVzY3JpcHRpb24gPSBzZXR0aW5nc0RhdGEuc2VvLm1ldGFEZXNjcmlwdGlvbjtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zZW8ua2V5d29yZHMpIGRiRGF0YS5zZW9fa2V5d29yZHMgPSBzZXR0aW5nc0RhdGEuc2VvLmtleXdvcmRzO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoc2V0dGluZ3NEYXRhLmZlYXR1cmVzKSB7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuZmVhdHVyZXMuZW5hYmxlQmxvZyAhPT0gdW5kZWZpbmVkKSBkYkRhdGEuZmVhdHVyZXNfZW5hYmxlX2Jsb2cgPSBzZXR0aW5nc0RhdGEuZmVhdHVyZXMuZW5hYmxlQmxvZztcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5mZWF0dXJlcy5lbmFibGVOZXdzbGV0dGVyICE9PSB1bmRlZmluZWQpIGRiRGF0YS5mZWF0dXJlc19lbmFibGVfbmV3c2xldHRlciA9IHNldHRpbmdzRGF0YS5mZWF0dXJlcy5lbmFibGVOZXdzbGV0dGVyO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLmZlYXR1cmVzLmVuYWJsZVdoYXRzQXBwICE9PSB1bmRlZmluZWQpIGRiRGF0YS5mZWF0dXJlc19lbmFibGVfd2hhdHNhcHAgPSBzZXR0aW5nc0RhdGEuZmVhdHVyZXMuZW5hYmxlV2hhdHNBcHA7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuZmVhdHVyZXMuZW5hYmxlTGl2ZUNoYXQgIT09IHVuZGVmaW5lZCkgZGJEYXRhLmZlYXR1cmVzX2VuYWJsZV9saXZlX2NoYXQgPSBzZXR0aW5nc0RhdGEuZmVhdHVyZXMuZW5hYmxlTGl2ZUNoYXQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzZXR0aW5nc0RhdGEud2hhdHNhcHApIHtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS53aGF0c2FwcC5waG9uZSAhPT0gdW5kZWZpbmVkKSBkYkRhdGEud2hhdHNhcHBfcGhvbmUgPSBzZXR0aW5nc0RhdGEud2hhdHNhcHAucGhvbmU7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEud2hhdHNhcHAuZW5hYmxlZCAhPT0gdW5kZWZpbmVkKSBkYkRhdGEud2hhdHNhcHBfZW5hYmxlZCA9IHNldHRpbmdzRGF0YS53aGF0c2FwcC5lbmFibGVkO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLndoYXRzYXBwLmRlZmF1bHRNZXNzYWdlICE9PSB1bmRlZmluZWQpIGRiRGF0YS53aGF0c2FwcF9kZWZhdWx0X21lc3NhZ2UgPSBzZXR0aW5nc0RhdGEud2hhdHNhcHAuZGVmYXVsdE1lc3NhZ2U7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEud2hhdHNhcHAuYnVzaW5lc3NIb3VycyAhPT0gdW5kZWZpbmVkKSBkYkRhdGEud2hhdHNhcHBfYnVzaW5lc3NfaG91cnMgPSBzZXR0aW5nc0RhdGEud2hhdHNhcHAuYnVzaW5lc3NIb3VycyA/IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzRGF0YS53aGF0c2FwcC5idXNpbmVzc0hvdXJzKSA6IG51bGw7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEud2hhdHNhcHAuYXV0b1JlcGx5ICE9PSB1bmRlZmluZWQpIGRiRGF0YS53aGF0c2FwcF9hdXRvX3JlcGx5ID0gc2V0dGluZ3NEYXRhLndoYXRzYXBwLmF1dG9SZXBseTtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS53aGF0c2FwcC5zaG93T25QYWdlcyAhPT0gdW5kZWZpbmVkKSBkYkRhdGEud2hhdHNhcHBfc2hvd19vbl9wYWdlcyA9IHNldHRpbmdzRGF0YS53aGF0c2FwcC5zaG93T25QYWdlcyA/IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzRGF0YS53aGF0c2FwcC5zaG93T25QYWdlcykgOiBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBzZXR0aW5ncyBleGlzdFxuICAgICAgY29uc3QgW2V4aXN0aW5nUm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBpZCBGUk9NIHNpdGVfc2V0dGluZ3MgTElNSVQgMScpO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBleGlzdGluZ1Jvd3MgYXMgYW55W107XG4gICAgICBcbiAgICAgIGlmIChleGlzdGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzZXR0aW5nc1xuICAgICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyhkYkRhdGEpO1xuICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gZGJEYXRhW2ZpZWxkXSk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICAgYFVQREFURSBzaXRlX3NldHRpbmdzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICAgICAgWy4uLnZhbHVlcywgZXhpc3RpbmdbMF0uaWRdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW5zZXJ0IG5ldyBzZXR0aW5ncyB3aXRoIGRlZmF1bHRzXG4gICAgICAgIGNvbnN0IGRlZmF1bHREYXRhID0ge1xuICAgICAgICAgIHNpdGVfdGl0bGU6ICdQcmVtaXVtIENob2ljZScsXG4gICAgICAgICAgc2l0ZV9kZXNjcmlwdGlvbjogJ1lvdXIgdHJ1c3RlZCBwYXJ0bmVyIGluIER1YmFpIHJlYWwgZXN0YXRlJyxcbiAgICAgICAgICBzaXRlX2xvZ286ICcvbG9nby5wbmcnLFxuICAgICAgICAgIHNpdGVfZmF2aWNvbjogJy9mYXZpY29uLmljbycsXG4gICAgICAgICAgY29udGFjdF9lbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgIGNvbnRhY3RfcGhvbmU6IG51bGwsXG4gICAgICBjb250YWN0X2FkZHJlc3M6ICdEdWJhaSwgVUFFJyxcbiAgICAgIGNvbnRhY3Rfd2hhdHNhcHA6IG51bGwsXG4gICAgICAgICAgc29jaWFsX2ZhY2Vib29rOiAnJyxcbiAgICAgICAgICBzb2NpYWxfaW5zdGFncmFtOiAnJyxcbiAgICAgICAgICBzb2NpYWxfdHdpdHRlcjogJycsXG4gICAgICAgICAgc29jaWFsX2xpbmtlZGluOiAnJyxcbiAgICAgICAgICBzb2NpYWxfeW91dHViZTogJycsXG4gICAgICAgICAgc2VvX21ldGFfdGl0bGU6ICdQcmVtaXVtIENob2ljZSAtIER1YmFpIFJlYWwgRXN0YXRlJyxcbiAgICAgICAgICBzZW9fbWV0YV9kZXNjcmlwdGlvbjogJ0Rpc2NvdmVyIHByZW1pdW0gcmVhbCBlc3RhdGUgb3Bwb3J0dW5pdGllcyBpbiBEdWJhaSB3aXRoIFByZW1pdW0gQ2hvaWNlLiBZb3VyIHRydXN0ZWQgcGFydG5lciBmb3IgbHV4dXJ5IHByb3BlcnRpZXMgYW5kIGludmVzdG1lbnQgc29sdXRpb25zLicsXG4gICAgICAgICAgc2VvX2tleXdvcmRzOiAnRHViYWkgcmVhbCBlc3RhdGUsIGx1eHVyeSBwcm9wZXJ0aWVzLCBpbnZlc3RtZW50LCBQcmVtaXVtIENob2ljZScsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX2Jsb2c6IHRydWUsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX25ld3NsZXR0ZXI6IHRydWUsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX3doYXRzYXBwOiB0cnVlLFxuICAgICAgICAgIGZlYXR1cmVzX2VuYWJsZV9saXZlX2NoYXQ6IGZhbHNlLFxuICAgICAgICAgIC4uLmRiRGF0YVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmtleXMoZGVmYXVsdERhdGEpO1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBmaWVsZHMubWFwKCgpID0+ICc/Jykuam9pbignLCAnKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiBkZWZhdWx0RGF0YVtmaWVsZF0pO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBJTlNFUlQgSU5UTyBzaXRlX3NldHRpbmdzICgke2ZpZWxkcy5qb2luKCcsICcpfSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCkgVkFMVUVTICgke3BsYWNlaG9sZGVyc30sIE5PVygpLCBOT1coKSlgLFxuICAgICAgICAgIHZhbHVlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFNldHRpbmdzKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByZXNlbnRhdGlvbiBzbGlkZXMgbWFuYWdlbWVudFxuICBzdGF0aWMgYXN5bmMgZ2V0UHJlc2VudGF0aW9uU2xpZGVzKHByb2plY3RJZDogbnVtYmVyKTogUHJvbWlzZTxQcmVzZW50YXRpb25TbGlkZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCAqIEZST00gcHJlc2VudGF0aW9uX3NsaWRlcyBXSEVSRSBwcm9qZWN0X2lkID0gPyBPUkRFUiBCWSBzbGlkZV9udW1iZXIgQVNDJyxcbiAgICAgICAgW3Byb2plY3RJZF1cbiAgICAgICk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiByb3dzIGFzIFByZXNlbnRhdGlvblNsaWRlW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByZXNlbnRhdGlvbiBzbGlkZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVQcmVzZW50YXRpb25TbGlkZShzbGlkZURhdGE6IE9taXQ8UHJlc2VudGF0aW9uU2xpZGUsICdpZCcgfCAnY3JlYXRlZF9hdCc+KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdGhlIG5leHQgc2xpZGUgbnVtYmVyIGZvciB0aGlzIHByb2plY3RcbiAgICAgIGNvbnN0IFttYXhTbGlkZVJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUIENPQUxFU0NFKE1BWChzbGlkZV9udW1iZXIpLCAwKSArIDEgYXMgbmV4dF9zbGlkZV9udW1iZXIgRlJPTSBwcmVzZW50YXRpb25fc2xpZGVzIFdIRVJFIHByb2plY3RfaWQgPSA/JyxcbiAgICAgICAgW3NsaWRlRGF0YS5wcm9qZWN0X2lkXVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5leHRTbGlkZU51bWJlciA9IChtYXhTbGlkZVJvd3MgYXMgYW55KVswXS5uZXh0X3NsaWRlX251bWJlcjtcblxuICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBJTlNFUlQgSU5UTyBwcmVzZW50YXRpb25fc2xpZGVzIFxuICAgICAgICAgKHByb2plY3RfaWQsIHNsaWRlX251bWJlciwgdGl0bGUsIGNvbnRlbnQsIGRlc2NyaXB0aW9uLCBpbWFnZV91cmwsIGJhY2tncm91bmRfaW1hZ2UsIGFuaW1hdGlvbl90eXBlLCBkdXJhdGlvbiwgdm9pY2Vfb3Zlcl91cmwpXG4gICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgW1xuICAgICAgICAgIHNsaWRlRGF0YS5wcm9qZWN0X2lkLFxuICAgICAgICAgIHNsaWRlRGF0YS5zbGlkZV9udW1iZXIgfHwgbmV4dFNsaWRlTnVtYmVyLFxuICAgICAgICAgIHNsaWRlRGF0YS50aXRsZSxcbiAgICAgICAgICBzbGlkZURhdGEuY29udGVudCxcbiAgICAgICAgICBzbGlkZURhdGEuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICBzbGlkZURhdGEuaW1hZ2VfdXJsIHx8IG51bGwsXG4gICAgICAgICAgc2xpZGVEYXRhLmJhY2tncm91bmRfaW1hZ2UgfHwgbnVsbCxcbiAgICAgICAgICBzbGlkZURhdGEuYW5pbWF0aW9uX3R5cGUgfHwgJ2ZhZGVJbicsXG4gICAgICAgICAgc2xpZGVEYXRhLmR1cmF0aW9uIHx8IDUwMDAsXG4gICAgICAgICAgc2xpZGVEYXRhLnZvaWNlX292ZXJfdXJsIHx8IG51bGxcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwcmVzZW50YXRpb24gc2xpZGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVByZXNlbnRhdGlvblNsaWRlKHNsaWRlSWQ6IG51bWJlciwgc2xpZGVEYXRhOiBQYXJ0aWFsPFByZXNlbnRhdGlvblNsaWRlPik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHNsaWRlRGF0YSkuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdpZCcgJiYga2V5ICE9PSAnY3JlYXRlZF9hdCcpO1xuICAgICAgY29uc3Qgc2V0Q2xhdXNlID0gZmllbGRzLm1hcChmaWVsZCA9PiBgJHtmaWVsZH0gPSA/YCkuam9pbignLCAnKTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gc2xpZGVEYXRhW2ZpZWxkIGFzIGtleW9mIFByZXNlbnRhdGlvblNsaWRlXSk7XG5cbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYFVQREFURSBwcmVzZW50YXRpb25fc2xpZGVzIFNFVCAke3NldENsYXVzZX0gV0hFUkUgaWQgPSA/YCxcbiAgICAgICAgWy4uLnZhbHVlcywgc2xpZGVJZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByZXNlbnRhdGlvbiBzbGlkZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZVByZXNlbnRhdGlvblNsaWRlKHNsaWRlSWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIHByZXNlbnRhdGlvbl9zbGlkZXMgV0hFUkUgaWQgPSA/JywgW3NsaWRlSWRdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHByZXNlbnRhdGlvbiBzbGlkZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZVByZXNlbnRhdGlvblNsaWRlc0J5UHJvamVjdChwcm9qZWN0SWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIHByZXNlbnRhdGlvbl9zbGlkZXMgV0hFUkUgcHJvamVjdF9pZCA9ID8nLCBbcHJvamVjdElkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwcmVzZW50YXRpb24gc2xpZGVzIGZvciBwcm9qZWN0OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBIZXJvIEltYWdlcyBNYW5hZ2VtZW50XG4gIHN0YXRpYyBhc3luYyBnZXRIZXJvSW1hZ2VzKCk6IFByb21pc2U8SGVyb0ltYWdlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUICogRlJPTSBoZXJvX2ltYWdlcyBPUkRFUiBCWSBvcmRlcl9pbmRleCBBU0MsIGNyZWF0ZWRfYXQgREVTQydcbiAgICAgICk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiByb3dzIGFzIEhlcm9JbWFnZVtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBoZXJvIGltYWdlczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUhlcm9JbWFnZShpbWFnZURhdGE6IE9taXQ8SGVyb0ltYWdlLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8SGVyb0ltYWdlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBuZXh0IG9yZGVyIGluZGV4XG4gICAgICBjb25zdCBbbWF4T3JkZXJSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCBDT0FMRVNDRShNQVgob3JkZXJfaW5kZXgpLCAwKSArIDEgYXMgbmV4dF9vcmRlciBGUk9NIGhlcm9faW1hZ2VzJ1xuICAgICAgKTtcbiAgICAgIGNvbnN0IG5leHRPcmRlciA9IChtYXhPcmRlclJvd3MgYXMgYW55KVswXS5uZXh0X29yZGVyO1xuXG4gICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYElOU0VSVCBJTlRPIGhlcm9faW1hZ2VzIFxuICAgICAgICAgKHVybCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBhbHRfdGV4dCwgaXNfYWN0aXZlLCBvcmRlcl9pbmRleCwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdClcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgTk9XKCksIE5PVygpKWAsXG4gICAgICAgIFtcbiAgICAgICAgICBpbWFnZURhdGEudXJsLFxuICAgICAgICAgIGltYWdlRGF0YS50aXRsZSxcbiAgICAgICAgICBpbWFnZURhdGEuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICBpbWFnZURhdGEuYWx0X3RleHQgfHwgaW1hZ2VEYXRhLnRpdGxlLFxuICAgICAgICAgIGltYWdlRGF0YS5pc19hY3RpdmUgIT09IHVuZGVmaW5lZCA/IGltYWdlRGF0YS5pc19hY3RpdmUgOiB0cnVlLFxuICAgICAgICAgIGltYWdlRGF0YS5vcmRlcl9pbmRleCB8fCBuZXh0T3JkZXJcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW5zZXJ0SWQgPSAocmVzdWx0IGFzIGFueSkuaW5zZXJ0SWQ7XG4gICAgICBcbiAgICAgIC8vIEZldGNoIGFuZCByZXR1cm4gdGhlIGNyZWF0ZWQgaW1hZ2VcbiAgICAgIGNvbnN0IFtuZXdJbWFnZVJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUICogRlJPTSBoZXJvX2ltYWdlcyBXSEVSRSBpZCA9ID8nLFxuICAgICAgICBbaW5zZXJ0SWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiAobmV3SW1hZ2VSb3dzIGFzIEhlcm9JbWFnZVtdKVswXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaGVybyBpbWFnZTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlSGVyb0ltYWdlKGltYWdlSWQ6IG51bWJlciwgaW1hZ2VEYXRhOiBQYXJ0aWFsPEhlcm9JbWFnZT4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyhpbWFnZURhdGEpLmZpbHRlcihrZXkgPT4gXG4gICAgICAgIGtleSAhPT0gJ2lkJyAmJiBrZXkgIT09ICdjcmVhdGVkX2F0JyAmJiBrZXkgIT09ICd1cGRhdGVkX2F0J1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiBpbWFnZURhdGFbZmllbGQgYXMga2V5b2YgSGVyb0ltYWdlXSk7XG5cbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgVVBEQVRFIGhlcm9faW1hZ2VzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICBbLi4udmFsdWVzLCBpbWFnZUlkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gKHJlc3VsdCBhcyBhbnkpLmFmZmVjdGVkUm93cyA+IDA7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGhlcm8gaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVIZXJvSW1hZ2UoaW1hZ2VJZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBoZXJvX2ltYWdlcyBXSEVSRSBpZCA9ID8nLCBbaW1hZ2VJZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gKHJlc3VsdCBhcyBhbnkpLmFmZmVjdGVkUm93cyA+IDA7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGhlcm8gaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFJIEFQSSBTZXR0aW5ncyBNYW5hZ2VtZW50XG4gIHN0YXRpYyBhc3luYyBnZXRBSVNldHRpbmdzKCk6IFByb21pc2U8QUlBcGlTZXR0aW5ncyB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGFpX2FwaV9zZXR0aW5ncyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MgTElNSVQgMScpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gcm93cyBhcyBBSUFwaVNldHRpbmdzW107XG4gICAgICByZXR1cm4gc2V0dGluZ3MubGVuZ3RoID4gMCA/IHNldHRpbmdzWzBdIDogbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQUkgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHNhdmVBSVNldHRpbmdzKHNldHRpbmdzRGF0YTogT21pdDxBSUFwaVNldHRpbmdzLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8QUlBcGlTZXR0aW5ncz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHNldHRpbmdzIGV4aXN0XG4gICAgICBjb25zdCBbZXhpc3RpbmdSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIGlkIEZST00gYWlfYXBpX3NldHRpbmdzIExJTUlUIDEnKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gZXhpc3RpbmdSb3dzIGFzIGFueVtdO1xuICAgICAgXG4gICAgICBpZiAoZXhpc3RpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3Rpbmcgc2V0dGluZ3NcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBVUERBVEUgYWlfYXBpX3NldHRpbmdzIFNFVCBcbiAgICAgICAgICAgb3BlbmFpX2FwaV9rZXkgPSA/LCBvcGVuYWlfbW9kZWwgPSA/LCBvcGVuYWlfbWF4X3Rva2VucyA9ID8sIG9wZW5haV90ZW1wZXJhdHVyZSA9ID8sXG4gICAgICAgICAgIGdlbWluaV9hcGlfa2V5ID0gPywgZ2VtaW5pX21vZGVsID0gPywgY2xhdWRlX2FwaV9rZXkgPSA/LCBjbGF1ZGVfbW9kZWwgPSA/LFxuICAgICAgICAgICBkZWVwc2Vla19hcGlfa2V5ID0gPywgZGVlcHNlZWtfbW9kZWwgPSA/LCBkZWVwc2Vla19tYXhfdG9rZW5zID0gPywgZGVlcHNlZWtfdGVtcGVyYXR1cmUgPSA/LFxuICAgICAgICAgICBkZWZhdWx0X3Byb3ZpZGVyID0gPywgYWlfZW5hYmxlZCA9ID8sIHJhdGVfbGltaXRfcGVyX21pbnV0ZSA9ID8sIHJhdGVfbGltaXRfcGVyX2hvdXIgPSA/LFxuICAgICAgICAgICBzeXN0ZW1fcHJvbXB0ID0gPywgcHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZCA9ID8sIHByb3BlcnR5X3N1Z2dlc3Rpb25zX2NvdW50ID0gPywgY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyA9ID8sXG4gICAgICAgICAgIHVwZGF0ZWRfYXQgPSBOT1coKVxuICAgICAgICAgICBXSEVSRSBpZCA9ID9gLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5vcGVuYWlfYXBpX2tleSB8fCAnJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5vcGVuYWlfbW9kZWwgfHwgJ2dwdC0zLjUtdHVyYm8nLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLm9wZW5haV9tYXhfdG9rZW5zIHx8IDEwMDAsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEub3BlbmFpX3RlbXBlcmF0dXJlIHx8IDAuNyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5nZW1pbmlfYXBpX2tleSB8fCAnJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5nZW1pbmlfbW9kZWwgfHwgJ2dlbWluaS1wcm8nLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmNsYXVkZV9hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmNsYXVkZV9tb2RlbCB8fCAnY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5JyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5kZWVwc2Vla19hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZXBzZWVrX21vZGVsIHx8ICdkZWVwc2Vlay1jaGF0JyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5kZWVwc2Vla19tYXhfdG9rZW5zIHx8IDEwMDAsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuZGVlcHNlZWtfdGVtcGVyYXR1cmUgfHwgMC43LFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZmF1bHRfcHJvdmlkZXIgfHwgJ29wZW5haScsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuYWlfZW5hYmxlZCAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3NEYXRhLmFpX2VuYWJsZWQgOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnJhdGVfbGltaXRfcGVyX21pbnV0ZSB8fCAxMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5yYXRlX2xpbWl0X3Blcl9ob3VyIHx8IDEwMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5zeXN0ZW1fcHJvbXB0IHx8ICdZb3UgYXJlIGFuIGV4cGVydCByZWFsIGVzdGF0ZSBjb25zdWx0YW50IHdpdGggZGVlcCBrbm93bGVkZ2Ugb2YgdGhlIER1YmFpIGFuZCBVQUUgcHJvcGVydHkgbWFya2V0LicsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEucHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZCAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3NEYXRhLnByb3BlcnR5X3N1Z2dlc3Rpb25zX2VuYWJsZWQgOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnByb3BlcnR5X3N1Z2dlc3Rpb25zX2NvdW50IHx8IDQsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3NEYXRhLmNvbnRhY3RfaW5mb19pbl9yZXNwb25zZXMgOiB0cnVlLFxuICAgICAgICAgICAgZXhpc3RpbmdbMF0uaWRcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbnNlcnQgbmV3IHNldHRpbmdzXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICBgSU5TRVJUIElOVE8gYWlfYXBpX3NldHRpbmdzIFxuICAgICAgICAgICAob3BlbmFpX2FwaV9rZXksIG9wZW5haV9tb2RlbCwgb3BlbmFpX21heF90b2tlbnMsIG9wZW5haV90ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgIGdlbWluaV9hcGlfa2V5LCBnZW1pbmlfbW9kZWwsIGNsYXVkZV9hcGlfa2V5LCBjbGF1ZGVfbW9kZWwsXG4gICAgICAgICAgICBkZWVwc2Vla19hcGlfa2V5LCBkZWVwc2Vla19tb2RlbCwgZGVlcHNlZWtfbWF4X3Rva2VucywgZGVlcHNlZWtfdGVtcGVyYXR1cmUsXG4gICAgICAgICAgICBkZWZhdWx0X3Byb3ZpZGVyLCBhaV9lbmFibGVkLCByYXRlX2xpbWl0X3Blcl9taW51dGUsIHJhdGVfbGltaXRfcGVyX2hvdXIsXG4gICAgICAgICAgICBzeXN0ZW1fcHJvbXB0LCBwcm9wZXJ0eV9zdWdnZXN0aW9uc19lbmFibGVkLCBwcm9wZXJ0eV9zdWdnZXN0aW9uc19jb3VudCwgY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpXG4gICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgTk9XKCksIE5PVygpKWAsXG4gICAgICAgICAgW1xuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLm9wZW5haV9hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLm9wZW5haV9tb2RlbCB8fCAnZ3B0LTMuNS10dXJibycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEub3BlbmFpX21heF90b2tlbnMgfHwgMTAwMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5vcGVuYWlfdGVtcGVyYXR1cmUgfHwgMC43LFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmdlbWluaV9hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmdlbWluaV9tb2RlbCB8fCAnZ2VtaW5pLXBybycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuY2xhdWRlX2FwaV9rZXkgfHwgJycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuY2xhdWRlX21vZGVsIHx8ICdjbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjknLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZXBzZWVrX2FwaV9rZXkgfHwgJycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuZGVlcHNlZWtfbW9kZWwgfHwgJ2RlZXBzZWVrLWNoYXQnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZXBzZWVrX21heF90b2tlbnMgfHwgMTAwMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5kZWVwc2Vla190ZW1wZXJhdHVyZSB8fCAwLjcsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuZGVmYXVsdF9wcm92aWRlciB8fCAnb3BlbmFpJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5haV9lbmFibGVkICE9PSB1bmRlZmluZWQgPyBzZXR0aW5nc0RhdGEuYWlfZW5hYmxlZCA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEucmF0ZV9saW1pdF9wZXJfbWludXRlIHx8IDEwLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnJhdGVfbGltaXRfcGVyX2hvdXIgfHwgMTAwLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnN5c3RlbV9wcm9tcHQgfHwgJ1lvdSBhcmUgYW4gZXhwZXJ0IHJlYWwgZXN0YXRlIGNvbnN1bHRhbnQgd2l0aCBkZWVwIGtub3dsZWRnZSBvZiB0aGUgRHViYWkgYW5kIFVBRSBwcm9wZXJ0eSBtYXJrZXQuJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5wcm9wZXJ0eV9zdWdnZXN0aW9uc19lbmFibGVkICE9PSB1bmRlZmluZWQgPyBzZXR0aW5nc0RhdGEucHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZCA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEucHJvcGVydHlfc3VnZ2VzdGlvbnNfY291bnQgfHwgNCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5jb250YWN0X2luZm9faW5fcmVzcG9uc2VzICE9PSB1bmRlZmluZWQgPyBzZXR0aW5nc0RhdGEuY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyA6IHRydWVcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QUlTZXR0aW5ncygpIGFzIEFJQXBpU2V0dGluZ3M7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBBSSBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBBY3Rpdml0eSBMb2dnaW5nIE1ldGhvZHNcbiAgc3RhdGljIGFzeW5jIGdldFJlY2VudEFjdGl2aXRpZXMobGltaXQ6IG51bWJlciA9IDEwLCBmcm9udGVuZE9ubHk6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8U3lzdGVtQWN0aXZpdHlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIGxldCBxdWVyeSA9IGBTRUxFQ1QgaWQsIHRpbWVzdGFtcCwgbGV2ZWwsIGNhdGVnb3J5LCBtZXNzYWdlLCBkZXRhaWxzIFxuICAgICAgICAgICAgICAgICAgIEZST00gc3lzdGVtX2xvZ3NgO1xuICAgICAgbGV0IHBhcmFtczogYW55W10gPSBbXTtcbiAgICAgIFxuICAgICAgaWYgKGZyb250ZW5kT25seSkge1xuICAgICAgICAvLyBGaWx0ZXIgZm9yIGZyb250ZW5kLXJlbGV2YW50IGFjdGl2aXRpZXMgb25seVxuICAgICAgICBxdWVyeSArPSBgIFdIRVJFIGNhdGVnb3J5IElOICgncHJvamVjdCcsICdkZXZlbG9wZXInLCAnYXJ0aWNsZScsICdtZWRpYScpYDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcXVlcnkgKz0gYCBPUkRFUiBCWSB0aW1lc3RhbXAgREVTQyBMSU1JVCA/YDtcbiAgICAgIHBhcmFtcy5wdXNoKGxpbWl0KTtcbiAgICAgIFxuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiAocm93cyBhcyBhbnlbXSkubWFwKHJvdyA9PiAoe1xuICAgICAgICBpZDogcm93LmlkLFxuICAgICAgICB0aW1lc3RhbXA6IHJvdy50aW1lc3RhbXAsXG4gICAgICAgIGxldmVsOiByb3cubGV2ZWwsXG4gICAgICAgIGNhdGVnb3J5OiByb3cuY2F0ZWdvcnksXG4gICAgICAgIG1lc3NhZ2U6IHJvdy5tZXNzYWdlLFxuICAgICAgICBkZXRhaWxzOiByb3cuZGV0YWlscyA/IEpTT04ucGFyc2Uocm93LmRldGFpbHMpIDogbnVsbFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZWNlbnQgYWN0aXZpdGllczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlQWN0aXZpdHkoYWN0aXZpdHlEYXRhOiB7XG4gICAgbGV2ZWw6ICdpbmZvJyB8ICd3YXJuaW5nJyB8ICdlcnJvcicgfCAnc3VjY2Vzcyc7XG4gICAgY2F0ZWdvcnk6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgZGV0YWlscz86IHN0cmluZyB8IG51bGw7XG4gIH0pOiBQcm9taXNlPFN5c3RlbUFjdGl2aXR5PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgSU5TRVJUIElOVE8gc3lzdGVtX2xvZ3MgKGxldmVsLCBjYXRlZ29yeSwgbWVzc2FnZSwgZGV0YWlscywgdGltZXN0YW1wKSBcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgTk9XKCkpYCxcbiAgICAgICAgW2FjdGl2aXR5RGF0YS5sZXZlbCwgYWN0aXZpdHlEYXRhLmNhdGVnb3J5LCBhY3Rpdml0eURhdGEubWVzc2FnZSwgYWN0aXZpdHlEYXRhLmRldGFpbHNdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBpbnNlcnRJZCA9IChyZXN1bHQgYXMgYW55KS5pbnNlcnRJZDtcbiAgICAgIFxuICAgICAgLy8gRmV0Y2ggdGhlIGNyZWF0ZWQgYWN0aXZpdHlcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYFNFTEVDVCBpZCwgdGltZXN0YW1wLCBsZXZlbCwgY2F0ZWdvcnksIG1lc3NhZ2UsIGRldGFpbHMgXG4gICAgICAgICBGUk9NIHN5c3RlbV9sb2dzIFxuICAgICAgICAgV0hFUkUgaWQgPSA/YCxcbiAgICAgICAgW2luc2VydElkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJvdyA9IChyb3dzIGFzIGFueVtdKVswXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiByb3cuaWQsXG4gICAgICAgIHRpbWVzdGFtcDogcm93LnRpbWVzdGFtcCxcbiAgICAgICAgbGV2ZWw6IHJvdy5sZXZlbCxcbiAgICAgICAgY2F0ZWdvcnk6IHJvdy5jYXRlZ29yeSxcbiAgICAgICAgbWVzc2FnZTogcm93Lm1lc3NhZ2UsXG4gICAgICAgIGRldGFpbHM6IHJvdy5kZXRhaWxzID8gSlNPTi5wYXJzZShyb3cuZGV0YWlscykgOiBudWxsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhY3Rpdml0eTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuLy8gU3RhbmRhbG9uZSBxdWVyeSBmdW5jdGlvbiBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGNvbnN0IHF1ZXJ5ID0gTXlTUUxEYXRhYmFzZS5xdWVyeS5iaW5kKE15U1FMRGF0YWJhc2UpO1xuXG4vLyBFeHBvcnQgZ2V0RGF0YWJhc2UgZnVuY3Rpb24gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXRhYmFzZSgpIHtcbiAgcmV0dXJuIHBvb2w7XG59XG5cbi8vIEV4cG9ydCBnZXRDb25uZWN0aW9uIGZ1bmN0aW9uIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbigpIHtcbiAgcmV0dXJuIGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xufVxuXG4vLyBFeHBvcnQgRGF0YWJhc2UgY2xhc3MgYWxpYXMgZm9yIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBEYXRhYmFzZSA9IE15U1FMRGF0YWJhc2U7XG5cbmV4cG9ydCBkZWZhdWx0IE15U1FMRGF0YWJhc2U7Il0sIm5hbWVzIjpbIm15c3FsIiwiZGJDb25maWciLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkRCX0hPU1QiLCJ1c2VyIiwiREJfVVNFUiIsInBhc3N3b3JkIiwiREJfUEFTU1dPUkQiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJwb3J0IiwiREJfUE9SVCIsIk51bWJlciIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiLCJhY3F1aXJlVGltZW91dCIsInRpbWVvdXQiLCJlbmFibGVLZWVwQWxpdmUiLCJrZWVwQWxpdmVJbml0aWFsRGVsYXkiLCJpZGxlVGltZW91dCIsIm1heElkbGUiLCJtdWx0aXBsZVN0YXRlbWVudHMiLCJwb29sIiwiY3JlYXRlUG9vbCIsIk15U1FMRGF0YWJhc2UiLCJ0ZXN0Q29ubmVjdGlvbiIsImNvbm5lY3Rpb24iLCJnZXRDb25uZWN0aW9uIiwicGluZyIsInJlbGVhc2UiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbGVhbnVwIiwiZW5kIiwiZXhlY3V0ZVF1ZXJ5IiwicXVlcnkiLCJwYXJhbXMiLCJyZXN1bHQiLCJleGVjdXRlIiwic3FsIiwiaW5pdGlhbGl6ZSIsImlzQ29ubmVjdGVkIiwiRXJyb3IiLCJpbml0aWFsaXplVGFibGVzIiwiYWRkTWlzc2luZ1NvY2lhbENvbHVtbnMiLCJhbHRlclRhYmxlU1FMIiwiY3JlYXRlVGFibGVzU1FMIiwiY3JlYXRlRGVmYXVsdEFkbWluIiwiZXhpc3RpbmdVc2VycyIsImxlbmd0aCIsInVwZGF0ZUFydGljbGVzVGFibGUiLCJjb2x1bW5zVG9BZGQiLCJuYW1lIiwiZGVmaW5pdGlvbiIsImNvbHVtbiIsInJvd3MiLCJnZXRQcm9qZWN0cyIsInBhcnNlSnNvbkZpZWxkIiwiZmllbGQiLCJKU09OIiwicGFyc2UiLCJzcGxpdCIsIm1hcCIsIml0ZW0iLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsInByb2plY3RzIiwicHJvamVjdCIsImdhbGxlcnkiLCJmZWF0dXJlcyIsImFtZW5pdGllcyIsInByb3BlcnR5X3R5cGVzIiwic3ViX3Byb2plY3RzIiwibWVkaWFfZmlsZXMiLCJ1bml0cyIsInByb3BlcnR5X3R5cGUiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJyZWxlYXNlRXJyb3IiLCJnZXRQcm9qZWN0c0J5RGV2ZWxvcGVyIiwiZGV2ZWxvcGVyTmFtZSIsImdldFByb2plY3RCeVNsdWciLCJzbHVnIiwicHJvamVjdFJvd3MiLCJzbGlkZVJvd3MiLCJpZCIsInBhcnNlQ29sb3JQYWxldHRlIiwiY29sb3JQYWxldHRlIiwicHJlc2VudGF0aW9uX3NsaWRlcyIsImNyZWF0ZVByb2plY3QiLCJkZXNjcmlwdGlvbiIsInRvTnVsbElmVW5kZWZpbmVkIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJmaW5hbFNsdWciLCJleGlzdGluZ1Jvd3MiLCJEYXRlIiwibm93IiwiZGV2ZWxvcGVyIiwiZGV2ZWxvcGVyX2lkIiwibG9jYXRpb24iLCJwcmljZSIsInN0YXR1cyIsImJlZHJvb21zIiwiYmF0aHJvb21zIiwiYXJlYSIsImltYWdlIiwic3RyaW5naWZ5IiwiY29vcmRpbmF0ZXNfbGF0IiwiY29vcmRpbmF0ZXNfbG5nIiwicHJlc2VudGF0aW9uX2ZpbGUiLCJwcmVzZW50YXRpb25fdXJsIiwicHJlc2VudGF0aW9uX2FuaW1hdGlvbnMiLCJwcmVzZW50YXRpb25fZWZmZWN0cyIsImZlYXR1cmVkX3ZpZGVvIiwic3R1ZGlvcyIsImluc2VydElkIiwiZGV2Um93cyIsInVwZGF0ZURldmVsb3BlclByb2plY3RDb3VudCIsImNyZWF0ZUFjdGl2aXR5IiwibGV2ZWwiLCJjYXRlZ29yeSIsImRldGFpbHMiLCJsb2dFcnJvciIsImdldFByb2plY3RCeUlkIiwiY29kZSIsInVwZGF0ZVByb2plY3QiLCJ1cGRhdGVEYXRhIiwiY3VycmVudFJvd3MiLCJjdXJyZW50UHJvamVjdCIsIm9sZERldmVsb3BlciIsImZpZWxkcyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJzZXRDbGF1c2UiLCJqb2luIiwidmFsdWVzIiwibmV3RGV2ZWxvcGVyIiwidXBkYXRlZFByb2plY3QiLCJ1cGRhdGVkRmllbGRzIiwiZmllbGRUZXh0IiwiZGVsZXRlUHJvamVjdCIsImNoZWNrUm93cyIsInByb2plY3REYXRhIiwicHJvamVjdE5hbWUiLCJhZmZlY3RlZFJvd3MiLCJnZXREZXZlbG9wZXJzIiwiY3JlYXRlRGV2ZWxvcGVyIiwibG9nbyIsImVzdGFibGlzaGVkIiwicHJvamVjdHNfY291bnQiLCJ3ZWJzaXRlIiwicGhvbmUiLCJlbWFpbCIsImdldERldmVsb3BlckJ5SWQiLCJkZXZlbG9wZXJzIiwidXBkYXRlRGV2ZWxvcGVyIiwiY3VycmVudERldmVsb3BlciIsImRldmVsb3BlcklkIiwiZGVsZXRlRGV2ZWxvcGVyIiwiY291bnRSb3dzIiwicHJvamVjdENvdW50IiwicHJvamVjdF9jb3VudCIsImdldFByb2plY3RzQnlEZXZlbG9wZXJJZCIsImdldERldmVsb3BlcldpdGhQcm9qZWN0cyIsImRldmVsb3BlclJvd3MiLCJhc3NpZ25Qcm9qZWN0VG9EZXZlbG9wZXIiLCJwcm9qZWN0SWQiLCJ1bmFzc2lnblByb2plY3RGcm9tRGV2ZWxvcGVyIiwiY3VycmVudERldmVsb3BlcklkIiwiZGVsZXRlRGV2ZWxvcGVyV2l0aENhc2NhZGUiLCJiZWdpblRyYW5zYWN0aW9uIiwiZGVsZXRlZFByb2plY3RzIiwiY29tbWl0Iiwic3VjY2VzcyIsInJvbGxiYWNrIiwiY3JlYXRlUHJvamVjdFdpdGhEZXZlbG9wZXIiLCJwcm9qZWN0VG9DcmVhdGUiLCJwcm9qZWN0X25hbWUiLCJzdWJfcHJvamVjdCIsImRpc3BsYXlfdGl0bGUiLCJzdGFydGluZ19wcmljZSIsInByb2plY3RfdHlwZSIsInR5cGUiLCJjb2xvcl9wYWxldHRlIiwidW5pdHNfMWJlZHJvb20iLCJ1bml0c18yYmVkcm9vbSIsInVuaXRzXzNiZWRyb29tIiwidW5pdHNfNGJlZHJvb20iLCJ1bml0c181YmVkcm9vbSIsInVuaXRzX29mZmljZSIsImxpdmluZ19yb29tcyIsImlzX2ZlYXR1cmVkIiwiYnJvY2h1cmVfdXJsIiwidGhlbWVfY29sb3IiLCJ2b2ljZV9vdmVyX3VybCIsIm1lZGlhX3R5cGUiLCJnZXRBcnRpY2xlcyIsImFydGljbGVzIiwiYXJ0aWNsZSIsInRhZ3MiLCJyZWFkX3RpbWUiLCJtZXRhX2Rlc2NyaXB0aW9uIiwiZmVhdHVyZWQiLCJ2aWV3c19jb3VudCIsImNyZWF0ZUFydGljbGUiLCJ0aXRsZSIsImNvbnRlbnQiLCJleGNlcnB0IiwiZmVhdHVyZWRfaW1hZ2UiLCJhdXRob3IiLCJwdWJsaXNoZWRfYXQiLCJnZXRBcnRpY2xlQnlJZCIsImluc2VydEVycm9yIiwidXBkYXRlQXJ0aWNsZSIsInByb2Nlc3NlZERhdGEiLCJkZWxldGVBcnRpY2xlIiwiZ2V0QXJ0aWNsZUJ5U2x1ZyIsImdldFB1Ymxpc2hlZEFydGljbGVzIiwib3B0aW9ucyIsImxpbWl0IiwicHVzaCIsImdldE1lZGlhRmlsZXMiLCJjcmVhdGVNZWRpYUZpbGUiLCJtZWRpYURhdGEiLCJmaWxlbmFtZSIsIm9yaWdpbmFsX25hbWUiLCJmaWxlX3BhdGgiLCJmaWxlX3NpemUiLCJtaW1lX3R5cGUiLCJhbHRfdGV4dCIsInVwbG9hZGVkX2J5IiwiZ2V0TWVkaWFGaWxlQnlJZCIsIm1lZGlhRmlsZXMiLCJ1cGRhdGVNZWRpYUZpbGUiLCJkZWxldGVNZWRpYUZpbGUiLCJnZXRIZXJvU2VjdGlvbnMiLCJjcmVhdGVIZXJvU2VjdGlvbiIsImhlcm9EYXRhIiwicGFnZSIsInN1YnRpdGxlIiwiYmFja2dyb3VuZF9pbWFnZSIsImN0YV90ZXh0IiwiY3RhX2xpbmsiLCJpc19hY3RpdmUiLCJnZXRIZXJvU2VjdGlvbkJ5SWQiLCJoZXJvU2VjdGlvbnMiLCJ1cGRhdGVIZXJvU2VjdGlvbiIsImRlbGV0ZUhlcm9TZWN0aW9uIiwiZ2V0VXNlckJ5RW1haWwiLCJ1c2VycyIsInVwZGF0ZVVzZXJMYXN0TG9naW4iLCJ1c2VySWQiLCJjcmVhdGVMb2ciLCJsb2dEYXRhIiwidXNlcl9pZCIsImlwX2FkZHJlc3MiLCJ1c2VyX2FnZW50IiwiZ2V0U3lzdGVtU3RhdHMiLCJkZXZlbG9wZXJDb3VudCIsInVzZXJDb3VudCIsImxvZ0NvdW50IiwidG90YWxQcm9qZWN0cyIsImNvdW50IiwidG90YWxEZXZlbG9wZXJzIiwidG90YWxVc2VycyIsInRvdGFsTG9ncyIsImxhc3RCYWNrdXAiLCJnZXRTZXR0aW5ncyIsInNldHRpbmdzIiwiZGJTZXR0aW5ncyIsInNpdGUiLCJzaXRlX3RpdGxlIiwic2l0ZV9kZXNjcmlwdGlvbiIsInNpdGVfbG9nbyIsImZhdmljb24iLCJzaXRlX2Zhdmljb24iLCJjb250YWN0IiwiY29udGFjdF9lbWFpbCIsImNvbnRhY3RfcGhvbmUiLCJhZGRyZXNzIiwiY29udGFjdF9hZGRyZXNzIiwid2hhdHNhcHAiLCJjb250YWN0X3doYXRzYXBwIiwid2hhdHNhcHBfcGhvbmUiLCJzb2NpYWwiLCJmYWNlYm9vayIsInNvY2lhbF9mYWNlYm9vayIsImluc3RhZ3JhbSIsInNvY2lhbF9pbnN0YWdyYW0iLCJ0d2l0dGVyIiwic29jaWFsX3R3aXR0ZXIiLCJsaW5rZWRpbiIsInNvY2lhbF9saW5rZWRpbiIsInlvdXR1YmUiLCJzb2NpYWxfeW91dHViZSIsInRpa3RvayIsInNvY2lhbF90aWt0b2siLCJzbmFwY2hhdCIsInNvY2lhbF9zbmFwY2hhdCIsInRlbGVncmFtIiwic29jaWFsX3RlbGVncmFtIiwic29jaWFsX3doYXRzYXBwIiwic2VvIiwibWV0YVRpdGxlIiwic2VvX21ldGFfdGl0bGUiLCJtZXRhRGVzY3JpcHRpb24iLCJzZW9fbWV0YV9kZXNjcmlwdGlvbiIsImtleXdvcmRzIiwic2VvX2tleXdvcmRzIiwiZW5hYmxlQmxvZyIsImZlYXR1cmVzX2VuYWJsZV9ibG9nIiwiZW5hYmxlTmV3c2xldHRlciIsImZlYXR1cmVzX2VuYWJsZV9uZXdzbGV0dGVyIiwiZW5hYmxlV2hhdHNBcHAiLCJmZWF0dXJlc19lbmFibGVfd2hhdHNhcHAiLCJlbmFibGVMaXZlQ2hhdCIsImZlYXR1cmVzX2VuYWJsZV9saXZlX2NoYXQiLCJlbmFibGVkIiwid2hhdHNhcHBfZW5hYmxlZCIsImRlZmF1bHRNZXNzYWdlIiwid2hhdHNhcHBfZGVmYXVsdF9tZXNzYWdlIiwiYnVzaW5lc3NIb3VycyIsIndoYXRzYXBwX2J1c2luZXNzX2hvdXJzIiwiYXV0b1JlcGx5Iiwid2hhdHNhcHBfYXV0b19yZXBseSIsInNob3dPblBhZ2VzIiwid2hhdHNhcHBfc2hvd19vbl9wYWdlcyIsInVwZGF0ZVNldHRpbmdzIiwic2V0dGluZ3NEYXRhIiwiZGJEYXRhIiwiZXhpc3RpbmciLCJkZWZhdWx0RGF0YSIsInBsYWNlaG9sZGVycyIsImdldFByZXNlbnRhdGlvblNsaWRlcyIsImNyZWF0ZVByZXNlbnRhdGlvblNsaWRlIiwic2xpZGVEYXRhIiwibWF4U2xpZGVSb3dzIiwicHJvamVjdF9pZCIsIm5leHRTbGlkZU51bWJlciIsIm5leHRfc2xpZGVfbnVtYmVyIiwic2xpZGVfbnVtYmVyIiwiaW1hZ2VfdXJsIiwiYW5pbWF0aW9uX3R5cGUiLCJkdXJhdGlvbiIsInVwZGF0ZVByZXNlbnRhdGlvblNsaWRlIiwic2xpZGVJZCIsImRlbGV0ZVByZXNlbnRhdGlvblNsaWRlIiwiZGVsZXRlUHJlc2VudGF0aW9uU2xpZGVzQnlQcm9qZWN0IiwiZ2V0SGVyb0ltYWdlcyIsImNyZWF0ZUhlcm9JbWFnZSIsImltYWdlRGF0YSIsIm1heE9yZGVyUm93cyIsIm5leHRPcmRlciIsIm5leHRfb3JkZXIiLCJ1cmwiLCJvcmRlcl9pbmRleCIsIm5ld0ltYWdlUm93cyIsInVwZGF0ZUhlcm9JbWFnZSIsImltYWdlSWQiLCJkZWxldGVIZXJvSW1hZ2UiLCJnZXRBSVNldHRpbmdzIiwic2F2ZUFJU2V0dGluZ3MiLCJvcGVuYWlfYXBpX2tleSIsIm9wZW5haV9tb2RlbCIsIm9wZW5haV9tYXhfdG9rZW5zIiwib3BlbmFpX3RlbXBlcmF0dXJlIiwiZ2VtaW5pX2FwaV9rZXkiLCJnZW1pbmlfbW9kZWwiLCJjbGF1ZGVfYXBpX2tleSIsImNsYXVkZV9tb2RlbCIsImRlZXBzZWVrX2FwaV9rZXkiLCJkZWVwc2Vla19tb2RlbCIsImRlZXBzZWVrX21heF90b2tlbnMiLCJkZWVwc2Vla190ZW1wZXJhdHVyZSIsImRlZmF1bHRfcHJvdmlkZXIiLCJhaV9lbmFibGVkIiwicmF0ZV9saW1pdF9wZXJfbWludXRlIiwicmF0ZV9saW1pdF9wZXJfaG91ciIsInN5c3RlbV9wcm9tcHQiLCJwcm9wZXJ0eV9zdWdnZXN0aW9uc19lbmFibGVkIiwicHJvcGVydHlfc3VnZ2VzdGlvbnNfY291bnQiLCJjb250YWN0X2luZm9faW5fcmVzcG9uc2VzIiwiZ2V0UmVjZW50QWN0aXZpdGllcyIsImZyb250ZW5kT25seSIsInJvdyIsInRpbWVzdGFtcCIsImFjdGl2aXR5RGF0YSIsImJpbmQiLCJnZXREYXRhYmFzZSIsIkRhdGFiYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mysql-database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/aws-ssl-profiles","vendor-chunks/iconv-lite","vendor-chunks/long","vendor-chunks/lru-cache","vendor-chunks/denque","vendor-chunks/is-property","vendor-chunks/lru.min","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/named-placeholders","vendor-chunks/generate-function","vendor-chunks/safer-buffer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Factivities%2Froute&page=%2Fapi%2Fadmin%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Factivities%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();