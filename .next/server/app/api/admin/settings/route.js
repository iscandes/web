/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/settings/route";
exports.ids = ["app/api/admin/settings/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fsettings%2Froute&page=%2Fapi%2Fadmin%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fsettings%2Froute&page=%2Fapi%2Fadmin%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Berlin_Desktop_sssq_main_sssq_main_app_api_admin_settings_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/settings/route.ts */ \"(rsc)/./app/api/admin/settings/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/settings/route\",\n        pathname: \"/api/admin/settings\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/settings/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Berlin\\\\Desktop\\\\sssq-main\\\\sssq-main\\\\app\\\\api\\\\admin\\\\settings\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Berlin_Desktop_sssq_main_sssq_main_app_api_admin_settings_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/settings/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnNldHRpbmdzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRnNldHRpbmdzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZzZXR0aW5ncyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNCZXJsaW4lNUNEZXNrdG9wJTVDc3NzcS1tYWluJTVDc3NzcS1tYWluJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNCZXJsaW4lNUNEZXNrdG9wJTVDc3NzcS1tYWluJTVDc3NzcS1tYWluJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNxQztBQUNsSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3ByZW1pdW0tY2hvaWNlLXJlYWwtZXN0YXRlLz9iY2U4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEJlcmxpblxcXFxEZXNrdG9wXFxcXHNzc3EtbWFpblxcXFxzc3NxLW1haW5cXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxzZXR0aW5nc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWRtaW4vc2V0dGluZ3Mvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9zZXR0aW5nc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWRtaW4vc2V0dGluZ3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxCZXJsaW5cXFxcRGVza3RvcFxcXFxzc3NxLW1haW5cXFxcc3NzcS1tYWluXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcc2V0dGluZ3NcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FkbWluL3NldHRpbmdzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fsettings%2Froute&page=%2Fapi%2Fadmin%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/settings/route.ts":
/*!*****************************************!*\
  !*** ./app/api/admin/settings/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mysql-database */ \"(rsc)/./lib/mysql-database.ts\");\n\n\n// Default settings\nconst DEFAULT_SETTINGS = {\n    siteName: \"Premium Choice\",\n    siteDescription: \"Your trusted partner in Dubai real estate\",\n    contact: {\n        email: \"admin@example.com\",\n        phone: null,\n        address: \"Dubai, UAE\"\n    },\n    social: {\n        facebook: \"\",\n        instagram: \"\",\n        twitter: \"\",\n        linkedin: \"\"\n    },\n    seo: {\n        keywords: \"Dubai real estate, luxury properties, investment, Premium Choice\",\n        description: \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\"\n    },\n    theme: {\n        primaryColor: \"#00D4AA\",\n        secondaryColor: \"#1A1A1A\",\n        accentColor: \"#00A693\"\n    }\n};\n// GET - Fetch all settings\nasync function GET() {\n    try {\n        const settings = await _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__.MySQLDatabase.getSettings();\n        // If no settings exist, return defaults\n        const finalSettings = settings && Object.keys(settings).length > 0 ? settings : DEFAULT_SETTINGS;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: finalSettings\n        });\n    } catch (error) {\n        console.error(\"Error fetching settings:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to fetch settings\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT - Update settings\nasync function PUT(request) {\n    try {\n        const updateData = await request.json();\n        const currentSettings = await _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__.MySQLDatabase.getSettings() || DEFAULT_SETTINGS;\n        // Deep merge settings\n        const newSettings = {\n            ...currentSettings,\n            ...updateData,\n            updatedAt: new Date().toISOString()\n        };\n        // Merge nested objects\n        if (updateData.contact) {\n            newSettings.contact = {\n                ...currentSettings.contact,\n                ...updateData.contact\n            };\n        }\n        if (updateData.social) {\n            newSettings.social = {\n                ...currentSettings.social,\n                ...updateData.social\n            };\n        }\n        if (updateData.seo) {\n            newSettings.seo = {\n                ...currentSettings.seo,\n                ...updateData.seo\n            };\n        }\n        if (updateData.theme) {\n            newSettings.theme = {\n                ...currentSettings.theme,\n                ...updateData.theme\n            };\n        }\n        const updatedSettings = await _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__.MySQLDatabase.updateSettings(newSettings);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: updatedSettings,\n            message: \"Settings updated successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error updating settings:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to update settings\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - Reset settings to default\nasync function POST() {\n    try {\n        const resetSettings = {\n            ...DEFAULT_SETTINGS,\n            resetAt: new Date().toISOString()\n        };\n        await _lib_mysql_database__WEBPACK_IMPORTED_MODULE_1__.MySQLDatabase.updateSettings(resetSettings);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: resetSettings,\n            message: \"Settings reset to default successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error resetting settings:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: \"Failed to reset settings\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsSUFBSU4sT0FBT0MsV0FBVztRQUNqQztRQUVBLE1BQU16Qyw4REFBYUEsQ0FBQzJDLGNBQWMsQ0FBQ0U7UUFFbkMsT0FBTzlDLHFEQUFZQSxDQUFDNEIsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLE1BQU1nQjtZQUNOYixTQUFTO1FBQ1g7SUFDRixFQUFFLE9BQU9GLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTy9CLHFEQUFZQSxDQUFDNEIsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RJLFNBQVM7UUFDWCxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNuQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJlbWl1bS1jaG9pY2UtcmVhbC1lc3RhdGUvLi9hcHAvYXBpL2FkbWluL3NldHRpbmdzL3JvdXRlLnRzP2Q4YmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IE15U1FMRGF0YWJhc2UgfSBmcm9tICdAL2xpYi9teXNxbC1kYXRhYmFzZSc7XG5cbi8vIERlZmF1bHQgc2V0dGluZ3NcbmNvbnN0IERFRkFVTFRfU0VUVElOR1MgPSB7XG4gIHNpdGVOYW1lOiAnUHJlbWl1bSBDaG9pY2UnLFxuICBzaXRlRGVzY3JpcHRpb246ICdZb3VyIHRydXN0ZWQgcGFydG5lciBpbiBEdWJhaSByZWFsIGVzdGF0ZScsXG4gIGNvbnRhY3Q6IHtcbiAgICBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICBwaG9uZTogbnVsbCxcbiAgICBhZGRyZXNzOiAnRHViYWksIFVBRSdcbiAgfSxcbiAgc29jaWFsOiB7XG4gICAgZmFjZWJvb2s6ICcnLFxuICAgIGluc3RhZ3JhbTogJycsXG4gICAgdHdpdHRlcjogJycsXG4gICAgbGlua2VkaW46ICcnXG4gIH0sXG4gIHNlbzoge1xuICAgIGtleXdvcmRzOiAnRHViYWkgcmVhbCBlc3RhdGUsIGx1eHVyeSBwcm9wZXJ0aWVzLCBpbnZlc3RtZW50LCBQcmVtaXVtIENob2ljZScsXG4gICAgZGVzY3JpcHRpb246ICdEaXNjb3ZlciBwcmVtaXVtIHJlYWwgZXN0YXRlIG9wcG9ydHVuaXRpZXMgaW4gRHViYWkgd2l0aCBQcmVtaXVtIENob2ljZS4gWW91ciB0cnVzdGVkIHBhcnRuZXIgZm9yIGx1eHVyeSBwcm9wZXJ0aWVzIGFuZCBpbnZlc3RtZW50IHNvbHV0aW9ucy4nXG4gIH0sXG4gIHRoZW1lOiB7XG4gICAgcHJpbWFyeUNvbG9yOiAnIzAwRDRBQScsXG4gICAgc2Vjb25kYXJ5Q29sb3I6ICcjMUExQTFBJyxcbiAgICBhY2NlbnRDb2xvcjogJyMwMEE2OTMnXG4gICAgfVxufTtcblxuLy8gR0VUIC0gRmV0Y2ggYWxsIHNldHRpbmdzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgTXlTUUxEYXRhYmFzZS5nZXRTZXR0aW5ncygpO1xuICAgIC8vIElmIG5vIHNldHRpbmdzIGV4aXN0LCByZXR1cm4gZGVmYXVsdHNcbiAgICBjb25zdCBmaW5hbFNldHRpbmdzID0gc2V0dGluZ3MgJiYgT2JqZWN0LmtleXMoc2V0dGluZ3MpLmxlbmd0aCA+IDAgPyBzZXR0aW5ncyA6IERFRkFVTFRfU0VUVElOR1M7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiBmaW5hbFNldHRpbmdzXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG4vLyBQVVQgLSBVcGRhdGUgc2V0dGluZ3NcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1cGRhdGVEYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3QgY3VycmVudFNldHRpbmdzID0gYXdhaXQgTXlTUUxEYXRhYmFzZS5nZXRTZXR0aW5ncygpIHx8IERFRkFVTFRfU0VUVElOR1M7XG4gICAgXG4gICAgLy8gRGVlcCBtZXJnZSBzZXR0aW5nc1xuICAgIGNvbnN0IG5ld1NldHRpbmdzID0ge1xuICAgICAgLi4uY3VycmVudFNldHRpbmdzLFxuICAgICAgLi4udXBkYXRlRGF0YSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBcbiAgICAvLyBNZXJnZSBuZXN0ZWQgb2JqZWN0c1xuICAgIGlmICh1cGRhdGVEYXRhLmNvbnRhY3QpIHtcbiAgICAgIG5ld1NldHRpbmdzLmNvbnRhY3QgPSB7IC4uLmN1cnJlbnRTZXR0aW5ncy5jb250YWN0LCAuLi51cGRhdGVEYXRhLmNvbnRhY3QgfTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZURhdGEuc29jaWFsKSB7XG4gICAgICBuZXdTZXR0aW5ncy5zb2NpYWwgPSB7IC4uLmN1cnJlbnRTZXR0aW5ncy5zb2NpYWwsIC4uLnVwZGF0ZURhdGEuc29jaWFsIH07XG4gICAgfVxuICAgIGlmICh1cGRhdGVEYXRhLnNlbykge1xuICAgICAgbmV3U2V0dGluZ3Muc2VvID0geyAuLi5jdXJyZW50U2V0dGluZ3Muc2VvLCAuLi51cGRhdGVEYXRhLnNlbyB9O1xuICAgIH1cbiAgICBpZiAodXBkYXRlRGF0YS50aGVtZSkge1xuICAgICAgbmV3U2V0dGluZ3MudGhlbWUgPSB7IC4uLmN1cnJlbnRTZXR0aW5ncy50aGVtZSwgLi4udXBkYXRlRGF0YS50aGVtZSB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSBhd2FpdCBNeVNRTERhdGFiYXNlLnVwZGF0ZVNldHRpbmdzKG5ld1NldHRpbmdzKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHVwZGF0ZWRTZXR0aW5ncyxcbiAgICAgIG1lc3NhZ2U6ICdTZXR0aW5ncyB1cGRhdGVkIHN1Y2Nlc3NmdWxseSdcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgc2V0dGluZ3MnXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG4vLyBQT1NUIC0gUmVzZXQgc2V0dGluZ3MgdG8gZGVmYXVsdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzZXRTZXR0aW5ncyA9IHtcbiAgICAgIC4uLkRFRkFVTFRfU0VUVElOR1MsXG4gICAgICByZXNldEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIGF3YWl0IE15U1FMRGF0YWJhc2UudXBkYXRlU2V0dGluZ3MocmVzZXRTZXR0aW5ncyk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiByZXNldFNldHRpbmdzLFxuICAgICAgbWVzc2FnZTogJ1NldHRpbmdzIHJlc2V0IHRvIGRlZmF1bHQgc3VjY2Vzc2Z1bGx5J1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc2V0dGluZyBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byByZXNldCBzZXR0aW5ncydcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIk15U1FMRGF0YWJhc2UiLCJERUZBVUxUX1NFVFRJTkdTIiwic2l0ZU5hbWUiLCJzaXRlRGVzY3JpcHRpb24iLCJjb250YWN0IiwiZW1haWwiLCJwaG9uZSIsImFkZHJlc3MiLCJzb2NpYWwiLCJmYWNlYm9vayIsImluc3RhZ3JhbSIsInR3aXR0ZXIiLCJsaW5rZWRpbiIsInNlbyIsImtleXdvcmRzIiwiZGVzY3JpcHRpb24iLCJ0aGVtZSIsInByaW1hcnlDb2xvciIsInNlY29uZGFyeUNvbG9yIiwiYWNjZW50Q29sb3IiLCJHRVQiLCJzZXR0aW5ncyIsImdldFNldHRpbmdzIiwiZmluYWxTZXR0aW5ncyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhdHVzIiwiUFVUIiwicmVxdWVzdCIsInVwZGF0ZURhdGEiLCJjdXJyZW50U2V0dGluZ3MiLCJuZXdTZXR0aW5ncyIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRTZXR0aW5ncyIsInVwZGF0ZVNldHRpbmdzIiwiUE9TVCIsInJlc2V0U2V0dGluZ3MiLCJyZXNldEF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/settings/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mysql-database.ts":
/*!*******************************!*\
  !*** ./lib/mysql-database.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Database: () => (/* binding */ Database),\n/* harmony export */   MySQLDatabase: () => (/* binding */ MySQLDatabase),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getConnection: () => (/* binding */ getConnection),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   query: () => (/* binding */ query)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n\n// Database configuration with your provided credentials\nconst dbConfig = {\n    host: \"srv1558.hstgr.io\",\n    user: \"u485564989_pcrs\",\n    password: \"Abedyr57..\",\n    database: \"u485564989_pcrs\",\n    port:  true ? Number(\"3306\") : 0,\n    ssl: {\n        rejectUnauthorized: false\n    },\n    // Minimal connection limits to avoid exceeding server limits\n    connectionLimit: 1,\n    queueLimit: 5,\n    // Connection pool options supported by mysql2\n    enableKeepAlive: false,\n    idleTimeout: 30000,\n    maxIdle: 0,\n    // Additional connection management\n    multipleStatements: false\n};\n// Create connection pool\nconst pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool(dbConfig);\n// Database class with MySQL operations\nclass MySQLDatabase {\n    // Test database connection\n    static async testConnection() {\n        try {\n            const connection = await pool.getConnection();\n            await connection.ping();\n            connection.release();\n            console.log(\"✅ Database connection successful\");\n            return true;\n        } catch (error) {\n            console.error(\"❌ Database connection failed:\", error);\n            return false;\n        }\n    }\n    // Cleanup database connections\n    static async cleanup() {\n        try {\n            await pool.end();\n            console.log(\"✅ Database connections closed\");\n        } catch (error) {\n            console.error(\"❌ Error closing database connections:\", error);\n        }\n    }\n    // Generic query execution method\n    static async executeQuery(query, params = []) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(query, params);\n            connection.release();\n            return result;\n        } catch (error) {\n            console.error(\"Error executing query:\", error);\n            throw error;\n        }\n    }\n    // Query method for backward compatibility\n    static async query(sql, params = []) {\n        return this.executeQuery(sql, params);\n    }\n    // Initialize database connection and tables\n    static async initialize() {\n        try {\n            // Test connection first\n            const isConnected = await this.testConnection();\n            if (!isConnected) {\n                throw new Error(\"Database connection failed\");\n            }\n            // Initialize tables\n            return await this.initializeTables();\n        } catch (error) {\n            console.error(\"❌ Failed to initialize database:\", error);\n            return false;\n        }\n    }\n    // Add missing columns to site_settings table\n    static async addMissingSocialColumns() {\n        try {\n            const connection = await pool.getConnection();\n            // Check if columns exist and add them if they don't\n            const alterTableSQL = `\n        ALTER TABLE site_settings \n        ADD COLUMN IF NOT EXISTS social_tiktok VARCHAR(500),\n        ADD COLUMN IF NOT EXISTS social_snapchat VARCHAR(500),\n        ADD COLUMN IF NOT EXISTS social_telegram VARCHAR(500),\n        ADD COLUMN IF NOT EXISTS social_whatsapp VARCHAR(500);\n      `;\n            await connection.execute(alterTableSQL);\n            connection.release();\n            console.log(\"✅ Missing social media columns added successfully\");\n            return true;\n        } catch (error) {\n            console.error(\"❌ Error adding missing columns:\", error);\n            return false;\n        }\n    }\n    // Initialize database tables\n    static async initializeTables() {\n        try {\n            const connection = await pool.getConnection();\n            // Create tables if they don't exist\n            const createTablesSQL = `\n        -- Users table\n        CREATE TABLE IF NOT EXISTS users (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          email VARCHAR(255) UNIQUE NOT NULL,\n          password_hash VARCHAR(255) NOT NULL,\n          role ENUM('admin', 'editor', 'viewer') DEFAULT 'viewer',\n          name VARCHAR(255) NOT NULL,\n          last_login TIMESTAMP NULL,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          is_active BOOLEAN DEFAULT TRUE\n        );\n\n        -- Developers table\n        CREATE TABLE IF NOT EXISTS developers (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          name VARCHAR(255) NOT NULL,\n          slug VARCHAR(255) UNIQUE NOT NULL,\n          description TEXT,\n          logo VARCHAR(500),\n          established VARCHAR(50),\n          projects_count INT DEFAULT 0,\n          location VARCHAR(255),\n          website VARCHAR(500),\n          phone VARCHAR(50),\n          email VARCHAR(255),\n          status ENUM('Active', 'Inactive') DEFAULT 'Active',\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Projects table\n        CREATE TABLE IF NOT EXISTS projects (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          name VARCHAR(255) NOT NULL,\n          slug VARCHAR(255) UNIQUE NOT NULL,\n          developer VARCHAR(255) NOT NULL,\n          location VARCHAR(255) NOT NULL,\n          price VARCHAR(100) NOT NULL,\n          status ENUM('Available', 'Sold', 'Under Construction') DEFAULT 'Available',\n          bedrooms INT NOT NULL,\n          bathrooms INT NOT NULL,\n          studios INT DEFAULT 0,\n          area VARCHAR(100) NOT NULL,\n          description TEXT,\n          image VARCHAR(500),\n          gallery JSON,\n          coordinates_lat DECIMAL(10, 8),\n          coordinates_lng DECIMAL(11, 8),\n          features JSON,\n          amenities JSON,\n          presentation_file VARCHAR(500),\n          presentation_url VARCHAR(500),\n          presentation_slides JSON,\n          presentation_animations JSON,\n          presentation_effects JSON,\n          media_files JSON,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Hero sections table\n        CREATE TABLE IF NOT EXISTS hero_sections (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          page VARCHAR(100) NOT NULL,\n          title VARCHAR(255) NOT NULL,\n          subtitle VARCHAR(255),\n          description TEXT,\n          background_image VARCHAR(500),\n          cta_text VARCHAR(100),\n          cta_link VARCHAR(500),\n          is_active BOOLEAN DEFAULT TRUE,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Articles table\n        CREATE TABLE IF NOT EXISTS articles (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          title VARCHAR(255) NOT NULL,\n          slug VARCHAR(255) UNIQUE NOT NULL,\n          content LONGTEXT,\n          excerpt TEXT,\n          featured_image VARCHAR(500),\n          author VARCHAR(255),\n          status ENUM('draft', 'published', 'archived') DEFAULT 'draft',\n          published_at TIMESTAMP NULL,\n          tags JSON,\n          category VARCHAR(100),\n          read_time INT DEFAULT 5,\n          meta_description TEXT,\n          featured BOOLEAN DEFAULT FALSE,\n          views_count INT DEFAULT 0,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Media files table\n        CREATE TABLE IF NOT EXISTS media_files (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          filename VARCHAR(255) NOT NULL,\n          original_name VARCHAR(255) NOT NULL,\n          file_path VARCHAR(500) NOT NULL,\n          file_size BIGINT NOT NULL,\n          mime_type VARCHAR(100) NOT NULL,\n          alt_text VARCHAR(255),\n          uploaded_by INT,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE SET NULL\n        );\n\n        -- System logs table\n        CREATE TABLE IF NOT EXISTS system_logs (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          level ENUM('info', 'warning', 'error', 'success') NOT NULL,\n          category VARCHAR(100) NOT NULL,\n          message TEXT NOT NULL,\n          user_id INT,\n          ip_address VARCHAR(45),\n          user_agent TEXT,\n          details JSON,\n          FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL\n        );\n\n        -- Chat messages table\n        CREATE TABLE IF NOT EXISTS chat_messages (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          session_id VARCHAR(255) NOT NULL,\n          message TEXT NOT NULL,\n          response TEXT NOT NULL,\n          timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          response_time INT NOT NULL,\n          user_ip VARCHAR(45)\n        );\n\n        -- Presentation slides table\n        CREATE TABLE IF NOT EXISTS presentation_slides (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          project_id INT NOT NULL,\n          slide_number INT NOT NULL,\n          title VARCHAR(255),\n          content TEXT,\n          image_url VARCHAR(500),\n          animation_type VARCHAR(100),\n          duration INT DEFAULT 5000,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n        );\n\n        -- Site settings table\n        CREATE TABLE IF NOT EXISTS site_settings (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          site_title VARCHAR(255) DEFAULT 'Premium Choice',\n          site_description TEXT DEFAULT 'Your trusted partner in Dubai real estate',\n          site_logo VARCHAR(500) DEFAULT '/logo.png',\n          site_favicon VARCHAR(500) DEFAULT '/favicon.ico',\n          contact_email VARCHAR(255) DEFAULT 'admin@example.com',\n    contact_phone VARCHAR(50) DEFAULT NULL,\n    contact_address TEXT DEFAULT 'Dubai, UAE',\n    contact_whatsapp VARCHAR(50) DEFAULT NULL,\n          social_facebook VARCHAR(500),\n          social_instagram VARCHAR(500),\n          social_twitter VARCHAR(500),\n          social_linkedin VARCHAR(500),\n          social_youtube VARCHAR(500),\n          social_tiktok VARCHAR(500),\n          social_snapchat VARCHAR(500),\n          social_telegram VARCHAR(500),\n          social_whatsapp VARCHAR(500),\n          seo_meta_title VARCHAR(255) DEFAULT 'Premium Choice - Dubai Real Estate',\n          seo_meta_description TEXT DEFAULT 'Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.',\n          seo_keywords TEXT DEFAULT 'Dubai real estate, luxury properties, investment, Premium Choice',\n          features_enable_blog BOOLEAN DEFAULT TRUE,\n          features_enable_newsletter BOOLEAN DEFAULT TRUE,\n          features_enable_whatsapp BOOLEAN DEFAULT TRUE,\n          features_enable_live_chat BOOLEAN DEFAULT FALSE,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n\n        -- Project media table for enhanced media management\n        CREATE TABLE IF NOT EXISTS project_media (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          project_id INT NOT NULL,\n          file_name VARCHAR(255) NOT NULL,\n          file_path VARCHAR(500) NOT NULL,\n          file_size BIGINT NOT NULL,\n          media_type ENUM('image', 'video', 'animation', 'pdf', 'pptx') NOT NULL,\n          file_extension VARCHAR(10) NOT NULL,\n          upload_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n        );\n\n        -- Hero images table for landing page carousel\n        CREATE TABLE IF NOT EXISTS hero_images (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          url VARCHAR(500) NOT NULL,\n          title VARCHAR(255) NOT NULL,\n          description TEXT,\n          alt_text VARCHAR(255),\n          is_active BOOLEAN DEFAULT TRUE,\n          order_index INT DEFAULT 0,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n          INDEX idx_active_order (is_active, order_index)\n        );\n\n        -- AI API settings table for AI integration control\n        CREATE TABLE IF NOT EXISTS ai_api_settings (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          openai_api_key VARCHAR(255),\n          openai_model VARCHAR(100) DEFAULT 'gpt-3.5-turbo',\n          openai_max_tokens INT DEFAULT 1000,\n          openai_temperature DECIMAL(3,2) DEFAULT 0.70,\n          google_api_key VARCHAR(255),\n          google_model VARCHAR(100) DEFAULT 'gemini-pro',\n          google_max_tokens INT DEFAULT 1000,\n          google_temperature DECIMAL(3,2) DEFAULT 0.70,\n          anthropic_api_key VARCHAR(255),\n          anthropic_model VARCHAR(100) DEFAULT 'claude-3-sonnet-20240229',\n          anthropic_max_tokens INT DEFAULT 1000,\n          anthropic_temperature DECIMAL(3,2) DEFAULT 0.70,\n          default_provider ENUM('openai', 'google', 'anthropic') DEFAULT 'openai',\n          ai_enabled BOOLEAN DEFAULT TRUE,\n          rate_limit_per_minute INT DEFAULT 10,\n          rate_limit_per_hour INT DEFAULT 100,\n          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n        );\n      `;\n            await connection.execute(createTablesSQL);\n            connection.release();\n            console.log(\"✅ Database tables initialized successfully\");\n            return true;\n        } catch (error) {\n            console.error(\"❌ Failed to initialize tables:\", error);\n            return false;\n        }\n    }\n    // Insert default admin user\n    static async createDefaultAdmin() {\n        try {\n            const connection = await pool.getConnection();\n            // Check if admin user already exists\n            const [existingUsers] = await connection.execute('SELECT id FROM users WHERE role = \"admin\"');\n            if (existingUsers.length === 0) {\n                // Create default admin user with your credentials\n                await connection.execute(`INSERT INTO users (email, password_hash, role, name, is_active) \n           VALUES (?, ?, 'admin', 'Admin', TRUE)`, [\n                    \"admin@example.com\",\n                    \"Abedyr57..\"\n                ] // In production, hash this password and change email\n                );\n                console.log(\"✅ Default admin user created\");\n            } else {\n                console.log(\"ℹ️ Admin user already exists\");\n            }\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"❌ Failed to create admin user:\", error);\n            return false;\n        }\n    }\n    // Update articles table with missing columns\n    static async updateArticlesTable() {\n        try {\n            const connection = await pool.getConnection();\n            // Check if columns exist and add them if they don't\n            const columnsToAdd = [\n                {\n                    name: \"tags\",\n                    definition: \"JSON\"\n                },\n                {\n                    name: \"category\",\n                    definition: \"VARCHAR(100)\"\n                },\n                {\n                    name: \"read_time\",\n                    definition: \"INT DEFAULT 5\"\n                },\n                {\n                    name: \"meta_description\",\n                    definition: \"TEXT\"\n                },\n                {\n                    name: \"featured\",\n                    definition: \"BOOLEAN DEFAULT FALSE\"\n                },\n                {\n                    name: \"views_count\",\n                    definition: \"INT DEFAULT 0\"\n                }\n            ];\n            for (const column of columnsToAdd){\n                try {\n                    // Check if column exists\n                    const [rows] = await connection.execute(`SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS \n             WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'articles' AND COLUMN_NAME = ?`, [\n                        column.name\n                    ]);\n                    if (rows.length === 0) {\n                        // Column doesn't exist, add it\n                        await connection.execute(`ALTER TABLE articles ADD COLUMN ${column.name} ${column.definition}`);\n                        console.log(`✅ Added column '${column.name}' to articles table`);\n                    } else {\n                        console.log(`ℹ️ Column '${column.name}' already exists in articles table`);\n                    }\n                } catch (error) {\n                    console.error(`❌ Failed to add column '${column.name}':`, error);\n                }\n            }\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"❌ Failed to update articles table:\", error);\n            return false;\n        }\n    }\n    // Projects CRUD operations\n    static async getProjects() {\n        let connection;\n        try {\n            console.log(\"\\uD83D\\uDD17 Attempting to get database connection...\");\n            connection = await pool.getConnection();\n            console.log(\"✅ Database connection acquired\");\n            const [rows] = await connection.execute(\"SELECT * FROM projects ORDER BY created_at DESC\");\n            console.log(`📊 Retrieved ${rows.length} projects from database`);\n            // Parse JSON fields for each project\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            const projects = rows.map((project)=>({\n                    ...project,\n                    gallery: parseJsonField(project.gallery),\n                    features: parseJsonField(project.features),\n                    amenities: parseJsonField(project.amenities),\n                    property_types: parseJsonField(project.property_types),\n                    sub_projects: parseJsonField(project.sub_projects),\n                    media_files: parseJsonField(project.media_files),\n                    units: parseJsonField(project.units),\n                    property_type: parseJsonField(project.property_type)\n                }));\n            console.log(\"✅ Projects parsed successfully\");\n            return projects;\n        } catch (error) {\n            console.error(\"❌ Error fetching projects:\", error);\n            if (error instanceof Error && error.message.includes(\"max_user_connections\")) {\n                console.error(\"\\uD83D\\uDEAB Database connection limit exceeded. Consider reducing concurrent connections.\");\n            }\n            return [];\n        } finally{\n            if (connection) {\n                try {\n                    connection.release();\n                    console.log(\"\\uD83D\\uDD13 Database connection released\");\n                } catch (releaseError) {\n                    console.error(\"⚠️ Error releasing connection:\", releaseError);\n                }\n            }\n        }\n    }\n    static async getProjectsByDeveloper(developerName) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM projects WHERE developer = ? ORDER BY created_at DESC\", [\n                developerName\n            ]);\n            connection.release();\n            // Parse JSON fields for each project\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            return rows.map((project)=>({\n                    ...project,\n                    gallery: parseJsonField(project.gallery),\n                    features: parseJsonField(project.features),\n                    amenities: parseJsonField(project.amenities),\n                    property_types: parseJsonField(project.property_types),\n                    sub_projects: parseJsonField(project.sub_projects),\n                    media_files: parseJsonField(project.media_files),\n                    units: parseJsonField(project.units),\n                    property_type: parseJsonField(project.property_type)\n                }));\n        } catch (error) {\n            console.error(\"Error fetching projects by developer:\", error);\n            return [];\n        }\n    }\n    static async getProjectBySlug(slug) {\n        try {\n            const connection = await pool.getConnection();\n            // Get project data\n            const [projectRows] = await connection.execute(\"SELECT * FROM projects WHERE slug = ?\", [\n                slug\n            ]);\n            const projects = projectRows;\n            if (projects.length === 0) {\n                connection.release();\n                return null;\n            }\n            const project = projects[0];\n            // Get presentation slides for this project\n            const [slideRows] = await connection.execute(\"SELECT * FROM presentation_slides WHERE project_id = ? ORDER BY slide_number ASC\", [\n                project.id\n            ]);\n            connection.release();\n            // Parse JSON fields and add presentation slides\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            // Parse color palette safely\n            const parseColorPalette = (colorPalette)=>{\n                if (!colorPalette) return null;\n                if (typeof colorPalette === \"string\") {\n                    try {\n                        return JSON.parse(colorPalette);\n                    } catch  {\n                        return null;\n                    }\n                }\n                return colorPalette;\n            };\n            return {\n                ...project,\n                gallery: parseJsonField(project.gallery),\n                features: parseJsonField(project.features),\n                amenities: parseJsonField(project.amenities),\n                property_types: parseJsonField(project.property_types),\n                sub_projects: parseJsonField(project.sub_projects),\n                media_files: parseJsonField(project.media_files),\n                presentation_slides: slideRows\n            };\n        } catch (error) {\n            console.error(\"Error fetching project by slug:\", error);\n            return null;\n        }\n    }\n    static async createProject(project) {\n        let connection;\n        try {\n            // Validate required fields\n            if (!project.name || project.name.trim() === \"\") {\n                throw new Error(\"Project name is required\");\n            }\n            if (!project.description || project.description.trim() === \"\") {\n                throw new Error(\"Project description is required\");\n            }\n            connection = await pool.getConnection();\n            // Helper function to convert undefined to null\n            const toNullIfUndefined = (value)=>value === undefined ? null : value;\n            // Ensure slug is unique by adding timestamp if needed\n            let finalSlug = project.slug || \"\";\n            // Always check if slug already exists and make it unique\n            const [existingRows] = await connection.execute(\"SELECT id FROM projects WHERE slug = ?\", [\n                finalSlug\n            ]);\n            if (existingRows.length > 0) {\n                finalSlug = `${finalSlug}-${Date.now()}`;\n            }\n            const [result] = await connection.execute(`INSERT INTO projects (name, slug, developer, developer_id, location, price, status, bedrooms, bathrooms, area, \n         description, image, gallery, coordinates_lat, coordinates_lng, features, amenities,\n         presentation_file, presentation_url, presentation_slides, presentation_animations, presentation_effects, \n         featured_video, studios, media_files)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                project.name || \"\",\n                finalSlug,\n                project.developer || \"\",\n                project.developer_id || null,\n                project.location || \"\",\n                project.price || \"Price on Request\",\n                project.status || \"Available\",\n                project.bedrooms || 0,\n                project.bathrooms || 0,\n                project.area || \"\",\n                project.description || \"\",\n                project.image || \"\",\n                JSON.stringify(project.gallery || []),\n                project.coordinates_lat || 0,\n                project.coordinates_lng || 0,\n                JSON.stringify(project.features || []),\n                JSON.stringify(project.amenities || []),\n                toNullIfUndefined(project.presentation_file),\n                toNullIfUndefined(project.presentation_url),\n                JSON.stringify(project.presentation_slides || {}),\n                JSON.stringify(project.presentation_animations || {}),\n                JSON.stringify(project.presentation_effects || {}),\n                toNullIfUndefined(project.featured_video),\n                project.studios || 0,\n                JSON.stringify(project.media_files || [])\n            ]);\n            const insertId = result.insertId;\n            // Update developer project count automatically\n            if (project.developer_id) {\n                // Get developer name by ID for the count update\n                const [devRows] = await connection.execute(\"SELECT name FROM developers WHERE id = ?\", [\n                    project.developer_id\n                ]);\n                if (devRows.length > 0) {\n                    await this.updateDeveloperProjectCount(devRows[0].name);\n                }\n            } else if (project.developer) {\n                await this.updateDeveloperProjectCount(project.developer);\n            }\n            connection.release();\n            return await this.getProjectById(insertId);\n        } catch (error) {\n            if (connection) {\n                connection.release();\n            }\n            console.error(\"Error creating project:\", error);\n            // Check for specific MySQL errors\n            if (error.code === \"ER_DUP_ENTRY\") {\n                if (error.message.includes(\"name\")) {\n                    throw new Error(\"A project with this name already exists. Please choose a different name.\");\n                } else if (error.message.includes(\"slug\")) {\n                    throw new Error(\"A project with this URL slug already exists. Please modify the project name.\");\n                } else {\n                    throw new Error(\"A project with these details already exists. Please check for duplicates.\");\n                }\n            } else if (error.code === \"ER_DATA_TOO_LONG\") {\n                throw new Error(\"One or more fields contain too much data. Please shorten your input.\");\n            } else if (error.code === \"ER_BAD_NULL_ERROR\") {\n                throw new Error(\"Required field is missing. Please fill in all required fields.\");\n            } else if (error.message.includes(\"required\")) {\n                // Our custom validation errors\n                throw error;\n            } else {\n                throw new Error(\"Database error occurred while creating the project. Please try again.\");\n            }\n        }\n    }\n    static async getProjectById(id) {\n        let connection;\n        try {\n            connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM projects WHERE id = ?\", [\n                id\n            ]);\n            const projects = rows;\n            if (projects.length === 0) {\n                return null;\n            }\n            const project = projects[0];\n            // Parse JSON fields\n            const parseJsonField = (field)=>{\n                if (!field) return null;\n                if (typeof field === \"string\") {\n                    try {\n                        return JSON.parse(field);\n                    } catch  {\n                        return field.split(\",\").map((item)=>item.trim()).filter(Boolean);\n                    }\n                }\n                return field;\n            };\n            return {\n                ...project,\n                gallery: parseJsonField(project.gallery),\n                features: parseJsonField(project.features),\n                amenities: parseJsonField(project.amenities),\n                property_types: parseJsonField(project.property_types),\n                sub_projects: parseJsonField(project.sub_projects),\n                media_files: parseJsonField(project.media_files),\n                units: parseJsonField(project.units),\n                property_type: parseJsonField(project.property_type)\n            };\n        } catch (error) {\n            console.error(\"Error fetching project by ID:\", error);\n            throw error; // Re-throw to let API handle the error properly\n        } finally{\n            if (connection) {\n                connection.release();\n            }\n        }\n    }\n    static async updateProject(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            // Get the current project data to check if developer is changing\n            const [currentRows] = await connection.execute(\"SELECT developer FROM projects WHERE id = ?\", [\n                id\n            ]);\n            const currentProject = currentRows[0];\n            const oldDeveloper = currentProject?.developer;\n            // Build dynamic update query\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>{\n                const value = updateData[field];\n                return typeof value === \"object\" ? JSON.stringify(value) : value;\n            });\n            await connection.execute(`UPDATE projects SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            // Update project counts if developer changed\n            const newDeveloper = updateData.developer;\n            if (newDeveloper && newDeveloper !== oldDeveloper) {\n                // Update count for old developer\n                if (oldDeveloper) {\n                    await this.updateDeveloperProjectCount(oldDeveloper);\n                }\n                // Update count for new developer\n                await this.updateDeveloperProjectCount(newDeveloper);\n            }\n            connection.release();\n            return await this.getProjectById(id);\n        } catch (error) {\n            console.error(\"Error updating project:\", error);\n            return null;\n        }\n    }\n    static async deleteProject(id) {\n        try {\n            const connection = await pool.getConnection();\n            // First check if the project exists and get developer name\n            const [checkRows] = await connection.execute(\"SELECT id, developer FROM projects WHERE id = ?\", [\n                id\n            ]);\n            if (checkRows.length === 0) {\n                connection.release();\n                console.log(`Project with id ${id} not found`);\n                return false;\n            }\n            const projectData = checkRows[0];\n            const developerName = projectData.developer;\n            // Delete the project (CASCADE will handle related records)\n            const [result] = await connection.execute(\"DELETE FROM projects WHERE id = ?\", [\n                id\n            ]);\n            // Update developer project count automatically\n            if (developerName) {\n                await this.updateDeveloperProjectCount(developerName);\n            }\n            connection.release();\n            // Check if any rows were affected\n            const affectedRows = result.affectedRows;\n            console.log(`Delete operation affected ${affectedRows} rows for project id ${id}`);\n            return affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error deleting project:\", error);\n            return false;\n        }\n    }\n    // Developers CRUD operations\n    static async getDevelopers() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM developers ORDER BY name ASC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching developers:\", error);\n            return [];\n        }\n    }\n    static async createDeveloper(developer) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(`INSERT INTO developers (name, slug, description, logo, established, projects_count, \n         location, website, phone, email, status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                developer.name,\n                developer.slug,\n                developer.description,\n                developer.logo,\n                developer.established,\n                developer.projects_count,\n                developer.location,\n                developer.website,\n                developer.phone,\n                developer.email,\n                developer.status\n            ]);\n            const insertId = result.insertId;\n            connection.release();\n            return await this.getDeveloperById(insertId);\n        } catch (error) {\n            console.error(\"Error creating developer:\", error);\n            return null;\n        }\n    }\n    static async getDeveloperById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM developers WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const developers = rows;\n            return developers.length > 0 ? developers[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching developer by ID:\", error);\n            return null;\n        }\n    }\n    static async updateDeveloper(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>updateData[field]);\n            await connection.execute(`UPDATE developers SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            return await this.getDeveloperById(id);\n        } catch (error) {\n            console.error(\"Error updating developer:\", error);\n            return null;\n        }\n    }\n    static async deleteDeveloper(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM developers WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting developer:\", error);\n            return false;\n        }\n    }\n    static async updateDeveloperProjectCount(developerName) {\n        try {\n            const connection = await pool.getConnection();\n            // Count projects for this developer\n            const [countRows] = await connection.execute(\"SELECT COUNT(*) as project_count FROM projects WHERE developer = ?\", [\n                developerName\n            ]);\n            const projectCount = countRows[0].project_count;\n            // Update the developer's project count\n            await connection.execute(\"UPDATE developers SET projects_count = ?, updated_at = NOW() WHERE name = ?\", [\n                projectCount,\n                developerName\n            ]);\n            connection.release();\n            console.log(`Updated project count for developer ${developerName}: ${projectCount} projects`);\n        } catch (error) {\n            console.error(\"Error updating developer project count:\", error);\n        }\n    }\n    // Enhanced project-developer relationship methods\n    static async getProjectsByDeveloperId(developerId) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(`SELECT p.*, d.name as developer_name, d.slug as developer_slug \n         FROM projects p \n         LEFT JOIN developers d ON p.developer_id = d.id \n         WHERE p.developer_id = ? \n         ORDER BY p.created_at DESC`, [\n                developerId\n            ]);\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching projects by developer ID:\", error);\n            return [];\n        }\n    }\n    static async getDeveloperWithProjects(developerId) {\n        try {\n            const connection = await pool.getConnection();\n            // Get developer details\n            const [developerRows] = await connection.execute(\"SELECT * FROM developers WHERE id = ?\", [\n                developerId\n            ]);\n            if (developerRows.length === 0) {\n                connection.release();\n                return null;\n            }\n            const developer = developerRows[0];\n            // Get associated projects\n            const [projectRows] = await connection.execute(\"SELECT * FROM projects WHERE developer_id = ? ORDER BY created_at DESC\", [\n                developerId\n            ]);\n            connection.release();\n            return {\n                ...developer,\n                projects: projectRows\n            };\n        } catch (error) {\n            console.error(\"Error fetching developer with projects:\", error);\n            return null;\n        }\n    }\n    static async assignProjectToDeveloper(projectId, developerId) {\n        try {\n            const connection = await pool.getConnection();\n            // Update project with developer_id\n            await connection.execute(\"UPDATE projects SET developer_id = ?, updated_at = NOW() WHERE id = ?\", [\n                developerId,\n                projectId\n            ]);\n            // Update developer's project count\n            await connection.execute(\"UPDATE developers SET projects_count = projects_count + 1, updated_at = NOW() WHERE id = ?\", [\n                developerId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error assigning project to developer:\", error);\n            return false;\n        }\n    }\n    static async unassignProjectFromDeveloper(projectId) {\n        try {\n            const connection = await pool.getConnection();\n            // Get current developer_id before removing\n            const [projectRows] = await connection.execute(\"SELECT developer_id FROM projects WHERE id = ?\", [\n                projectId\n            ]);\n            if (projectRows.length > 0) {\n                const currentDeveloperId = projectRows[0].developer_id;\n                if (currentDeveloperId) {\n                    // Remove developer assignment\n                    await connection.execute(\"UPDATE projects SET developer_id = NULL, updated_at = NOW() WHERE id = ?\", [\n                        projectId\n                    ]);\n                    // Update developer's project count\n                    await connection.execute(\"UPDATE developers SET projects_count = projects_count - 1, updated_at = NOW() WHERE id = ?\", [\n                        currentDeveloperId\n                    ]);\n                }\n            }\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error unassigning project from developer:\", error);\n            return false;\n        }\n    }\n    static async deleteDeveloperWithCascade(id) {\n        try {\n            const connection = await pool.getConnection();\n            // Start transaction\n            await connection.beginTransaction();\n            try {\n                // Count projects that will be deleted\n                const [countRows] = await connection.execute(\"SELECT COUNT(*) as project_count FROM projects WHERE developer_id = ?\", [\n                    id\n                ]);\n                const deletedProjects = countRows[0].project_count;\n                // Delete associated projects (cascading delete)\n                await connection.execute(\"DELETE FROM projects WHERE developer_id = ?\", [\n                    id\n                ]);\n                // Delete the developer\n                await connection.execute(\"DELETE FROM developers WHERE id = ?\", [\n                    id\n                ]);\n                // Commit transaction\n                await connection.commit();\n                connection.release();\n                return {\n                    success: true,\n                    deletedProjects\n                };\n            } catch (error) {\n                // Rollback transaction on error\n                await connection.rollback();\n                connection.release();\n                throw error;\n            }\n        } catch (error) {\n            console.error(\"Error deleting developer with cascade:\", error);\n            return {\n                success: false,\n                deletedProjects: 0\n            };\n        }\n    }\n    static async createProjectWithDeveloper(projectData, developerId) {\n        try {\n            const connection = await pool.getConnection();\n            // Start transaction\n            await connection.beginTransaction();\n            try {\n                // Create the project with developer_id\n                const projectToCreate = {\n                    ...projectData,\n                    developer_id: developerId || null\n                };\n                const [result] = await connection.execute(`INSERT INTO projects (\n            name, slug, project_name, sub_project, display_title, developer, developer_id,\n            location, price, starting_price, status, project_type, type, category,\n            color_palette, property_type, property_types, sub_projects, bedrooms, bathrooms,\n            studios, units_1bedroom, units_2bedroom, units_3bedroom, units_4bedroom,\n            units_5bedroom, units_office, living_rooms, units, area, description, image,\n            gallery, coordinates_lat, coordinates_lng, features, amenities, is_featured,\n            brochure_url, theme_color, voice_over_url, presentation_file, presentation_url,\n            media_type, featured_video, created_at, updated_at\n          ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())`, [\n                    projectToCreate.name,\n                    projectToCreate.slug,\n                    projectToCreate.project_name || null,\n                    projectToCreate.sub_project || null,\n                    projectToCreate.display_title || null,\n                    projectToCreate.developer,\n                    projectToCreate.developer_id,\n                    projectToCreate.location,\n                    projectToCreate.price || null,\n                    projectToCreate.starting_price || null,\n                    projectToCreate.status || \"Active\",\n                    projectToCreate.project_type || null,\n                    projectToCreate.type || null,\n                    projectToCreate.category || null,\n                    projectToCreate.color_palette || null,\n                    JSON.stringify(projectToCreate.property_type || []),\n                    JSON.stringify(projectToCreate.property_types || []),\n                    JSON.stringify(projectToCreate.sub_projects || []),\n                    projectToCreate.bedrooms || 0,\n                    projectToCreate.bathrooms || 0,\n                    projectToCreate.studios || 0,\n                    projectToCreate.units_1bedroom || 0,\n                    projectToCreate.units_2bedroom || 0,\n                    projectToCreate.units_3bedroom || 0,\n                    projectToCreate.units_4bedroom || 0,\n                    projectToCreate.units_5bedroom || 0,\n                    projectToCreate.units_office || 0,\n                    projectToCreate.living_rooms || 0,\n                    JSON.stringify(projectToCreate.units || []),\n                    projectToCreate.area,\n                    projectToCreate.description,\n                    projectToCreate.image,\n                    JSON.stringify(projectToCreate.gallery || []),\n                    projectToCreate.coordinates_lat,\n                    projectToCreate.coordinates_lng,\n                    JSON.stringify(projectToCreate.features || []),\n                    JSON.stringify(projectToCreate.amenities || []),\n                    projectToCreate.is_featured || false,\n                    projectToCreate.brochure_url || null,\n                    projectToCreate.theme_color || null,\n                    projectToCreate.voice_over_url || null,\n                    projectToCreate.presentation_file || null,\n                    projectToCreate.presentation_url || null,\n                    projectToCreate.media_type || null,\n                    projectToCreate.featured_video || null\n                ]);\n                const insertId = result.insertId;\n                // Update developer's project count if assigned\n                if (developerId) {\n                    await connection.execute(\"UPDATE developers SET projects_count = projects_count + 1, updated_at = NOW() WHERE id = ?\", [\n                        developerId\n                    ]);\n                }\n                // Commit transaction\n                await connection.commit();\n                // Fetch and return the created project\n                const [projectRows] = await connection.execute(\"SELECT * FROM projects WHERE id = ?\", [\n                    insertId\n                ]);\n                connection.release();\n                if (projectRows.length > 0) {\n                    const project = projectRows[0];\n                    return {\n                        ...project,\n                        property_type: project.property_type ? typeof project.property_type === \"string\" ? JSON.parse(project.property_type) : project.property_type : [],\n                        property_types: project.property_types ? typeof project.property_types === \"string\" ? JSON.parse(project.property_types) : project.property_types : [],\n                        sub_projects: project.sub_projects ? typeof project.sub_projects === \"string\" ? JSON.parse(project.sub_projects) : project.sub_projects : [],\n                        units: project.units ? typeof project.units === \"string\" ? JSON.parse(project.units) : project.units : [],\n                        gallery: project.gallery ? typeof project.gallery === \"string\" ? JSON.parse(project.gallery) : project.gallery : [],\n                        features: project.features ? typeof project.features === \"string\" ? JSON.parse(project.features) : project.features : [],\n                        amenities: project.amenities ? typeof project.amenities === \"string\" ? JSON.parse(project.amenities) : project.amenities : []\n                    };\n                }\n                return null;\n            } catch (error) {\n                // Rollback transaction on error\n                await connection.rollback();\n                connection.release();\n                throw error;\n            }\n        } catch (error) {\n            console.error(\"Error creating project with developer:\", error);\n            return null;\n        }\n    }\n    // Articles CRUD operations\n    static async getArticles() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM articles ORDER BY created_at DESC\");\n            connection.release();\n            const articles = rows;\n            // Parse JSON tags field and handle missing columns\n            return articles.map((article)=>({\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                }));\n        } catch (error) {\n            console.error(\"Error fetching articles:\", error);\n            return [];\n        }\n    }\n    static async createArticle(article) {\n        try {\n            const connection = await pool.getConnection();\n            // First try with all columns\n            try {\n                const [result] = await connection.execute(`INSERT INTO articles (title, slug, content, excerpt, featured_image, author, status, published_at, tags, category, read_time, meta_description, featured, views_count)\n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                    article.title,\n                    article.slug,\n                    article.content,\n                    article.excerpt,\n                    article.featured_image,\n                    article.author,\n                    article.status,\n                    article.published_at,\n                    JSON.stringify(article.tags || []),\n                    article.category,\n                    article.read_time,\n                    article.meta_description,\n                    article.featured || false,\n                    article.views_count || 0\n                ]);\n                const insertId = result.insertId;\n                connection.release();\n                return await this.getArticleById(insertId);\n            } catch (insertError) {\n                console.log(\"Full insert failed, trying basic insert:\", insertError);\n                // If that fails, try with basic columns only\n                const [result] = await connection.execute(`INSERT INTO articles (title, slug, content, excerpt, featured_image, author, status, published_at)\n           VALUES (?, ?, ?, ?, ?, ?, ?, ?)`, [\n                    article.title,\n                    article.slug,\n                    article.content,\n                    article.excerpt,\n                    article.featured_image,\n                    article.author,\n                    article.status,\n                    article.published_at\n                ]);\n                const insertId = result.insertId;\n                connection.release();\n                return await this.getArticleById(insertId);\n            }\n        } catch (error) {\n            console.error(\"Error creating article:\", error);\n            return null;\n        }\n    }\n    static async getArticleById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM articles WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const articles = rows;\n            if (articles.length > 0) {\n                const article = articles[0];\n                return {\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error fetching article by ID:\", error);\n            return null;\n        }\n    }\n    static async updateArticle(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            // Convert tags array to JSON string if present\n            const processedData = {\n                ...updateData\n            };\n            if (processedData.tags) {\n                processedData.tags = JSON.stringify(processedData.tags);\n            }\n            const fields = Object.keys(processedData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>processedData[field]);\n            await connection.execute(`UPDATE articles SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            return await this.getArticleById(id);\n        } catch (error) {\n            console.error(\"Error updating article:\", error);\n            return null;\n        }\n    }\n    static async deleteArticle(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM articles WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting article:\", error);\n            return false;\n        }\n    }\n    static async getArticleBySlug(slug) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute('SELECT * FROM articles WHERE slug = ? AND status = \"published\"', [\n                slug\n            ]);\n            connection.release();\n            const articles = rows;\n            if (articles.length > 0) {\n                const article = articles[0];\n                return {\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error fetching article by slug:\", error);\n            return null;\n        }\n    }\n    static async getPublishedArticles(options) {\n        try {\n            const connection = await pool.getConnection();\n            let query = 'SELECT * FROM articles WHERE status = \"published\" ORDER BY published_at DESC, created_at DESC';\n            const params = [];\n            if (options?.limit) {\n                query += \" LIMIT ?\";\n                params.push(options.limit);\n            }\n            const [rows] = await connection.execute(query, params);\n            connection.release();\n            const articles = rows;\n            // Parse JSON tags field and handle missing columns\n            return articles.map((article)=>({\n                    ...article,\n                    tags: article.tags ? typeof article.tags === \"string\" ? JSON.parse(article.tags) : article.tags : [],\n                    category: article.category || \"\",\n                    read_time: article.read_time || 5,\n                    meta_description: article.meta_description || \"\",\n                    featured: article.featured || false,\n                    views_count: article.views_count || 0\n                }));\n        } catch (error) {\n            console.error(\"Error fetching published articles:\", error);\n            return [];\n        }\n    }\n    // Media Files CRUD operations\n    static async getMediaFiles() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM media_files ORDER BY created_at DESC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching media files:\", error);\n            return [];\n        }\n    }\n    static async createMediaFile(mediaData) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(`INSERT INTO media_files (filename, original_name, file_path, file_size, mime_type, alt_text, uploaded_by)\n         VALUES (?, ?, ?, ?, ?, ?, ?)`, [\n                mediaData.filename,\n                mediaData.original_name,\n                mediaData.file_path,\n                mediaData.file_size,\n                mediaData.mime_type,\n                mediaData.alt_text,\n                mediaData.uploaded_by\n            ]);\n            const insertId = result.insertId;\n            connection.release();\n            return await this.getMediaFileById(insertId);\n        } catch (error) {\n            console.error(\"Error creating media file:\", error);\n            return null;\n        }\n    }\n    static async getMediaFileById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM media_files WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const mediaFiles = rows;\n            return mediaFiles.length > 0 ? mediaFiles[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching media file by ID:\", error);\n            return null;\n        }\n    }\n    static async updateMediaFile(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\" && key !== \"created_at\" && updateData[key] !== undefined);\n            if (fields.length === 0) {\n                connection.release();\n                return true;\n            }\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>updateData[field]);\n            const [result] = await connection.execute(`UPDATE media_files SET ${setClause} WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            return result.affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error updating media file:\", error);\n            return false;\n        }\n    }\n    static async deleteMediaFile(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM media_files WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting media file:\", error);\n            return false;\n        }\n    }\n    // Hero Sections CRUD operations\n    static async getHeroSections() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM hero_sections ORDER BY id DESC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching hero sections:\", error);\n            return [];\n        }\n    }\n    static async createHeroSection(heroData) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(`INSERT INTO hero_sections (page, title, subtitle, description, background_image, cta_text, cta_link, is_active)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?)`, [\n                heroData.page,\n                heroData.title,\n                heroData.subtitle,\n                heroData.description,\n                heroData.background_image,\n                heroData.cta_text,\n                heroData.cta_link,\n                heroData.is_active\n            ]);\n            const insertId = result.insertId;\n            connection.release();\n            return await this.getHeroSectionById(insertId);\n        } catch (error) {\n            console.error(\"Error creating hero section:\", error);\n            return null;\n        }\n    }\n    static async getHeroSectionById(id) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM hero_sections WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            const heroSections = rows;\n            return heroSections.length > 0 ? heroSections[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching hero section by ID:\", error);\n            return null;\n        }\n    }\n    static async updateHeroSection(id, updateData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(updateData).filter((key)=>key !== \"id\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>updateData[field]);\n            await connection.execute(`UPDATE hero_sections SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                id\n            ]);\n            connection.release();\n            return await this.getHeroSectionById(id);\n        } catch (error) {\n            console.error(\"Error updating hero section:\", error);\n            return null;\n        }\n    }\n    static async deleteHeroSection(id) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM hero_sections WHERE id = ?\", [\n                id\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting hero section:\", error);\n            return false;\n        }\n    }\n    // Users authentication\n    static async getUserByEmail(email) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM users WHERE email = ? AND is_active = TRUE\", [\n                email\n            ]);\n            connection.release();\n            const users = rows;\n            return users.length > 0 ? users[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching user by email:\", error);\n            return null;\n        }\n    }\n    static async updateUserLastLogin(userId) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"UPDATE users SET last_login = NOW() WHERE id = ?\", [\n                userId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error updating user last login:\", error);\n            return false;\n        }\n    }\n    // System logs\n    static async createLog(logData) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(`INSERT INTO system_logs (level, category, message, user_id, ip_address, user_agent, details)\n         VALUES (?, ?, ?, ?, ?, ?, ?)`, [\n                logData.level,\n                logData.category,\n                logData.message,\n                logData.user_id,\n                logData.ip_address,\n                logData.user_agent,\n                JSON.stringify(logData.details || {})\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error creating log:\", error);\n            return false;\n        }\n    }\n    // Get system statistics\n    static async getSystemStats() {\n        try {\n            const connection = await pool.getConnection();\n            const [projectCount] = await connection.execute(\"SELECT COUNT(*) as count FROM projects\");\n            const [developerCount] = await connection.execute(\"SELECT COUNT(*) as count FROM developers\");\n            const [userCount] = await connection.execute(\"SELECT COUNT(*) as count FROM users\");\n            const [logCount] = await connection.execute(\"SELECT COUNT(*) as count FROM system_logs\");\n            connection.release();\n            return {\n                totalProjects: projectCount[0].count,\n                totalDevelopers: developerCount[0].count,\n                totalUsers: userCount[0].count,\n                totalLogs: logCount[0].count,\n                lastBackup: new Date()\n            };\n        } catch (error) {\n            console.error(\"Error fetching system stats:\", error);\n            return {\n                totalProjects: 0,\n                totalDevelopers: 0,\n                totalUsers: 0,\n                totalLogs: 0,\n                lastBackup: new Date()\n            };\n        }\n    }\n    // Settings management\n    static async getSettings() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM site_settings ORDER BY id DESC LIMIT 1\");\n            connection.release();\n            const settings = rows;\n            if (settings.length > 0) {\n                const dbSettings = settings[0];\n                // Transform database columns to API format\n                return {\n                    site: {\n                        title: dbSettings.site_title || \"Premium Choice\",\n                        description: dbSettings.site_description || \"Your trusted partner in Dubai real estate\",\n                        logo: dbSettings.site_logo || \"/logo.png\",\n                        favicon: dbSettings.site_favicon || \"/favicon.ico\"\n                    },\n                    contact: {\n                        email: dbSettings.contact_email || \"admin@example.com\",\n                        phone: dbSettings.contact_phone || null,\n                        address: dbSettings.contact_address || \"Dubai, UAE\",\n                        whatsapp: dbSettings.contact_whatsapp || null\n                    },\n                    social: {\n                        facebook: dbSettings.social_facebook || \"\",\n                        instagram: dbSettings.social_instagram || \"\",\n                        twitter: dbSettings.social_twitter || \"\",\n                        linkedin: dbSettings.social_linkedin || \"\",\n                        youtube: dbSettings.social_youtube || \"\",\n                        tiktok: dbSettings.social_tiktok || \"\",\n                        snapchat: dbSettings.social_snapchat || \"\",\n                        telegram: dbSettings.social_telegram || \"\",\n                        whatsapp: dbSettings.social_whatsapp || \"\"\n                    },\n                    seo: {\n                        metaTitle: dbSettings.seo_meta_title || \"Premium Choice - Dubai Real Estate\",\n                        metaDescription: dbSettings.seo_meta_description || \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                        keywords: dbSettings.seo_keywords || \"Dubai real estate, luxury properties, investment, Premium Choice\"\n                    },\n                    features: {\n                        enableBlog: dbSettings.features_enable_blog !== false,\n                        enableNewsletter: dbSettings.features_enable_newsletter !== false,\n                        enableWhatsApp: dbSettings.features_enable_whatsapp !== false,\n                        enableLiveChat: dbSettings.features_enable_live_chat === true\n                    }\n                };\n            } else {\n                // Return default settings if none exist\n                return {\n                    site: {\n                        title: \"Premium Choice\",\n                        description: \"Your trusted partner in Dubai real estate\",\n                        logo: \"/logo.png\",\n                        favicon: \"/favicon.ico\"\n                    },\n                    contact: {\n                        email: \"admin@example.com\",\n                        phone: null,\n                        address: \"Dubai, UAE\",\n                        whatsapp: null\n                    },\n                    social: {\n                        facebook: \"\",\n                        instagram: \"\",\n                        twitter: \"\",\n                        linkedin: \"\",\n                        youtube: \"\",\n                        tiktok: \"\",\n                        snapchat: \"\",\n                        telegram: \"\",\n                        whatsapp: \"\"\n                    },\n                    seo: {\n                        metaTitle: \"Premium Choice - Dubai Real Estate\",\n                        metaDescription: \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                        keywords: \"Dubai real estate, luxury properties, investment, Premium Choice\"\n                    },\n                    features: {\n                        enableBlog: true,\n                        enableNewsletter: true,\n                        enableWhatsApp: true,\n                        enableLiveChat: false\n                    }\n                };\n            }\n        } catch (error) {\n            console.error(\"Error fetching settings:\", error);\n            // Return default settings on error\n            return {\n                site: {\n                    title: \"Premium Choice\",\n                    description: \"Your trusted partner in Dubai real estate\",\n                    logo: \"/logo.png\",\n                    favicon: \"/favicon.ico\"\n                },\n                contact: {\n                    email: \"admin@example.com\",\n                    phone: null,\n                    address: \"Dubai, UAE\",\n                    whatsapp: null\n                },\n                social: {\n                    facebook: \"\",\n                    instagram: \"\",\n                    twitter: \"\",\n                    linkedin: \"\",\n                    youtube: \"\",\n                    tiktok: \"\",\n                    snapchat: \"\",\n                    telegram: \"\",\n                    whatsapp: \"\"\n                },\n                seo: {\n                    metaTitle: \"Premium Choice - Dubai Real Estate\",\n                    metaDescription: \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                    keywords: \"Dubai real estate, luxury properties, investment, Premium Choice\"\n                },\n                features: {\n                    enableBlog: true,\n                    enableNewsletter: true,\n                    enableWhatsApp: true,\n                    enableLiveChat: false\n                }\n            };\n        }\n    }\n    static async updateSettings(settingsData) {\n        try {\n            const connection = await pool.getConnection();\n            // Transform API format to database columns\n            const dbData = {};\n            if (settingsData.site) {\n                if (settingsData.site.title) dbData.site_title = settingsData.site.title;\n                if (settingsData.site.description) dbData.site_description = settingsData.site.description;\n                if (settingsData.site.logo) dbData.site_logo = settingsData.site.logo;\n                if (settingsData.site.favicon) dbData.site_favicon = settingsData.site.favicon;\n            }\n            if (settingsData.contact) {\n                if (settingsData.contact.email) dbData.contact_email = settingsData.contact.email;\n                if (settingsData.contact.phone) dbData.contact_phone = settingsData.contact.phone;\n                if (settingsData.contact.address) dbData.contact_address = settingsData.contact.address;\n                if (settingsData.contact.whatsapp) dbData.contact_whatsapp = settingsData.contact.whatsapp;\n            }\n            if (settingsData.social) {\n                if (settingsData.social.facebook !== undefined) dbData.social_facebook = settingsData.social.facebook;\n                if (settingsData.social.instagram !== undefined) dbData.social_instagram = settingsData.social.instagram;\n                if (settingsData.social.twitter !== undefined) dbData.social_twitter = settingsData.social.twitter;\n                if (settingsData.social.linkedin !== undefined) dbData.social_linkedin = settingsData.social.linkedin;\n                if (settingsData.social.youtube !== undefined) dbData.social_youtube = settingsData.social.youtube;\n                if (settingsData.social.tiktok !== undefined) dbData.social_tiktok = settingsData.social.tiktok;\n                if (settingsData.social.snapchat !== undefined) dbData.social_snapchat = settingsData.social.snapchat;\n                if (settingsData.social.telegram !== undefined) dbData.social_telegram = settingsData.social.telegram;\n                if (settingsData.social.whatsapp !== undefined) dbData.social_whatsapp = settingsData.social.whatsapp;\n            }\n            if (settingsData.seo) {\n                if (settingsData.seo.metaTitle) dbData.seo_meta_title = settingsData.seo.metaTitle;\n                if (settingsData.seo.metaDescription) dbData.seo_meta_description = settingsData.seo.metaDescription;\n                if (settingsData.seo.keywords) dbData.seo_keywords = settingsData.seo.keywords;\n            }\n            if (settingsData.features) {\n                if (settingsData.features.enableBlog !== undefined) dbData.features_enable_blog = settingsData.features.enableBlog;\n                if (settingsData.features.enableNewsletter !== undefined) dbData.features_enable_newsletter = settingsData.features.enableNewsletter;\n                if (settingsData.features.enableWhatsApp !== undefined) dbData.features_enable_whatsapp = settingsData.features.enableWhatsApp;\n                if (settingsData.features.enableLiveChat !== undefined) dbData.features_enable_live_chat = settingsData.features.enableLiveChat;\n            }\n            // Check if settings exist\n            const [existingRows] = await connection.execute(\"SELECT id FROM site_settings LIMIT 1\");\n            const existing = existingRows;\n            if (existing.length > 0) {\n                // Update existing settings\n                const fields = Object.keys(dbData);\n                if (fields.length > 0) {\n                    const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n                    const values = fields.map((field)=>dbData[field]);\n                    await connection.execute(`UPDATE site_settings SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                        ...values,\n                        existing[0].id\n                    ]);\n                }\n            } else {\n                // Insert new settings with defaults\n                const defaultData = {\n                    site_title: \"Premium Choice\",\n                    site_description: \"Your trusted partner in Dubai real estate\",\n                    site_logo: \"/logo.png\",\n                    site_favicon: \"/favicon.ico\",\n                    contact_email: \"admin@example.com\",\n                    contact_phone: null,\n                    contact_address: \"Dubai, UAE\",\n                    contact_whatsapp: null,\n                    social_facebook: \"\",\n                    social_instagram: \"\",\n                    social_twitter: \"\",\n                    social_linkedin: \"\",\n                    social_youtube: \"\",\n                    seo_meta_title: \"Premium Choice - Dubai Real Estate\",\n                    seo_meta_description: \"Discover premium real estate opportunities in Dubai with Premium Choice. Your trusted partner for luxury properties and investment solutions.\",\n                    seo_keywords: \"Dubai real estate, luxury properties, investment, Premium Choice\",\n                    features_enable_blog: true,\n                    features_enable_newsletter: true,\n                    features_enable_whatsapp: true,\n                    features_enable_live_chat: false,\n                    ...dbData\n                };\n                const fields = Object.keys(defaultData);\n                const placeholders = fields.map(()=>\"?\").join(\", \");\n                const values = fields.map((field)=>defaultData[field]);\n                await connection.execute(`INSERT INTO site_settings (${fields.join(\", \")}, created_at, updated_at) VALUES (${placeholders}, NOW(), NOW())`, values);\n            }\n            connection.release();\n            return await this.getSettings();\n        } catch (error) {\n            console.error(\"Error updating settings:\", error);\n            throw error;\n        }\n    }\n    // Presentation slides management\n    static async getPresentationSlides(projectId) {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM presentation_slides WHERE project_id = ? ORDER BY slide_number ASC\", [\n                projectId\n            ]);\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching presentation slides:\", error);\n            return [];\n        }\n    }\n    static async createPresentationSlide(slideData) {\n        try {\n            const connection = await pool.getConnection();\n            // Get the next slide number for this project\n            const [maxSlideRows] = await connection.execute(\"SELECT COALESCE(MAX(slide_number), 0) + 1 as next_slide_number FROM presentation_slides WHERE project_id = ?\", [\n                slideData.project_id\n            ]);\n            const nextSlideNumber = maxSlideRows[0].next_slide_number;\n            const [result] = await connection.execute(`INSERT INTO presentation_slides \n         (project_id, slide_number, title, content, description, image_url, background_image, animation_type, duration, voice_over_url)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`, [\n                slideData.project_id,\n                slideData.slide_number || nextSlideNumber,\n                slideData.title,\n                slideData.content,\n                slideData.description || null,\n                slideData.image_url || null,\n                slideData.background_image || null,\n                slideData.animation_type || \"fadeIn\",\n                slideData.duration || 5000,\n                slideData.voice_over_url || null\n            ]);\n            connection.release();\n            return result.insertId;\n        } catch (error) {\n            console.error(\"Error creating presentation slide:\", error);\n            throw error;\n        }\n    }\n    static async updatePresentationSlide(slideId, slideData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(slideData).filter((key)=>key !== \"id\" && key !== \"created_at\");\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>slideData[field]);\n            await connection.execute(`UPDATE presentation_slides SET ${setClause} WHERE id = ?`, [\n                ...values,\n                slideId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error updating presentation slide:\", error);\n            return false;\n        }\n    }\n    static async deletePresentationSlide(slideId) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM presentation_slides WHERE id = ?\", [\n                slideId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting presentation slide:\", error);\n            return false;\n        }\n    }\n    static async deletePresentationSlidesByProject(projectId) {\n        try {\n            const connection = await pool.getConnection();\n            await connection.execute(\"DELETE FROM presentation_slides WHERE project_id = ?\", [\n                projectId\n            ]);\n            connection.release();\n            return true;\n        } catch (error) {\n            console.error(\"Error deleting presentation slides for project:\", error);\n            return false;\n        }\n    }\n    // Hero Images Management\n    static async getHeroImages() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM hero_images ORDER BY order_index ASC, created_at DESC\");\n            connection.release();\n            return rows;\n        } catch (error) {\n            console.error(\"Error fetching hero images:\", error);\n            return [];\n        }\n    }\n    static async createHeroImage(imageData) {\n        try {\n            const connection = await pool.getConnection();\n            // Get the next order index\n            const [maxOrderRows] = await connection.execute(\"SELECT COALESCE(MAX(order_index), 0) + 1 as next_order FROM hero_images\");\n            const nextOrder = maxOrderRows[0].next_order;\n            const [result] = await connection.execute(`INSERT INTO hero_images \n         (url, title, description, alt_text, is_active, order_index, created_at, updated_at)\n         VALUES (?, ?, ?, ?, ?, ?, NOW(), NOW())`, [\n                imageData.url,\n                imageData.title,\n                imageData.description || null,\n                imageData.alt_text || imageData.title,\n                imageData.is_active !== undefined ? imageData.is_active : true,\n                imageData.order_index || nextOrder\n            ]);\n            const insertId = result.insertId;\n            // Fetch and return the created image\n            const [newImageRows] = await connection.execute(\"SELECT * FROM hero_images WHERE id = ?\", [\n                insertId\n            ]);\n            connection.release();\n            return newImageRows[0];\n        } catch (error) {\n            console.error(\"Error creating hero image:\", error);\n            throw error;\n        }\n    }\n    static async updateHeroImage(imageId, imageData) {\n        try {\n            const connection = await pool.getConnection();\n            const fields = Object.keys(imageData).filter((key)=>key !== \"id\" && key !== \"created_at\" && key !== \"updated_at\");\n            if (fields.length === 0) {\n                connection.release();\n                return true;\n            }\n            const setClause = fields.map((field)=>`${field} = ?`).join(\", \");\n            const values = fields.map((field)=>imageData[field]);\n            const [result] = await connection.execute(`UPDATE hero_images SET ${setClause}, updated_at = NOW() WHERE id = ?`, [\n                ...values,\n                imageId\n            ]);\n            connection.release();\n            return result.affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error updating hero image:\", error);\n            return false;\n        }\n    }\n    static async deleteHeroImage(imageId) {\n        try {\n            const connection = await pool.getConnection();\n            const [result] = await connection.execute(\"DELETE FROM hero_images WHERE id = ?\", [\n                imageId\n            ]);\n            connection.release();\n            return result.affectedRows > 0;\n        } catch (error) {\n            console.error(\"Error deleting hero image:\", error);\n            return false;\n        }\n    }\n    // AI API Settings Management\n    static async getAISettings() {\n        try {\n            const connection = await pool.getConnection();\n            const [rows] = await connection.execute(\"SELECT * FROM ai_api_settings ORDER BY created_at DESC LIMIT 1\");\n            connection.release();\n            const settings = rows;\n            return settings.length > 0 ? settings[0] : null;\n        } catch (error) {\n            console.error(\"Error fetching AI settings:\", error);\n            return null;\n        }\n    }\n    static async saveAISettings(settingsData) {\n        try {\n            const connection = await pool.getConnection();\n            // Check if settings exist\n            const [existingRows] = await connection.execute(\"SELECT id FROM ai_api_settings LIMIT 1\");\n            const existing = existingRows;\n            if (existing.length > 0) {\n                // Update existing settings\n                await connection.execute(`UPDATE ai_api_settings SET \n           openai_api_key = ?, openai_model = ?, openai_max_tokens = ?, openai_temperature = ?,\n           gemini_api_key = ?, gemini_model = ?, claude_api_key = ?, claude_model = ?,\n           deepseek_api_key = ?, deepseek_model = ?, deepseek_max_tokens = ?, deepseek_temperature = ?,\n           default_provider = ?, ai_enabled = ?, rate_limit_per_minute = ?, rate_limit_per_hour = ?,\n           system_prompt = ?, property_suggestions_enabled = ?, property_suggestions_count = ?, contact_info_in_responses = ?,\n           updated_at = NOW()\n           WHERE id = ?`, [\n                    settingsData.openai_api_key || \"\",\n                    settingsData.openai_model || \"gpt-3.5-turbo\",\n                    settingsData.openai_max_tokens || 1000,\n                    settingsData.openai_temperature || 0.7,\n                    settingsData.gemini_api_key || \"\",\n                    settingsData.gemini_model || \"gemini-pro\",\n                    settingsData.claude_api_key || \"\",\n                    settingsData.claude_model || \"claude-3-sonnet-20240229\",\n                    settingsData.deepseek_api_key || \"\",\n                    settingsData.deepseek_model || \"deepseek-chat\",\n                    settingsData.deepseek_max_tokens || 1000,\n                    settingsData.deepseek_temperature || 0.7,\n                    settingsData.default_provider || \"openai\",\n                    settingsData.ai_enabled !== undefined ? settingsData.ai_enabled : true,\n                    settingsData.rate_limit_per_minute || 10,\n                    settingsData.rate_limit_per_hour || 100,\n                    settingsData.system_prompt || \"You are an expert real estate consultant with deep knowledge of the Dubai and UAE property market.\",\n                    settingsData.property_suggestions_enabled !== undefined ? settingsData.property_suggestions_enabled : true,\n                    settingsData.property_suggestions_count || 4,\n                    settingsData.contact_info_in_responses !== undefined ? settingsData.contact_info_in_responses : true,\n                    existing[0].id\n                ]);\n            } else {\n                // Insert new settings\n                await connection.execute(`INSERT INTO ai_api_settings \n           (openai_api_key, openai_model, openai_max_tokens, openai_temperature,\n            gemini_api_key, gemini_model, claude_api_key, claude_model,\n            deepseek_api_key, deepseek_model, deepseek_max_tokens, deepseek_temperature,\n            default_provider, ai_enabled, rate_limit_per_minute, rate_limit_per_hour,\n            system_prompt, property_suggestions_enabled, property_suggestions_count, contact_info_in_responses,\n            created_at, updated_at)\n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())`, [\n                    settingsData.openai_api_key || \"\",\n                    settingsData.openai_model || \"gpt-3.5-turbo\",\n                    settingsData.openai_max_tokens || 1000,\n                    settingsData.openai_temperature || 0.7,\n                    settingsData.gemini_api_key || \"\",\n                    settingsData.gemini_model || \"gemini-pro\",\n                    settingsData.claude_api_key || \"\",\n                    settingsData.claude_model || \"claude-3-sonnet-20240229\",\n                    settingsData.deepseek_api_key || \"\",\n                    settingsData.deepseek_model || \"deepseek-chat\",\n                    settingsData.deepseek_max_tokens || 1000,\n                    settingsData.deepseek_temperature || 0.7,\n                    settingsData.default_provider || \"openai\",\n                    settingsData.ai_enabled !== undefined ? settingsData.ai_enabled : true,\n                    settingsData.rate_limit_per_minute || 10,\n                    settingsData.rate_limit_per_hour || 100,\n                    settingsData.system_prompt || \"You are an expert real estate consultant with deep knowledge of the Dubai and UAE property market.\",\n                    settingsData.property_suggestions_enabled !== undefined ? settingsData.property_suggestions_enabled : true,\n                    settingsData.property_suggestions_count || 4,\n                    settingsData.contact_info_in_responses !== undefined ? settingsData.contact_info_in_responses : true\n                ]);\n            }\n            connection.release();\n            return await this.getAISettings();\n        } catch (error) {\n            console.error(\"Error saving AI settings:\", error);\n            throw error;\n        }\n    }\n}\n// Standalone query function for backward compatibility\nconst query = MySQLDatabase.query.bind(MySQLDatabase);\n// Export getDatabase function for backward compatibility\nasync function getDatabase() {\n    return pool;\n}\n// Export getConnection function for backward compatibility\nasync function getConnection() {\n    return await pool.getConnection();\n}\n// Export Database class alias for compatibility\nconst Database = MySQLDatabase;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MySQLDatabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L215c3FsLWRhdGFiYXNlLnRzPzZkOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJztcblxuLy8gRGF0YWJhc2UgY29uZmlndXJhdGlvbiB3aXRoIHlvdXIgcHJvdmlkZWQgY3JlZGVudGlhbHNcbmNvbnN0IGRiQ29uZmlnID0ge1xuICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxuICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICBwb3J0OiBwcm9jZXNzLmVudi5EQl9QT1JUID8gTnVtYmVyKHByb2Nlc3MuZW52LkRCX1BPUlQpIDogMzMwNixcbiAgc3NsOiB7XG4gICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxuICB9LFxuICAvLyBNaW5pbWFsIGNvbm5lY3Rpb24gbGltaXRzIHRvIGF2b2lkIGV4Y2VlZGluZyBzZXJ2ZXIgbGltaXRzXG4gIGNvbm5lY3Rpb25MaW1pdDogMSxcbiAgcXVldWVMaW1pdDogNSxcbiAgLy8gQ29ubmVjdGlvbiBwb29sIG9wdGlvbnMgc3VwcG9ydGVkIGJ5IG15c3FsMlxuICBlbmFibGVLZWVwQWxpdmU6IGZhbHNlLFxuICBpZGxlVGltZW91dDogMzAwMDAsXG4gIG1heElkbGU6IDAsXG4gIC8vIEFkZGl0aW9uYWwgY29ubmVjdGlvbiBtYW5hZ2VtZW50XG4gIG11bHRpcGxlU3RhdGVtZW50czogZmFsc2VcbiAgLy8gUmVtb3ZlZCBpbnZhbGlkIG9wdGlvbnM6IGFjcXVpcmVUaW1lb3V0LCB0aW1lb3V0LCByZWNvbm5lY3QsIHJlbGVhc2VUaW1lb3V0XG59O1xuXG4vLyBDcmVhdGUgY29ubmVjdGlvbiBwb29sXG5jb25zdCBwb29sID0gbXlzcWwuY3JlYXRlUG9vbChkYkNvbmZpZyk7XG5cbi8vIEludGVyZmFjZXMgZm9yIGRhdGFiYXNlIGVudGl0aWVzXG5leHBvcnQgaW50ZXJmYWNlIFByb2plY3Qge1xuICBpZD86IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIHByb2plY3RfbmFtZT86IHN0cmluZztcbiAgc3ViX3Byb2plY3Q/OiBzdHJpbmc7XG4gIGRpc3BsYXlfdGl0bGU/OiBzdHJpbmc7XG4gIGRldmVsb3Blcjogc3RyaW5nO1xuICBkZXZlbG9wZXJfaWQ/OiBudW1iZXI7XG4gIGxvY2F0aW9uOiBzdHJpbmc7XG4gIHByaWNlPzogc3RyaW5nO1xuICBzdGFydGluZ19wcmljZT86IHN0cmluZztcbiAgc3RhdHVzPzogc3RyaW5nO1xuICBwcm9qZWN0X3R5cGU/OiBzdHJpbmc7XG4gIHR5cGU/OiBzdHJpbmc7XG4gIGNhdGVnb3J5Pzogc3RyaW5nO1xuICBjb2xvcl9wYWxldHRlPzogc3RyaW5nIHwgbnVsbDtcbiAgcHJvcGVydHlfdHlwZT86IHN0cmluZ1tdO1xuICBwcm9wZXJ0eV90eXBlcz86IHN0cmluZ1tdO1xuICBzdWJfcHJvamVjdHM/OiBzdHJpbmdbXTtcbiAgYmVkcm9vbXM/OiBudW1iZXI7XG4gIGJhdGhyb29tcz86IG51bWJlcjtcbiAgc3R1ZGlvcz86IG51bWJlcjtcbiAgdW5pdHNfMWJlZHJvb20/OiBudW1iZXI7XG4gIHVuaXRzXzJiZWRyb29tPzogbnVtYmVyO1xuICB1bml0c18zYmVkcm9vbT86IG51bWJlcjtcbiAgdW5pdHNfNGJlZHJvb20/OiBudW1iZXI7XG4gIHVuaXRzXzViZWRyb29tPzogbnVtYmVyO1xuICB1bml0c19vZmZpY2U/OiBudW1iZXI7XG4gIGxpdmluZ19yb29tcz86IG51bWJlcjtcbiAgdW5pdHM/OiBzdHJpbmdbXTtcbiAgYXJlYTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBpbWFnZTogc3RyaW5nO1xuICBnYWxsZXJ5Pzogc3RyaW5nW107XG4gIGNvb3JkaW5hdGVzX2xhdDogbnVtYmVyO1xuICBjb29yZGluYXRlc19sbmc6IG51bWJlcjtcbiAgZmVhdHVyZXM/OiBzdHJpbmdbXTtcbiAgYW1lbml0aWVzPzogc3RyaW5nW107XG4gIGlzX2ZlYXR1cmVkPzogYm9vbGVhbjtcbiAgZmVhdHVyZWQ/OiBib29sZWFuOyAvLyBBbGlhcyBmb3IgaXNfZmVhdHVyZWRcbiAgYnJvY2h1cmVfdXJsPzogc3RyaW5nO1xuICB0aGVtZV9jb2xvcj86IHN0cmluZztcbiAgdm9pY2Vfb3Zlcl91cmw/OiBzdHJpbmc7XG4gIC8vIFBvd2VyUG9pbnQgcHJlc2VudGF0aW9uIGZpZWxkcyAobGVnYWN5KVxuICBwcmVzZW50YXRpb25fZmlsZT86IHN0cmluZyB8IG51bGw7XG4gIHByZXNlbnRhdGlvbl91cmw/OiBzdHJpbmc7XG4gIHByZXNlbnRhdGlvbl9zbGlkZXM/OiBQcmVzZW50YXRpb25TbGlkZVtdO1xuICBwcmVzZW50YXRpb25fYW5pbWF0aW9ucz86IGFueTtcbiAgcHJlc2VudGF0aW9uX2VmZmVjdHM/OiBhbnk7XG4gIG1lZGlhX3R5cGU/OiAncGRmJyB8ICd2aWRlbyc7XG4gIG1lZGlhX2ZpbGVzPzogQXJyYXk8e1xuICAgIGlkPzogbnVtYmVyO1xuICAgIGZpbGVfbmFtZT86IHN0cmluZztcbiAgICBmaWxlX3BhdGg/OiBzdHJpbmc7XG4gICAgdXJsPzogc3RyaW5nO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgbWVkaWFfdHlwZT86IHN0cmluZztcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIG1pbWVfdHlwZT86IHN0cmluZztcbiAgfT47XG4gIGZlYXR1cmVkX3ZpZGVvPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERldmVsb3BlciB7XG4gIGlkPzogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIHNsdWc6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgbG9nbz86IHN0cmluZztcbiAgZXN0YWJsaXNoZWQ/OiBzdHJpbmc7XG4gIHByb2plY3RzX2NvdW50OiBudW1iZXI7XG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuICB3ZWJzaXRlPzogc3RyaW5nO1xuICBwaG9uZT86IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7XG4gIHN0YXR1czogJ0FjdGl2ZScgfCAnSW5hY3RpdmUnO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZD86IG51bWJlcjtcbiAgZW1haWw6IHN0cmluZztcbiAgcGFzc3dvcmRfaGFzaDogc3RyaW5nO1xuICByb2xlOiAnYWRtaW4nIHwgJ2VkaXRvcicgfCAndmlld2VyJztcbiAgbmFtZTogc3RyaW5nO1xuICBsYXN0X2xvZ2luPzogRGF0ZTtcbiAgY3JlYXRlZF9hdD86IERhdGU7XG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZXJvU2VjdGlvbiB7XG4gIGlkPzogbnVtYmVyO1xuICBwYWdlOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHN1YnRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGJhY2tncm91bmRfaW1hZ2U6IHN0cmluZztcbiAgY3RhX3RleHQ6IHN0cmluZztcbiAgY3RhX2xpbms6IHN0cmluZztcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICB1cGRhdGVkX2F0PzogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcnRpY2xlIHtcbiAgaWQ/OiBudW1iZXI7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHNsdWc6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBleGNlcnB0Pzogc3RyaW5nO1xuICBmZWF0dXJlZF9pbWFnZT86IHN0cmluZztcbiAgYXV0aG9yOiBzdHJpbmc7XG4gIGF1dGhvcl9pZD86IG51bWJlcjtcbiAgc3RhdHVzOiAnZHJhZnQnIHwgJ3B1Ymxpc2hlZCcgfCAnYXJjaGl2ZWQnO1xuICBwdWJsaXNoZWRfYXQ/OiBzdHJpbmc7XG4gIHRhZ3M/OiBzdHJpbmdbXTtcbiAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIHJlYWRfdGltZT86IG51bWJlcjtcbiAgbWV0YV90aXRsZT86IHN0cmluZztcbiAgbWV0YV9kZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZmVhdHVyZWQ/OiBib29sZWFuO1xuICB2aWV3c19jb3VudD86IG51bWJlcjtcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbiAgdXBkYXRlZF9hdD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZWRpYUZpbGUge1xuICBpZD86IG51bWJlcjtcbiAgZmlsZW5hbWU6IHN0cmluZztcbiAgb3JpZ2luYWxfbmFtZTogc3RyaW5nO1xuICBmaWxlX3BhdGg6IHN0cmluZztcbiAgZmlsZV9zaXplOiBudW1iZXI7XG4gIG1pbWVfdHlwZTogc3RyaW5nO1xuICAvLyBPcHRpb25hbCBjYW1lbENhc2UgYWxpYXNlcyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGNsaWVudCBwYXlsb2Fkc1xuICBwYXRoPzogc3RyaW5nO1xuICBzaXplPzogbnVtYmVyO1xuICBtaW1lVHlwZT86IHN0cmluZztcbiAgdXBsb2FkZWRBdD86IHN0cmluZztcbiAgYWx0X3RleHQ/OiBzdHJpbmc7XG4gIHVwbG9hZGVkX2J5PzogbnVtYmVyO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN5c3RlbUxvZyB7XG4gIGlkPzogbnVtYmVyO1xuICB0aW1lc3RhbXA/OiBEYXRlO1xuICBsZXZlbDogJ2luZm8nIHwgJ3dhcm5pbmcnIHwgJ2Vycm9yJyB8ICdzdWNjZXNzJztcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB1c2VyX2lkPzogbnVtYmVyO1xuICBpcF9hZGRyZXNzPzogc3RyaW5nO1xuICB1c2VyX2FnZW50Pzogc3RyaW5nO1xuICBkZXRhaWxzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRNZXNzYWdlIHtcbiAgaWQ/OiBudW1iZXI7XG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICByZXNwb25zZTogc3RyaW5nO1xuICB0aW1lc3RhbXA/OiBEYXRlO1xuICByZXNwb25zZV90aW1lOiBudW1iZXI7XG4gIHVzZXJfaXA/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJlc2VudGF0aW9uU2xpZGUge1xuICBpZD86IG51bWJlcjtcbiAgcHJvamVjdF9pZDogbnVtYmVyO1xuICBzbGlkZV9udW1iZXI6IG51bWJlcjtcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgaW1hZ2VfdXJsPzogc3RyaW5nO1xuICBiYWNrZ3JvdW5kX2ltYWdlPzogc3RyaW5nO1xuICBhbmltYXRpb25fdHlwZT86IHN0cmluZztcbiAgZHVyYXRpb24/OiBudW1iZXI7XG4gIHZvaWNlX292ZXJfdXJsPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0PzogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZXJvSW1hZ2Uge1xuICBpZD86IG51bWJlcjtcbiAgdXJsOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBhbHRfdGV4dD86IHN0cmluZztcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBvcmRlcl9pbmRleDogbnVtYmVyO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFJQXBpU2V0dGluZ3Mge1xuICBpZD86IG51bWJlcjtcbiAgb3BlbmFpX2FwaV9rZXk6IHN0cmluZztcbiAgb3BlbmFpX21vZGVsOiBzdHJpbmc7XG4gIG9wZW5haV9tYXhfdG9rZW5zOiBudW1iZXI7XG4gIG9wZW5haV90ZW1wZXJhdHVyZTogbnVtYmVyO1xuICBnZW1pbmlfYXBpX2tleTogc3RyaW5nO1xuICBnZW1pbmlfbW9kZWw6IHN0cmluZztcbiAgY2xhdWRlX2FwaV9rZXk6IHN0cmluZztcbiAgY2xhdWRlX21vZGVsOiBzdHJpbmc7XG4gIGRlZXBzZWVrX2FwaV9rZXk6IHN0cmluZztcbiAgZGVlcHNlZWtfbW9kZWw6IHN0cmluZztcbiAgZGVlcHNlZWtfbWF4X3Rva2VuczogbnVtYmVyO1xuICBkZWVwc2Vla190ZW1wZXJhdHVyZTogbnVtYmVyO1xuICBkZWZhdWx0X3Byb3ZpZGVyOiBzdHJpbmc7XG4gIGFpX2VuYWJsZWQ6IGJvb2xlYW47XG4gIHJhdGVfbGltaXRfcGVyX21pbnV0ZTogbnVtYmVyO1xuICByYXRlX2xpbWl0X3Blcl9ob3VyOiBudW1iZXI7XG4gIHN5c3RlbV9wcm9tcHQ6IHN0cmluZztcbiAgcHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZDogYm9vbGVhbjtcbiAgcHJvcGVydHlfc3VnZ2VzdGlvbnNfY291bnQ6IG51bWJlcjtcbiAgY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlczogYm9vbGVhbjtcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbiAgdXBkYXRlZF9hdD86IHN0cmluZztcbn1cblxuLy8gRGF0YWJhc2UgY2xhc3Mgd2l0aCBNeVNRTCBvcGVyYXRpb25zXG5leHBvcnQgY2xhc3MgTXlTUUxEYXRhYmFzZSB7XG4gIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvblxuICBzdGF0aWMgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucGluZygpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCcpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW51cCBkYXRhYmFzZSBjb25uZWN0aW9uc1xuICBzdGF0aWMgYXN5bmMgY2xlYW51cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcG9vbC5lbmQoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRGF0YWJhc2UgY29ubmVjdGlvbnMgY2xvc2VkJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjbG9zaW5nIGRhdGFiYXNlIGNvbm5lY3Rpb25zOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZW5lcmljIHF1ZXJ5IGV4ZWN1dGlvbiBtZXRob2RcbiAgc3RhdGljIGFzeW5jIGV4ZWN1dGVRdWVyeShxdWVyeTogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShxdWVyeSwgcGFyYW1zKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZXhlY3V0aW5nIHF1ZXJ5OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFF1ZXJ5IG1ldGhvZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICBzdGF0aWMgYXN5bmMgcXVlcnkoc3FsOiBzdHJpbmcsIHBhcmFtczogYW55W10gPSBbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVF1ZXJ5KHNxbCwgcGFyYW1zKTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgZGF0YWJhc2UgY29ubmVjdGlvbiBhbmQgdGFibGVzXG4gIHN0YXRpYyBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUZXN0IGNvbm5lY3Rpb24gZmlyc3RcbiAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gYXdhaXQgdGhpcy50ZXN0Q29ubmVjdGlvbigpO1xuICAgICAgaWYgKCFpc0Nvbm5lY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxpemUgdGFibGVzXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplVGFibGVzKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBkYXRhYmFzZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIG1pc3NpbmcgY29sdW1ucyB0byBzaXRlX3NldHRpbmdzIHRhYmxlXG4gIHN0YXRpYyBhc3luYyBhZGRNaXNzaW5nU29jaWFsQ29sdW1ucygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBjb2x1bW5zIGV4aXN0IGFuZCBhZGQgdGhlbSBpZiB0aGV5IGRvbid0XG4gICAgICBjb25zdCBhbHRlclRhYmxlU1FMID0gYFxuICAgICAgICBBTFRFUiBUQUJMRSBzaXRlX3NldHRpbmdzIFxuICAgICAgICBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgc29jaWFsX3Rpa3RvayBWQVJDSEFSKDUwMCksXG4gICAgICAgIEFERCBDT0xVTU4gSUYgTk9UIEVYSVNUUyBzb2NpYWxfc25hcGNoYXQgVkFSQ0hBUig1MDApLFxuICAgICAgICBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgc29jaWFsX3RlbGVncmFtIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgQUREIENPTFVNTiBJRiBOT1QgRVhJU1RTIHNvY2lhbF93aGF0c2FwcCBWQVJDSEFSKDUwMCk7XG4gICAgICBgO1xuICAgICAgXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoYWx0ZXJUYWJsZVNRTCk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTWlzc2luZyBzb2NpYWwgbWVkaWEgY29sdW1ucyBhZGRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgYWRkaW5nIG1pc3NpbmcgY29sdW1uczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSB0YWJsZXNcbiAgc3RhdGljIGFzeW5jIGluaXRpYWxpemVUYWJsZXMoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIHRhYmxlcyBpZiB0aGV5IGRvbid0IGV4aXN0XG4gICAgICBjb25zdCBjcmVhdGVUYWJsZXNTUUwgPSBgXG4gICAgICAgIC0tIFVzZXJzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgZW1haWwgVkFSQ0hBUigyNTUpIFVOSVFVRSBOT1QgTlVMTCxcbiAgICAgICAgICBwYXNzd29yZF9oYXNoIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICByb2xlIEVOVU0oJ2FkbWluJywgJ2VkaXRvcicsICd2aWV3ZXInKSBERUZBVUxUICd2aWV3ZXInLFxuICAgICAgICAgIG5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIGxhc3RfbG9naW4gVElNRVNUQU1QIE5VTEwsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICBpc19hY3RpdmUgQk9PTEVBTiBERUZBVUxUIFRSVUVcbiAgICAgICAgKTtcblxuICAgICAgICAtLSBEZXZlbG9wZXJzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGRldmVsb3BlcnMgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBuYW1lIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICBzbHVnIFZBUkNIQVIoMjU1KSBVTklRVUUgTk9UIE5VTEwsXG4gICAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgICAgICBsb2dvIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBlc3RhYmxpc2hlZCBWQVJDSEFSKDUwKSxcbiAgICAgICAgICBwcm9qZWN0c19jb3VudCBJTlQgREVGQVVMVCAwLFxuICAgICAgICAgIGxvY2F0aW9uIFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICB3ZWJzaXRlIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBwaG9uZSBWQVJDSEFSKDUwKSxcbiAgICAgICAgICBlbWFpbCBWQVJDSEFSKDI1NSksXG4gICAgICAgICAgc3RhdHVzIEVOVU0oJ0FjdGl2ZScsICdJbmFjdGl2ZScpIERFRkFVTFQgJ0FjdGl2ZScsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgICApO1xuXG4gICAgICAgIC0tIFByb2plY3RzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHByb2plY3RzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgc2x1ZyBWQVJDSEFSKDI1NSkgVU5JUVVFIE5PVCBOVUxMLFxuICAgICAgICAgIGRldmVsb3BlciBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgbG9jYXRpb24gVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIHByaWNlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcbiAgICAgICAgICBzdGF0dXMgRU5VTSgnQXZhaWxhYmxlJywgJ1NvbGQnLCAnVW5kZXIgQ29uc3RydWN0aW9uJykgREVGQVVMVCAnQXZhaWxhYmxlJyxcbiAgICAgICAgICBiZWRyb29tcyBJTlQgTk9UIE5VTEwsXG4gICAgICAgICAgYmF0aHJvb21zIElOVCBOT1QgTlVMTCxcbiAgICAgICAgICBzdHVkaW9zIElOVCBERUZBVUxUIDAsXG4gICAgICAgICAgYXJlYSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwsXG4gICAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgICAgICBpbWFnZSBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgZ2FsbGVyeSBKU09OLFxuICAgICAgICAgIGNvb3JkaW5hdGVzX2xhdCBERUNJTUFMKDEwLCA4KSxcbiAgICAgICAgICBjb29yZGluYXRlc19sbmcgREVDSU1BTCgxMSwgOCksXG4gICAgICAgICAgZmVhdHVyZXMgSlNPTixcbiAgICAgICAgICBhbWVuaXRpZXMgSlNPTixcbiAgICAgICAgICBwcmVzZW50YXRpb25fZmlsZSBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgcHJlc2VudGF0aW9uX3VybCBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgcHJlc2VudGF0aW9uX3NsaWRlcyBKU09OLFxuICAgICAgICAgIHByZXNlbnRhdGlvbl9hbmltYXRpb25zIEpTT04sXG4gICAgICAgICAgcHJlc2VudGF0aW9uX2VmZmVjdHMgSlNPTixcbiAgICAgICAgICBtZWRpYV9maWxlcyBKU09OLFxuICAgICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICAgICAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgICAgKTtcblxuICAgICAgICAtLSBIZXJvIHNlY3Rpb25zIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGhlcm9fc2VjdGlvbnMgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBwYWdlIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcbiAgICAgICAgICB0aXRsZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgc3VidGl0bGUgVkFSQ0hBUigyNTUpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uIFRFWFQsXG4gICAgICAgICAgYmFja2dyb3VuZF9pbWFnZSBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgY3RhX3RleHQgVkFSQ0hBUigxMDApLFxuICAgICAgICAgIGN0YV9saW5rIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBpc19hY3RpdmUgQk9PTEVBTiBERUZBVUxUIFRSVUUsXG4gICAgICAgICAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgICAgKTtcblxuICAgICAgICAtLSBBcnRpY2xlcyB0YWJsZVxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBhcnRpY2xlcyAoXG4gICAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIHRpdGxlIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICBzbHVnIFZBUkNIQVIoMjU1KSBVTklRVUUgTk9UIE5VTEwsXG4gICAgICAgICAgY29udGVudCBMT05HVEVYVCxcbiAgICAgICAgICBleGNlcnB0IFRFWFQsXG4gICAgICAgICAgZmVhdHVyZWRfaW1hZ2UgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIGF1dGhvciBWQVJDSEFSKDI1NSksXG4gICAgICAgICAgc3RhdHVzIEVOVU0oJ2RyYWZ0JywgJ3B1Ymxpc2hlZCcsICdhcmNoaXZlZCcpIERFRkFVTFQgJ2RyYWZ0JyxcbiAgICAgICAgICBwdWJsaXNoZWRfYXQgVElNRVNUQU1QIE5VTEwsXG4gICAgICAgICAgdGFncyBKU09OLFxuICAgICAgICAgIGNhdGVnb3J5IFZBUkNIQVIoMTAwKSxcbiAgICAgICAgICByZWFkX3RpbWUgSU5UIERFRkFVTFQgNSxcbiAgICAgICAgICBtZXRhX2Rlc2NyaXB0aW9uIFRFWFQsXG4gICAgICAgICAgZmVhdHVyZWQgQk9PTEVBTiBERUZBVUxUIEZBTFNFLFxuICAgICAgICAgIHZpZXdzX2NvdW50IElOVCBERUZBVUxUIDAsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgICApO1xuXG4gICAgICAgIC0tIE1lZGlhIGZpbGVzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIG1lZGlhX2ZpbGVzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgZmlsZW5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIG9yaWdpbmFsX25hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIGZpbGVfcGF0aCBWQVJDSEFSKDUwMCkgTk9UIE5VTEwsXG4gICAgICAgICAgZmlsZV9zaXplIEJJR0lOVCBOT1QgTlVMTCxcbiAgICAgICAgICBtaW1lX3R5cGUgVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxuICAgICAgICAgIGFsdF90ZXh0IFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICB1cGxvYWRlZF9ieSBJTlQsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICBGT1JFSUdOIEtFWSAodXBsb2FkZWRfYnkpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBTRVQgTlVMTFxuICAgICAgICApO1xuXG4gICAgICAgIC0tIFN5c3RlbSBsb2dzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHN5c3RlbV9sb2dzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgdGltZXN0YW1wIFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIGxldmVsIEVOVU0oJ2luZm8nLCAnd2FybmluZycsICdlcnJvcicsICdzdWNjZXNzJykgTk9UIE5VTEwsXG4gICAgICAgICAgY2F0ZWdvcnkgVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxuICAgICAgICAgIG1lc3NhZ2UgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICB1c2VyX2lkIElOVCxcbiAgICAgICAgICBpcF9hZGRyZXNzIFZBUkNIQVIoNDUpLFxuICAgICAgICAgIHVzZXJfYWdlbnQgVEVYVCxcbiAgICAgICAgICBkZXRhaWxzIEpTT04sXG4gICAgICAgICAgRk9SRUlHTiBLRVkgKHVzZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBTRVQgTlVMTFxuICAgICAgICApO1xuXG4gICAgICAgIC0tIENoYXQgbWVzc2FnZXMgdGFibGVcbiAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgY2hhdF9tZXNzYWdlcyAoXG4gICAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIHNlc3Npb25faWQgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICAgIG1lc3NhZ2UgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICByZXNwb25zZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICAgIHRpbWVzdGFtcCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICByZXNwb25zZV90aW1lIElOVCBOT1QgTlVMTCxcbiAgICAgICAgICB1c2VyX2lwIFZBUkNIQVIoNDUpXG4gICAgICAgICk7XG5cbiAgICAgICAgLS0gUHJlc2VudGF0aW9uIHNsaWRlcyB0YWJsZVxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcmVzZW50YXRpb25fc2xpZGVzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgcHJvamVjdF9pZCBJTlQgTk9UIE5VTEwsXG4gICAgICAgICAgc2xpZGVfbnVtYmVyIElOVCBOT1QgTlVMTCxcbiAgICAgICAgICB0aXRsZSBWQVJDSEFSKDI1NSksXG4gICAgICAgICAgY29udGVudCBURVhULFxuICAgICAgICAgIGltYWdlX3VybCBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgYW5pbWF0aW9uX3R5cGUgVkFSQ0hBUigxMDApLFxuICAgICAgICAgIGR1cmF0aW9uIElOVCBERUZBVUxUIDUwMDAsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICBGT1JFSUdOIEtFWSAocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0cyhpZCkgT04gREVMRVRFIENBU0NBREVcbiAgICAgICAgKTtcblxuICAgICAgICAtLSBTaXRlIHNldHRpbmdzIHRhYmxlXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHNpdGVfc2V0dGluZ3MgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBzaXRlX3RpdGxlIFZBUkNIQVIoMjU1KSBERUZBVUxUICdQcmVtaXVtIENob2ljZScsXG4gICAgICAgICAgc2l0ZV9kZXNjcmlwdGlvbiBURVhUIERFRkFVTFQgJ1lvdXIgdHJ1c3RlZCBwYXJ0bmVyIGluIER1YmFpIHJlYWwgZXN0YXRlJyxcbiAgICAgICAgICBzaXRlX2xvZ28gVkFSQ0hBUig1MDApIERFRkFVTFQgJy9sb2dvLnBuZycsXG4gICAgICAgICAgc2l0ZV9mYXZpY29uIFZBUkNIQVIoNTAwKSBERUZBVUxUICcvZmF2aWNvbi5pY28nLFxuICAgICAgICAgIGNvbnRhY3RfZW1haWwgVkFSQ0hBUigyNTUpIERFRkFVTFQgJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICBjb250YWN0X3Bob25lIFZBUkNIQVIoNTApIERFRkFVTFQgTlVMTCxcbiAgICBjb250YWN0X2FkZHJlc3MgVEVYVCBERUZBVUxUICdEdWJhaSwgVUFFJyxcbiAgICBjb250YWN0X3doYXRzYXBwIFZBUkNIQVIoNTApIERFRkFVTFQgTlVMTCxcbiAgICAgICAgICBzb2NpYWxfZmFjZWJvb2sgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNvY2lhbF9pbnN0YWdyYW0gVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNvY2lhbF90d2l0dGVyIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBzb2NpYWxfbGlua2VkaW4gVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNvY2lhbF95b3V0dWJlIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBzb2NpYWxfdGlrdG9rIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBzb2NpYWxfc25hcGNoYXQgVkFSQ0hBUig1MDApLFxuICAgICAgICAgIHNvY2lhbF90ZWxlZ3JhbSBWQVJDSEFSKDUwMCksXG4gICAgICAgICAgc29jaWFsX3doYXRzYXBwIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgICBzZW9fbWV0YV90aXRsZSBWQVJDSEFSKDI1NSkgREVGQVVMVCAnUHJlbWl1bSBDaG9pY2UgLSBEdWJhaSBSZWFsIEVzdGF0ZScsXG4gICAgICAgICAgc2VvX21ldGFfZGVzY3JpcHRpb24gVEVYVCBERUZBVUxUICdEaXNjb3ZlciBwcmVtaXVtIHJlYWwgZXN0YXRlIG9wcG9ydHVuaXRpZXMgaW4gRHViYWkgd2l0aCBQcmVtaXVtIENob2ljZS4gWW91ciB0cnVzdGVkIHBhcnRuZXIgZm9yIGx1eHVyeSBwcm9wZXJ0aWVzIGFuZCBpbnZlc3RtZW50IHNvbHV0aW9ucy4nLFxuICAgICAgICAgIHNlb19rZXl3b3JkcyBURVhUIERFRkFVTFQgJ0R1YmFpIHJlYWwgZXN0YXRlLCBsdXh1cnkgcHJvcGVydGllcywgaW52ZXN0bWVudCwgUHJlbWl1bSBDaG9pY2UnLFxuICAgICAgICAgIGZlYXR1cmVzX2VuYWJsZV9ibG9nIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxuICAgICAgICAgIGZlYXR1cmVzX2VuYWJsZV9uZXdzbGV0dGVyIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxuICAgICAgICAgIGZlYXR1cmVzX2VuYWJsZV93aGF0c2FwcCBCT09MRUFOIERFRkFVTFQgVFJVRSxcbiAgICAgICAgICBmZWF0dXJlc19lbmFibGVfbGl2ZV9jaGF0IEJPT0xFQU4gREVGQVVMVCBGQUxTRSxcbiAgICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICAgICk7XG5cbiAgICAgICAgLS0gUHJvamVjdCBtZWRpYSB0YWJsZSBmb3IgZW5oYW5jZWQgbWVkaWEgbWFuYWdlbWVudFxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9qZWN0X21lZGlhIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgcHJvamVjdF9pZCBJTlQgTk9UIE5VTEwsXG4gICAgICAgICAgZmlsZV9uYW1lIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgICBmaWxlX3BhdGggVkFSQ0hBUig1MDApIE5PVCBOVUxMLFxuICAgICAgICAgIGZpbGVfc2l6ZSBCSUdJTlQgTk9UIE5VTEwsXG4gICAgICAgICAgbWVkaWFfdHlwZSBFTlVNKCdpbWFnZScsICd2aWRlbycsICdhbmltYXRpb24nLCAncGRmJywgJ3BwdHgnKSBOT1QgTlVMTCxcbiAgICAgICAgICBmaWxlX2V4dGVuc2lvbiBWQVJDSEFSKDEwKSBOT1QgTlVMTCxcbiAgICAgICAgICB1cGxvYWRfZGF0ZSBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICBGT1JFSUdOIEtFWSAocHJvamVjdF9pZCkgUkVGRVJFTkNFUyBwcm9qZWN0cyhpZCkgT04gREVMRVRFIENBU0NBREVcbiAgICAgICAgKTtcblxuICAgICAgICAtLSBIZXJvIGltYWdlcyB0YWJsZSBmb3IgbGFuZGluZyBwYWdlIGNhcm91c2VsXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGhlcm9faW1hZ2VzIChcbiAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXG4gICAgICAgICAgdXJsIFZBUkNIQVIoNTAwKSBOT1QgTlVMTCxcbiAgICAgICAgICB0aXRsZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgICAgICBhbHRfdGV4dCBWQVJDSEFSKDI1NSksXG4gICAgICAgICAgaXNfYWN0aXZlIEJPT0xFQU4gREVGQVVMVCBUUlVFLFxuICAgICAgICAgIG9yZGVyX2luZGV4IElOVCBERUZBVUxUIDAsXG4gICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICBJTkRFWCBpZHhfYWN0aXZlX29yZGVyIChpc19hY3RpdmUsIG9yZGVyX2luZGV4KVxuICAgICAgICApO1xuXG4gICAgICAgIC0tIEFJIEFQSSBzZXR0aW5ncyB0YWJsZSBmb3IgQUkgaW50ZWdyYXRpb24gY29udHJvbFxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBhaV9hcGlfc2V0dGluZ3MgKFxuICAgICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBvcGVuYWlfYXBpX2tleSBWQVJDSEFSKDI1NSksXG4gICAgICAgICAgb3BlbmFpX21vZGVsIFZBUkNIQVIoMTAwKSBERUZBVUxUICdncHQtMy41LXR1cmJvJyxcbiAgICAgICAgICBvcGVuYWlfbWF4X3Rva2VucyBJTlQgREVGQVVMVCAxMDAwLFxuICAgICAgICAgIG9wZW5haV90ZW1wZXJhdHVyZSBERUNJTUFMKDMsMikgREVGQVVMVCAwLjcwLFxuICAgICAgICAgIGdvb2dsZV9hcGlfa2V5IFZBUkNIQVIoMjU1KSxcbiAgICAgICAgICBnb29nbGVfbW9kZWwgVkFSQ0hBUigxMDApIERFRkFVTFQgJ2dlbWluaS1wcm8nLFxuICAgICAgICAgIGdvb2dsZV9tYXhfdG9rZW5zIElOVCBERUZBVUxUIDEwMDAsXG4gICAgICAgICAgZ29vZ2xlX3RlbXBlcmF0dXJlIERFQ0lNQUwoMywyKSBERUZBVUxUIDAuNzAsXG4gICAgICAgICAgYW50aHJvcGljX2FwaV9rZXkgVkFSQ0hBUigyNTUpLFxuICAgICAgICAgIGFudGhyb3BpY19tb2RlbCBWQVJDSEFSKDEwMCkgREVGQVVMVCAnY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5JyxcbiAgICAgICAgICBhbnRocm9waWNfbWF4X3Rva2VucyBJTlQgREVGQVVMVCAxMDAwLFxuICAgICAgICAgIGFudGhyb3BpY190ZW1wZXJhdHVyZSBERUNJTUFMKDMsMikgREVGQVVMVCAwLjcwLFxuICAgICAgICAgIGRlZmF1bHRfcHJvdmlkZXIgRU5VTSgnb3BlbmFpJywgJ2dvb2dsZScsICdhbnRocm9waWMnKSBERUZBVUxUICdvcGVuYWknLFxuICAgICAgICAgIGFpX2VuYWJsZWQgQk9PTEVBTiBERUZBVUxUIFRSVUUsXG4gICAgICAgICAgcmF0ZV9saW1pdF9wZXJfbWludXRlIElOVCBERUZBVUxUIDEwLFxuICAgICAgICAgIHJhdGVfbGltaXRfcGVyX2hvdXIgSU5UIERFRkFVTFQgMTAwLFxuICAgICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICAgICAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgICAgKTtcbiAgICAgIGA7XG5cbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShjcmVhdGVUYWJsZXNTUUwpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIHRhYmxlcyBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGluaXRpYWxpemUgdGFibGVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBJbnNlcnQgZGVmYXVsdCBhZG1pbiB1c2VyXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVEZWZhdWx0QWRtaW4oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgYWRtaW4gdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgY29uc3QgW2V4aXN0aW5nVXNlcnNdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUIGlkIEZST00gdXNlcnMgV0hFUkUgcm9sZSA9IFwiYWRtaW5cIidcbiAgICAgICk7XG5cbiAgICAgIGlmICgoZXhpc3RpbmdVc2VycyBhcyBhbnlbXSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGFkbWluIHVzZXIgd2l0aCB5b3VyIGNyZWRlbnRpYWxzXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICBgSU5TRVJUIElOVE8gdXNlcnMgKGVtYWlsLCBwYXNzd29yZF9oYXNoLCByb2xlLCBuYW1lLCBpc19hY3RpdmUpIFxuICAgICAgICAgICBWQUxVRVMgKD8sID8sICdhZG1pbicsICdBZG1pbicsIFRSVUUpYCxcbiAgICAgICAgICBbJ2FkbWluQGV4YW1wbGUuY29tJywgJ0FiZWR5cjU3Li4nXSAvLyBJbiBwcm9kdWN0aW9uLCBoYXNoIHRoaXMgcGFzc3dvcmQgYW5kIGNoYW5nZSBlbWFpbFxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIERlZmF1bHQgYWRtaW4gdXNlciBjcmVhdGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn4oS577iPIEFkbWluIHVzZXIgYWxyZWFkeSBleGlzdHMnKTtcbiAgICAgIH1cblxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBjcmVhdGUgYWRtaW4gdXNlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIGFydGljbGVzIHRhYmxlIHdpdGggbWlzc2luZyBjb2x1bW5zXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVBcnRpY2xlc1RhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGNvbHVtbnMgZXhpc3QgYW5kIGFkZCB0aGVtIGlmIHRoZXkgZG9uJ3RcbiAgICAgIGNvbnN0IGNvbHVtbnNUb0FkZCA9IFtcbiAgICAgICAgeyBuYW1lOiAndGFncycsIGRlZmluaXRpb246ICdKU09OJyB9LFxuICAgICAgICB7IG5hbWU6ICdjYXRlZ29yeScsIGRlZmluaXRpb246ICdWQVJDSEFSKDEwMCknIH0sXG4gICAgICAgIHsgbmFtZTogJ3JlYWRfdGltZScsIGRlZmluaXRpb246ICdJTlQgREVGQVVMVCA1JyB9LFxuICAgICAgICB7IG5hbWU6ICdtZXRhX2Rlc2NyaXB0aW9uJywgZGVmaW5pdGlvbjogJ1RFWFQnIH0sXG4gICAgICAgIHsgbmFtZTogJ2ZlYXR1cmVkJywgZGVmaW5pdGlvbjogJ0JPT0xFQU4gREVGQVVMVCBGQUxTRScgfSxcbiAgICAgICAgeyBuYW1lOiAndmlld3NfY291bnQnLCBkZWZpbml0aW9uOiAnSU5UIERFRkFVTFQgMCcgfVxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBjb2x1bW4gb2YgY29sdW1uc1RvQWRkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgY29sdW1uIGV4aXN0c1xuICAgICAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICAgIGBTRUxFQ1QgQ09MVU1OX05BTUUgRlJPTSBJTkZPUk1BVElPTl9TQ0hFTUEuQ09MVU1OUyBcbiAgICAgICAgICAgICBXSEVSRSBUQUJMRV9TQ0hFTUEgPSBEQVRBQkFTRSgpIEFORCBUQUJMRV9OQU1FID0gJ2FydGljbGVzJyBBTkQgQ09MVU1OX05BTUUgPSA/YCxcbiAgICAgICAgICAgIFtjb2x1bW4ubmFtZV1cbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICgocm93cyBhcyBhbnlbXSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBDb2x1bW4gZG9lc24ndCBleGlzdCwgYWRkIGl0XG4gICAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoYEFMVEVSIFRBQkxFIGFydGljbGVzIEFERCBDT0xVTU4gJHtjb2x1bW4ubmFtZX0gJHtjb2x1bW4uZGVmaW5pdGlvbn1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgQWRkZWQgY29sdW1uICcke2NvbHVtbi5uYW1lfScgdG8gYXJ0aWNsZXMgdGFibGVgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYOKEue+4jyBDb2x1bW4gJyR7Y29sdW1uLm5hbWV9JyBhbHJlYWR5IGV4aXN0cyBpbiBhcnRpY2xlcyB0YWJsZWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRmFpbGVkIHRvIGFkZCBjb2x1bW4gJyR7Y29sdW1uLm5hbWV9JzpgLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byB1cGRhdGUgYXJ0aWNsZXMgdGFibGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2plY3RzIENSVUQgb3BlcmF0aW9uc1xuICBzdGF0aWMgYXN5bmMgZ2V0UHJvamVjdHMoKTogUHJvbWlzZTxQcm9qZWN0W10+IHtcbiAgICBsZXQgY29ubmVjdGlvbjtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CflJcgQXR0ZW1wdGluZyB0byBnZXQgZGF0YWJhc2UgY29ubmVjdGlvbi4uLicpO1xuICAgICAgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBjb25uZWN0aW9uIGFjcXVpcmVkJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwcm9qZWN0cyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MnKTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFJldHJpZXZlZCAkeyhyb3dzIGFzIGFueVtdKS5sZW5ndGh9IHByb2plY3RzIGZyb20gZGF0YWJhc2VgKTtcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgSlNPTiBmaWVsZHMgZm9yIGVhY2ggcHJvamVjdFxuICAgICAgY29uc3QgcGFyc2VKc29uRmllbGQgPSAoZmllbGQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIWZpZWxkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZmllbGQpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnNwbGl0KCcsJykubWFwKChpdGVtOiBzdHJpbmcpID0+IGl0ZW0udHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWVsZDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHByb2plY3RzID0gKHJvd3MgYXMgUHJvamVjdFtdKS5tYXAocHJvamVjdCA9PiAoe1xuICAgICAgICAuLi5wcm9qZWN0LFxuICAgICAgICBnYWxsZXJ5OiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmdhbGxlcnkpLFxuICAgICAgICBmZWF0dXJlczogcGFyc2VKc29uRmllbGQocHJvamVjdC5mZWF0dXJlcyksXG4gICAgICAgIGFtZW5pdGllczogcGFyc2VKc29uRmllbGQocHJvamVjdC5hbWVuaXRpZXMpLFxuICAgICAgICBwcm9wZXJ0eV90eXBlczogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5wcm9wZXJ0eV90eXBlcyksXG4gICAgICAgIHN1Yl9wcm9qZWN0czogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5zdWJfcHJvamVjdHMpLFxuICAgICAgICBtZWRpYV9maWxlczogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5tZWRpYV9maWxlcyksXG4gICAgICAgIHVuaXRzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LnVuaXRzKSxcbiAgICAgICAgcHJvcGVydHlfdHlwZTogcGFyc2VKc29uRmllbGQocHJvamVjdC5wcm9wZXJ0eV90eXBlKVxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFByb2plY3RzIHBhcnNlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIHJldHVybiBwcm9qZWN0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIHByb2plY3RzOicsIGVycm9yKTtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ21heF91c2VyX2Nvbm5lY3Rpb25zJykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign8J+aqyBEYXRhYmFzZSBjb25uZWN0aW9uIGxpbWl0IGV4Y2VlZGVkLiBDb25zaWRlciByZWR1Y2luZyBjb25jdXJyZW50IGNvbm5lY3Rpb25zLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5STIERhdGFiYXNlIGNvbm5lY3Rpb24gcmVsZWFzZWQnKTtcbiAgICAgICAgfSBjYXRjaCAocmVsZWFzZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPIEVycm9yIHJlbGVhc2luZyBjb25uZWN0aW9uOicsIHJlbGVhc2VFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0UHJvamVjdHNCeURldmVsb3BlcihkZXZlbG9wZXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPFByb2plY3RbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcHJvamVjdHMgV0hFUkUgZGV2ZWxvcGVyID0gPyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MnLCBbZGV2ZWxvcGVyTmFtZV0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIC8vIFBhcnNlIEpTT04gZmllbGRzIGZvciBlYWNoIHByb2plY3RcbiAgICAgIGNvbnN0IHBhcnNlSnNvbkZpZWxkID0gKGZpZWxkOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKCFmaWVsZCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGZpZWxkKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC5zcGxpdCgnLCcpLm1hcCgoaXRlbTogc3RyaW5nKSA9PiBpdGVtLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gKHJvd3MgYXMgUHJvamVjdFtdKS5tYXAocHJvamVjdCA9PiAoe1xuICAgICAgICAuLi5wcm9qZWN0LFxuICAgICAgICBnYWxsZXJ5OiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmdhbGxlcnkpLFxuICAgICAgICBmZWF0dXJlczogcGFyc2VKc29uRmllbGQocHJvamVjdC5mZWF0dXJlcyksXG4gICAgICAgIGFtZW5pdGllczogcGFyc2VKc29uRmllbGQocHJvamVjdC5hbWVuaXRpZXMpLFxuICAgICAgICBwcm9wZXJ0eV90eXBlczogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5wcm9wZXJ0eV90eXBlcyksXG4gICAgICAgIHN1Yl9wcm9qZWN0czogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5zdWJfcHJvamVjdHMpLFxuICAgICAgICBtZWRpYV9maWxlczogcGFyc2VKc29uRmllbGQoKHByb2plY3QgYXMgYW55KS5tZWRpYV9maWxlcyksXG4gICAgICAgIHVuaXRzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LnVuaXRzKSxcbiAgICAgICAgcHJvcGVydHlfdHlwZTogcGFyc2VKc29uRmllbGQocHJvamVjdC5wcm9wZXJ0eV90eXBlKVxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0cyBieSBkZXZlbG9wZXI6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRQcm9qZWN0QnlTbHVnKHNsdWc6IHN0cmluZyk6IFByb21pc2U8UHJvamVjdCB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBHZXQgcHJvamVjdCBkYXRhXG4gICAgICBjb25zdCBbcHJvamVjdFJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHByb2plY3RzIFdIRVJFIHNsdWcgPSA/JywgW3NsdWddKTtcbiAgICAgIGNvbnN0IHByb2plY3RzID0gcHJvamVjdFJvd3MgYXMgUHJvamVjdFtdO1xuICAgICAgXG4gICAgICBpZiAocHJvamVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzWzBdO1xuICAgICAgXG4gICAgICAvLyBHZXQgcHJlc2VudGF0aW9uIHNsaWRlcyBmb3IgdGhpcyBwcm9qZWN0XG4gICAgICBjb25zdCBbc2xpZGVSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCAqIEZST00gcHJlc2VudGF0aW9uX3NsaWRlcyBXSEVSRSBwcm9qZWN0X2lkID0gPyBPUkRFUiBCWSBzbGlkZV9udW1iZXIgQVNDJyxcbiAgICAgICAgW3Byb2plY3QuaWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgSlNPTiBmaWVsZHMgYW5kIGFkZCBwcmVzZW50YXRpb24gc2xpZGVzXG4gICAgICBjb25zdCBwYXJzZUpzb25GaWVsZCA9IChmaWVsZDogYW55KSA9PiB7XG4gICAgICAgIGlmICghZmllbGQpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShmaWVsZCk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQuc3BsaXQoJywnKS5tYXAoKGl0ZW06IHN0cmluZykgPT4gaXRlbS50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgfTtcblxuICAgICAgLy8gUGFyc2UgY29sb3IgcGFsZXR0ZSBzYWZlbHlcbiAgICAgIGNvbnN0IHBhcnNlQ29sb3JQYWxldHRlID0gKGNvbG9yUGFsZXR0ZTogYW55KSA9PiB7XG4gICAgICAgIGlmICghY29sb3JQYWxldHRlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvclBhbGV0dGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNvbG9yUGFsZXR0ZSk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yUGFsZXR0ZTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByb2plY3QsXG4gICAgICAgIGdhbGxlcnk6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QuZ2FsbGVyeSksXG4gICAgICAgIGZlYXR1cmVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmZlYXR1cmVzKSxcbiAgICAgICAgYW1lbml0aWVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmFtZW5pdGllcyksXG4gICAgICAgIHByb3BlcnR5X3R5cGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnByb3BlcnR5X3R5cGVzKSxcbiAgICAgICAgc3ViX3Byb2plY3RzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnN1Yl9wcm9qZWN0cyksXG4gICAgICAgIG1lZGlhX2ZpbGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLm1lZGlhX2ZpbGVzKSxcbiAgICAgICAgcHJlc2VudGF0aW9uX3NsaWRlczogc2xpZGVSb3dzIGFzIFByZXNlbnRhdGlvblNsaWRlW11cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3QgYnkgc2x1ZzonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlUHJvamVjdChwcm9qZWN0OiBPbWl0PFByb2plY3QsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+KTogUHJvbWlzZTxQcm9qZWN0IHwgbnVsbD4ge1xuICAgIGxldCBjb25uZWN0aW9uO1xuICAgIHRyeSB7XG4gICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgIGlmICghcHJvamVjdC5uYW1lIHx8IHByb2plY3QubmFtZS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvamVjdCBuYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXByb2plY3QuZGVzY3JpcHRpb24gfHwgcHJvamVjdC5kZXNjcmlwdGlvbi50cmltKCkgPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvamVjdCBkZXNjcmlwdGlvbiBpcyByZXF1aXJlZCcpO1xuICAgICAgfVxuXG4gICAgICBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IHVuZGVmaW5lZCB0byBudWxsXG4gICAgICBjb25zdCB0b051bGxJZlVuZGVmaW5lZCA9ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlO1xuICAgICAgXG4gICAgICAvLyBFbnN1cmUgc2x1ZyBpcyB1bmlxdWUgYnkgYWRkaW5nIHRpbWVzdGFtcCBpZiBuZWVkZWRcbiAgICAgIGxldCBmaW5hbFNsdWcgPSBwcm9qZWN0LnNsdWcgfHwgJyc7XG4gICAgICBcbiAgICAgIC8vIEFsd2F5cyBjaGVjayBpZiBzbHVnIGFscmVhZHkgZXhpc3RzIGFuZCBtYWtlIGl0IHVuaXF1ZVxuICAgICAgY29uc3QgW2V4aXN0aW5nUm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBpZCBGUk9NIHByb2plY3RzIFdIRVJFIHNsdWcgPSA/JywgW2ZpbmFsU2x1Z10pO1xuICAgICAgaWYgKChleGlzdGluZ1Jvd3MgYXMgYW55W10pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZmluYWxTbHVnID0gYCR7ZmluYWxTbHVnfS0ke0RhdGUubm93KCl9YDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBJTlNFUlQgSU5UTyBwcm9qZWN0cyAobmFtZSwgc2x1ZywgZGV2ZWxvcGVyLCBkZXZlbG9wZXJfaWQsIGxvY2F0aW9uLCBwcmljZSwgc3RhdHVzLCBiZWRyb29tcywgYmF0aHJvb21zLCBhcmVhLCBcbiAgICAgICAgIGRlc2NyaXB0aW9uLCBpbWFnZSwgZ2FsbGVyeSwgY29vcmRpbmF0ZXNfbGF0LCBjb29yZGluYXRlc19sbmcsIGZlYXR1cmVzLCBhbWVuaXRpZXMsXG4gICAgICAgICBwcmVzZW50YXRpb25fZmlsZSwgcHJlc2VudGF0aW9uX3VybCwgcHJlc2VudGF0aW9uX3NsaWRlcywgcHJlc2VudGF0aW9uX2FuaW1hdGlvbnMsIHByZXNlbnRhdGlvbl9lZmZlY3RzLCBcbiAgICAgICAgIGZlYXR1cmVkX3ZpZGVvLCBzdHVkaW9zLCBtZWRpYV9maWxlcylcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPylgLFxuICAgICAgICBbXG4gICAgICAgICAgcHJvamVjdC5uYW1lIHx8ICcnLCBcbiAgICAgICAgICBmaW5hbFNsdWcsIFxuICAgICAgICAgIHByb2plY3QuZGV2ZWxvcGVyIHx8ICcnLCBcbiAgICAgICAgICAocHJvamVjdCBhcyBhbnkpLmRldmVsb3Blcl9pZCB8fCBudWxsLFxuICAgICAgICAgIHByb2plY3QubG9jYXRpb24gfHwgJycsIFxuICAgICAgICAgIHByb2plY3QucHJpY2UgfHwgJ1ByaWNlIG9uIFJlcXVlc3QnLFxuICAgICAgICAgIHByb2plY3Quc3RhdHVzIHx8ICdBdmFpbGFibGUnLCBcbiAgICAgICAgICBwcm9qZWN0LmJlZHJvb21zIHx8IDAsIFxuICAgICAgICAgIHByb2plY3QuYmF0aHJvb21zIHx8IDAsIFxuICAgICAgICAgIHByb2plY3QuYXJlYSB8fCAnJywgXG4gICAgICAgICAgcHJvamVjdC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBwcm9qZWN0LmltYWdlIHx8ICcnLCBcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0LmdhbGxlcnkgfHwgW10pLCBcbiAgICAgICAgICBwcm9qZWN0LmNvb3JkaW5hdGVzX2xhdCB8fCAwLCBcbiAgICAgICAgICBwcm9qZWN0LmNvb3JkaW5hdGVzX2xuZyB8fCAwLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QuZmVhdHVyZXMgfHwgW10pLCBcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0LmFtZW5pdGllcyB8fCBbXSksIFxuICAgICAgICAgIHRvTnVsbElmVW5kZWZpbmVkKHByb2plY3QucHJlc2VudGF0aW9uX2ZpbGUpLCBcbiAgICAgICAgICB0b051bGxJZlVuZGVmaW5lZChwcm9qZWN0LnByZXNlbnRhdGlvbl91cmwpLCBcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0LnByZXNlbnRhdGlvbl9zbGlkZXMgfHwge30pLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QucHJlc2VudGF0aW9uX2FuaW1hdGlvbnMgfHwge30pLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QucHJlc2VudGF0aW9uX2VmZmVjdHMgfHwge30pLFxuICAgICAgICAgIHRvTnVsbElmVW5kZWZpbmVkKHByb2plY3QuZmVhdHVyZWRfdmlkZW8pLFxuICAgICAgICAgIHByb2plY3Quc3R1ZGlvcyB8fCAwLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3QubWVkaWFfZmlsZXMgfHwgW10pXG4gICAgICAgIF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGluc2VydElkID0gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZGV2ZWxvcGVyIHByb2plY3QgY291bnQgYXV0b21hdGljYWxseVxuICAgICAgaWYgKChwcm9qZWN0IGFzIGFueSkuZGV2ZWxvcGVyX2lkKSB7XG4gICAgICAgIC8vIEdldCBkZXZlbG9wZXIgbmFtZSBieSBJRCBmb3IgdGhlIGNvdW50IHVwZGF0ZVxuICAgICAgICBjb25zdCBbZGV2Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBuYW1lIEZST00gZGV2ZWxvcGVycyBXSEVSRSBpZCA9ID8nLCBbKHByb2plY3QgYXMgYW55KS5kZXZlbG9wZXJfaWRdKTtcbiAgICAgICAgaWYgKChkZXZSb3dzIGFzIGFueVtdKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVEZXZlbG9wZXJQcm9qZWN0Q291bnQoKGRldlJvd3MgYXMgYW55W10pWzBdLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb2plY3QuZGV2ZWxvcGVyKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGV2ZWxvcGVyUHJvamVjdENvdW50KHByb2plY3QuZGV2ZWxvcGVyKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFByb2plY3RCeUlkKGluc2VydElkKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcHJvamVjdDonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBzcGVjaWZpYyBNeVNRTCBlcnJvcnNcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnRVJfRFVQX0VOVFJZJykge1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnbmFtZScpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHByb2plY3Qgd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSBjaG9vc2UgYSBkaWZmZXJlbnQgbmFtZS4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdzbHVnJykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgcHJvamVjdCB3aXRoIHRoaXMgVVJMIHNsdWcgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSBtb2RpZnkgdGhlIHByb2plY3QgbmFtZS4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgcHJvamVjdCB3aXRoIHRoZXNlIGRldGFpbHMgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSBjaGVjayBmb3IgZHVwbGljYXRlcy4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlcnJvci5jb2RlID09PSAnRVJfREFUQV9UT09fTE9ORycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb3IgbW9yZSBmaWVsZHMgY29udGFpbiB0b28gbXVjaCBkYXRhLiBQbGVhc2Ugc2hvcnRlbiB5b3VyIGlucHV0LicpO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5jb2RlID09PSAnRVJfQkFEX05VTExfRVJST1InKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgZmllbGQgaXMgbWlzc2luZy4gUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcy4nKTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncmVxdWlyZWQnKSkge1xuICAgICAgICAvLyBPdXIgY3VzdG9tIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBlcnJvciBvY2N1cnJlZCB3aGlsZSBjcmVhdGluZyB0aGUgcHJvamVjdC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0UHJvamVjdEJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8UHJvamVjdCB8IG51bGw+IHtcbiAgICBsZXQgY29ubmVjdGlvbjtcbiAgICB0cnkge1xuICAgICAgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHByb2plY3RzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29uc3QgcHJvamVjdHMgPSByb3dzIGFzIFByb2plY3RbXTtcbiAgICAgIFxuICAgICAgaWYgKHByb2plY3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzWzBdO1xuICAgICAgXG4gICAgICAvLyBQYXJzZSBKU09OIGZpZWxkc1xuICAgICAgY29uc3QgcGFyc2VKc29uRmllbGQgPSAoZmllbGQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIWZpZWxkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZmllbGQpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnNwbGl0KCcsJykubWFwKChpdGVtOiBzdHJpbmcpID0+IGl0ZW0udHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWVsZDtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByb2plY3QsXG4gICAgICAgIGdhbGxlcnk6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QuZ2FsbGVyeSksXG4gICAgICAgIGZlYXR1cmVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmZlYXR1cmVzKSxcbiAgICAgICAgYW1lbml0aWVzOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LmFtZW5pdGllcyksXG4gICAgICAgIHByb3BlcnR5X3R5cGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnByb3BlcnR5X3R5cGVzKSxcbiAgICAgICAgc3ViX3Byb2plY3RzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLnN1Yl9wcm9qZWN0cyksXG4gICAgICAgIG1lZGlhX2ZpbGVzOiBwYXJzZUpzb25GaWVsZCgocHJvamVjdCBhcyBhbnkpLm1lZGlhX2ZpbGVzKSxcbiAgICAgICAgdW5pdHM6IHBhcnNlSnNvbkZpZWxkKHByb2plY3QudW5pdHMpLFxuICAgICAgICBwcm9wZXJ0eV90eXBlOiBwYXJzZUpzb25GaWVsZChwcm9qZWN0LnByb3BlcnR5X3R5cGUpXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0IGJ5IElEOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yOyAvLyBSZS10aHJvdyB0byBsZXQgQVBJIGhhbmRsZSB0aGUgZXJyb3IgcHJvcGVybHlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVByb2plY3QoaWQ6IG51bWJlciwgdXBkYXRlRGF0YTogUGFydGlhbDxQcm9qZWN0Pik6IFByb21pc2U8UHJvamVjdCB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgcHJvamVjdCBkYXRhIHRvIGNoZWNrIGlmIGRldmVsb3BlciBpcyBjaGFuZ2luZ1xuICAgICAgY29uc3QgW2N1cnJlbnRSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIGRldmVsb3BlciBGUk9NIHByb2plY3RzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29uc3QgY3VycmVudFByb2plY3QgPSAoY3VycmVudFJvd3MgYXMgYW55W10pWzBdO1xuICAgICAgY29uc3Qgb2xkRGV2ZWxvcGVyID0gY3VycmVudFByb2plY3Q/LmRldmVsb3BlcjtcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgZHluYW1pYyB1cGRhdGUgcXVlcnlcbiAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHVwZGF0ZURhdGEpLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnaWQnKTtcbiAgICAgIGNvbnN0IHNldENsYXVzZSA9IGZpZWxkcy5tYXAoZmllbGQgPT4gYCR7ZmllbGR9ID0gP2ApLmpvaW4oJywgJyk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBmaWVsZHMubWFwKGZpZWxkID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSAodXBkYXRlRGF0YSBhcyBhbnkpW2ZpZWxkXTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBVUERBVEUgcHJvamVjdHMgU0VUICR7c2V0Q2xhdXNlfSwgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gP2AsXG4gICAgICAgIFsuLi52YWx1ZXMsIGlkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHByb2plY3QgY291bnRzIGlmIGRldmVsb3BlciBjaGFuZ2VkXG4gICAgICBjb25zdCBuZXdEZXZlbG9wZXIgPSB1cGRhdGVEYXRhLmRldmVsb3BlcjtcbiAgICAgIGlmIChuZXdEZXZlbG9wZXIgJiYgbmV3RGV2ZWxvcGVyICE9PSBvbGREZXZlbG9wZXIpIHtcbiAgICAgICAgLy8gVXBkYXRlIGNvdW50IGZvciBvbGQgZGV2ZWxvcGVyXG4gICAgICAgIGlmIChvbGREZXZlbG9wZXIpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZURldmVsb3BlclByb2plY3RDb3VudChvbGREZXZlbG9wZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBjb3VudCBmb3IgbmV3IGRldmVsb3BlclxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZURldmVsb3BlclByb2plY3RDb3VudChuZXdEZXZlbG9wZXIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFByb2plY3RCeUlkKGlkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHJvamVjdDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGVsZXRlUHJvamVjdChpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlIHByb2plY3QgZXhpc3RzIGFuZCBnZXQgZGV2ZWxvcGVyIG5hbWVcbiAgICAgIGNvbnN0IFtjaGVja1Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgaWQsIGRldmVsb3BlciBGUk9NIHByb2plY3RzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgaWYgKChjaGVja1Jvd3MgYXMgYW55W10pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgICAgY29uc29sZS5sb2coYFByb2plY3Qgd2l0aCBpZCAke2lkfSBub3QgZm91bmRgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBwcm9qZWN0RGF0YSA9IChjaGVja1Jvd3MgYXMgYW55W10pWzBdO1xuICAgICAgY29uc3QgZGV2ZWxvcGVyTmFtZSA9IHByb2plY3REYXRhLmRldmVsb3BlcjtcbiAgICAgIFxuICAgICAgLy8gRGVsZXRlIHRoZSBwcm9qZWN0IChDQVNDQURFIHdpbGwgaGFuZGxlIHJlbGF0ZWQgcmVjb3JkcylcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBwcm9qZWN0cyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGRldmVsb3BlciBwcm9qZWN0IGNvdW50IGF1dG9tYXRpY2FsbHlcbiAgICAgIGlmIChkZXZlbG9wZXJOYW1lKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGV2ZWxvcGVyUHJvamVjdENvdW50KGRldmVsb3Blck5hbWUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHJvd3Mgd2VyZSBhZmZlY3RlZFxuICAgICAgY29uc3QgYWZmZWN0ZWRSb3dzID0gKHJlc3VsdCBhcyBhbnkpLmFmZmVjdGVkUm93cztcbiAgICAgIGNvbnNvbGUubG9nKGBEZWxldGUgb3BlcmF0aW9uIGFmZmVjdGVkICR7YWZmZWN0ZWRSb3dzfSByb3dzIGZvciBwcm9qZWN0IGlkICR7aWR9YCk7XG4gICAgICBcbiAgICAgIHJldHVybiBhZmZlY3RlZFJvd3MgPiAwO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwcm9qZWN0OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBEZXZlbG9wZXJzIENSVUQgb3BlcmF0aW9uc1xuICBzdGF0aWMgYXN5bmMgZ2V0RGV2ZWxvcGVycygpOiBQcm9taXNlPERldmVsb3BlcltdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBkZXZlbG9wZXJzIE9SREVSIEJZIG5hbWUgQVNDJyk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiByb3dzIGFzIERldmVsb3BlcltdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkZXZlbG9wZXJzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlRGV2ZWxvcGVyKGRldmVsb3BlcjogT21pdDxEZXZlbG9wZXIsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+KTogUHJvbWlzZTxEZXZlbG9wZXIgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgSU5TRVJUIElOVE8gZGV2ZWxvcGVycyAobmFtZSwgc2x1ZywgZGVzY3JpcHRpb24sIGxvZ28sIGVzdGFibGlzaGVkLCBwcm9qZWN0c19jb3VudCwgXG4gICAgICAgICBsb2NhdGlvbiwgd2Vic2l0ZSwgcGhvbmUsIGVtYWlsLCBzdGF0dXMpIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPylgLFxuICAgICAgICBbXG4gICAgICAgICAgZGV2ZWxvcGVyLm5hbWUsIGRldmVsb3Blci5zbHVnLCBkZXZlbG9wZXIuZGVzY3JpcHRpb24sIGRldmVsb3Blci5sb2dvLFxuICAgICAgICAgIGRldmVsb3Blci5lc3RhYmxpc2hlZCwgZGV2ZWxvcGVyLnByb2plY3RzX2NvdW50LCBkZXZlbG9wZXIubG9jYXRpb24sXG4gICAgICAgICAgZGV2ZWxvcGVyLndlYnNpdGUsIGRldmVsb3Blci5waG9uZSwgZGV2ZWxvcGVyLmVtYWlsLCBkZXZlbG9wZXIuc3RhdHVzXG4gICAgICAgIF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGluc2VydElkID0gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldERldmVsb3BlckJ5SWQoaW5zZXJ0SWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBkZXZlbG9wZXI6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldERldmVsb3BlckJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8RGV2ZWxvcGVyIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gZGV2ZWxvcGVycyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgY29uc3QgZGV2ZWxvcGVycyA9IHJvd3MgYXMgRGV2ZWxvcGVyW107XG4gICAgICByZXR1cm4gZGV2ZWxvcGVycy5sZW5ndGggPiAwID8gZGV2ZWxvcGVyc1swXSA6IG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRldmVsb3BlciBieSBJRDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlRGV2ZWxvcGVyKGlkOiBudW1iZXIsIHVwZGF0ZURhdGE6IFBhcnRpYWw8RGV2ZWxvcGVyPik6IFByb21pc2U8RGV2ZWxvcGVyIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHVwZGF0ZURhdGEpLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnaWQnKTtcbiAgICAgIGNvbnN0IHNldENsYXVzZSA9IGZpZWxkcy5tYXAoZmllbGQgPT4gYCR7ZmllbGR9ID0gP2ApLmpvaW4oJywgJyk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBmaWVsZHMubWFwKGZpZWxkID0+ICh1cGRhdGVEYXRhIGFzIGFueSlbZmllbGRdKTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgVVBEQVRFIGRldmVsb3BlcnMgU0VUICR7c2V0Q2xhdXNlfSwgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gP2AsXG4gICAgICAgIFsuLi52YWx1ZXMsIGlkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXREZXZlbG9wZXJCeUlkKGlkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZGV2ZWxvcGVyOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVEZXZlbG9wZXIoaWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIGRldmVsb3BlcnMgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBkZXZlbG9wZXI6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVEZXZlbG9wZXJQcm9qZWN0Q291bnQoZGV2ZWxvcGVyTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gQ291bnQgcHJvamVjdHMgZm9yIHRoaXMgZGV2ZWxvcGVyXG4gICAgICBjb25zdCBbY291bnRSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCBDT1VOVCgqKSBhcyBwcm9qZWN0X2NvdW50IEZST00gcHJvamVjdHMgV0hFUkUgZGV2ZWxvcGVyID0gPycsXG4gICAgICAgIFtkZXZlbG9wZXJOYW1lXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgcHJvamVjdENvdW50ID0gKGNvdW50Um93cyBhcyBhbnlbXSlbMF0ucHJvamVjdF9jb3VudDtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHRoZSBkZXZlbG9wZXIncyBwcm9qZWN0IGNvdW50XG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICdVUERBVEUgZGV2ZWxvcGVycyBTRVQgcHJvamVjdHNfY291bnQgPSA/LCB1cGRhdGVkX2F0ID0gTk9XKCkgV0hFUkUgbmFtZSA9ID8nLFxuICAgICAgICBbcHJvamVjdENvdW50LCBkZXZlbG9wZXJOYW1lXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCBwcm9qZWN0IGNvdW50IGZvciBkZXZlbG9wZXIgJHtkZXZlbG9wZXJOYW1lfTogJHtwcm9qZWN0Q291bnR9IHByb2plY3RzYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGRldmVsb3BlciBwcm9qZWN0IGNvdW50OicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvLyBFbmhhbmNlZCBwcm9qZWN0LWRldmVsb3BlciByZWxhdGlvbnNoaXAgbWV0aG9kc1xuICBzdGF0aWMgYXN5bmMgZ2V0UHJvamVjdHNCeURldmVsb3BlcklkKGRldmVsb3BlcklkOiBudW1iZXIpOiBQcm9taXNlPFByb2plY3RbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBTRUxFQ1QgcC4qLCBkLm5hbWUgYXMgZGV2ZWxvcGVyX25hbWUsIGQuc2x1ZyBhcyBkZXZlbG9wZXJfc2x1ZyBcbiAgICAgICAgIEZST00gcHJvamVjdHMgcCBcbiAgICAgICAgIExFRlQgSk9JTiBkZXZlbG9wZXJzIGQgT04gcC5kZXZlbG9wZXJfaWQgPSBkLmlkIFxuICAgICAgICAgV0hFUkUgcC5kZXZlbG9wZXJfaWQgPSA/IFxuICAgICAgICAgT1JERVIgQlkgcC5jcmVhdGVkX2F0IERFU0NgLFxuICAgICAgICBbZGV2ZWxvcGVySWRdXG4gICAgICApO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gcm93cyBhcyBQcm9qZWN0W107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3RzIGJ5IGRldmVsb3BlciBJRDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldERldmVsb3BlcldpdGhQcm9qZWN0cyhkZXZlbG9wZXJJZDogbnVtYmVyKTogUHJvbWlzZTxEZXZlbG9wZXIgJiB7IHByb2plY3RzOiBQcm9qZWN0W10gfSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBHZXQgZGV2ZWxvcGVyIGRldGFpbHNcbiAgICAgIGNvbnN0IFtkZXZlbG9wZXJSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCAqIEZST00gZGV2ZWxvcGVycyBXSEVSRSBpZCA9ID8nLFxuICAgICAgICBbZGV2ZWxvcGVySWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoKGRldmVsb3BlclJvd3MgYXMgYW55W10pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRldmVsb3BlciA9IChkZXZlbG9wZXJSb3dzIGFzIGFueVtdKVswXSBhcyBEZXZlbG9wZXI7XG4gICAgICBcbiAgICAgIC8vIEdldCBhc3NvY2lhdGVkIHByb2plY3RzXG4gICAgICBjb25zdCBbcHJvamVjdFJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUICogRlJPTSBwcm9qZWN0cyBXSEVSRSBkZXZlbG9wZXJfaWQgPSA/IE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQycsXG4gICAgICAgIFtkZXZlbG9wZXJJZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kZXZlbG9wZXIsXG4gICAgICAgIHByb2plY3RzOiBwcm9qZWN0Um93cyBhcyBQcm9qZWN0W11cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRldmVsb3BlciB3aXRoIHByb2plY3RzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhc3NpZ25Qcm9qZWN0VG9EZXZlbG9wZXIocHJvamVjdElkOiBudW1iZXIsIGRldmVsb3BlcklkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgcHJvamVjdCB3aXRoIGRldmVsb3Blcl9pZFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnVVBEQVRFIHByb2plY3RzIFNFVCBkZXZlbG9wZXJfaWQgPSA/LCB1cGRhdGVkX2F0ID0gTk9XKCkgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgW2RldmVsb3BlcklkLCBwcm9qZWN0SWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZGV2ZWxvcGVyJ3MgcHJvamVjdCBjb3VudFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnVVBEQVRFIGRldmVsb3BlcnMgU0VUIHByb2plY3RzX2NvdW50ID0gcHJvamVjdHNfY291bnQgKyAxLCB1cGRhdGVkX2F0ID0gTk9XKCkgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgW2RldmVsb3BlcklkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXNzaWduaW5nIHByb2plY3QgdG8gZGV2ZWxvcGVyOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdW5hc3NpZ25Qcm9qZWN0RnJvbURldmVsb3Blcihwcm9qZWN0SWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjdXJyZW50IGRldmVsb3Blcl9pZCBiZWZvcmUgcmVtb3ZpbmdcbiAgICAgIGNvbnN0IFtwcm9qZWN0Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICdTRUxFQ1QgZGV2ZWxvcGVyX2lkIEZST00gcHJvamVjdHMgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgW3Byb2plY3RJZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmICgocHJvamVjdFJvd3MgYXMgYW55W10pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY3VycmVudERldmVsb3BlcklkID0gKHByb2plY3RSb3dzIGFzIGFueVtdKVswXS5kZXZlbG9wZXJfaWQ7XG4gICAgICAgIFxuICAgICAgICBpZiAoY3VycmVudERldmVsb3BlcklkKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGRldmVsb3BlciBhc3NpZ25tZW50XG4gICAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICAgJ1VQREFURSBwcm9qZWN0cyBTRVQgZGV2ZWxvcGVyX2lkID0gTlVMTCwgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gPycsXG4gICAgICAgICAgICBbcHJvamVjdElkXVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIGRldmVsb3BlcidzIHByb2plY3QgY291bnRcbiAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICAgICAnVVBEQVRFIGRldmVsb3BlcnMgU0VUIHByb2plY3RzX2NvdW50ID0gcHJvamVjdHNfY291bnQgLSAxLCB1cGRhdGVkX2F0ID0gTk9XKCkgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgICAgIFtjdXJyZW50RGV2ZWxvcGVySWRdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1bmFzc2lnbmluZyBwcm9qZWN0IGZyb20gZGV2ZWxvcGVyOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGVsZXRlRGV2ZWxvcGVyV2l0aENhc2NhZGUoaWQ6IG51bWJlcik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkZWxldGVkUHJvamVjdHM6IG51bWJlciB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gU3RhcnQgdHJhbnNhY3Rpb25cbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uYmVnaW5UcmFuc2FjdGlvbigpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBDb3VudCBwcm9qZWN0cyB0aGF0IHdpbGwgYmUgZGVsZXRlZFxuICAgICAgICBjb25zdCBbY291bnRSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICAnU0VMRUNUIENPVU5UKCopIGFzIHByb2plY3RfY291bnQgRlJPTSBwcm9qZWN0cyBXSEVSRSBkZXZlbG9wZXJfaWQgPSA/JyxcbiAgICAgICAgICBbaWRdXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGRlbGV0ZWRQcm9qZWN0cyA9IChjb3VudFJvd3MgYXMgYW55W10pWzBdLnByb2plY3RfY291bnQ7XG4gICAgICAgIFxuICAgICAgICAvLyBEZWxldGUgYXNzb2NpYXRlZCBwcm9qZWN0cyAoY2FzY2FkaW5nIGRlbGV0ZSlcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICdERUxFVEUgRlJPTSBwcm9qZWN0cyBXSEVSRSBkZXZlbG9wZXJfaWQgPSA/JyxcbiAgICAgICAgICBbaWRdXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBEZWxldGUgdGhlIGRldmVsb3BlclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICAgJ0RFTEVURSBGUk9NIGRldmVsb3BlcnMgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgICBbaWRdXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb21taXQgdHJhbnNhY3Rpb25cbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5jb21taXQoKTtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkZWxldGVkUHJvamVjdHMgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFJvbGxiYWNrIHRyYW5zYWN0aW9uIG9uIGVycm9yXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucm9sbGJhY2soKTtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBkZXZlbG9wZXIgd2l0aCBjYXNjYWRlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBkZWxldGVkUHJvamVjdHM6IDAgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlUHJvamVjdFdpdGhEZXZlbG9wZXIocHJvamVjdERhdGE6IE9taXQ8UHJvamVjdCwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4sIGRldmVsb3BlcklkPzogbnVtYmVyKTogUHJvbWlzZTxQcm9qZWN0IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IHRyYW5zYWN0aW9uXG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmJlZ2luVHJhbnNhY3Rpb24oKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBwcm9qZWN0IHdpdGggZGV2ZWxvcGVyX2lkXG4gICAgICAgIGNvbnN0IHByb2plY3RUb0NyZWF0ZSA9IHtcbiAgICAgICAgICAuLi5wcm9qZWN0RGF0YSxcbiAgICAgICAgICBkZXZlbG9wZXJfaWQ6IGRldmVsb3BlcklkIHx8IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBJTlNFUlQgSU5UTyBwcm9qZWN0cyAoXG4gICAgICAgICAgICBuYW1lLCBzbHVnLCBwcm9qZWN0X25hbWUsIHN1Yl9wcm9qZWN0LCBkaXNwbGF5X3RpdGxlLCBkZXZlbG9wZXIsIGRldmVsb3Blcl9pZCxcbiAgICAgICAgICAgIGxvY2F0aW9uLCBwcmljZSwgc3RhcnRpbmdfcHJpY2UsIHN0YXR1cywgcHJvamVjdF90eXBlLCB0eXBlLCBjYXRlZ29yeSxcbiAgICAgICAgICAgIGNvbG9yX3BhbGV0dGUsIHByb3BlcnR5X3R5cGUsIHByb3BlcnR5X3R5cGVzLCBzdWJfcHJvamVjdHMsIGJlZHJvb21zLCBiYXRocm9vbXMsXG4gICAgICAgICAgICBzdHVkaW9zLCB1bml0c18xYmVkcm9vbSwgdW5pdHNfMmJlZHJvb20sIHVuaXRzXzNiZWRyb29tLCB1bml0c180YmVkcm9vbSxcbiAgICAgICAgICAgIHVuaXRzXzViZWRyb29tLCB1bml0c19vZmZpY2UsIGxpdmluZ19yb29tcywgdW5pdHMsIGFyZWEsIGRlc2NyaXB0aW9uLCBpbWFnZSxcbiAgICAgICAgICAgIGdhbGxlcnksIGNvb3JkaW5hdGVzX2xhdCwgY29vcmRpbmF0ZXNfbG5nLCBmZWF0dXJlcywgYW1lbml0aWVzLCBpc19mZWF0dXJlZCxcbiAgICAgICAgICAgIGJyb2NodXJlX3VybCwgdGhlbWVfY29sb3IsIHZvaWNlX292ZXJfdXJsLCBwcmVzZW50YXRpb25fZmlsZSwgcHJlc2VudGF0aW9uX3VybCxcbiAgICAgICAgICAgIG1lZGlhX3R5cGUsIGZlYXR1cmVkX3ZpZGVvLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0XG4gICAgICAgICAgKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sIE5PVygpLCBOT1coKSlgLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5uYW1lLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnNsdWcsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUucHJvamVjdF9uYW1lIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuc3ViX3Byb2plY3QgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5kaXNwbGF5X3RpdGxlIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuZGV2ZWxvcGVyLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmRldmVsb3Blcl9pZCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5sb2NhdGlvbixcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5wcmljZSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnN0YXJ0aW5nX3ByaWNlIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuc3RhdHVzIHx8ICdBY3RpdmUnLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnByb2plY3RfdHlwZSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnR5cGUgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmNvbG9yX3BhbGV0dGUgfHwgbnVsbCxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3RUb0NyZWF0ZS5wcm9wZXJ0eV90eXBlIHx8IFtdKSxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3RUb0NyZWF0ZS5wcm9wZXJ0eV90eXBlcyB8fCBbXSksXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0VG9DcmVhdGUuc3ViX3Byb2plY3RzIHx8IFtdKSxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5iZWRyb29tcyB8fCAwLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmJhdGhyb29tcyB8fCAwLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnN0dWRpb3MgfHwgMCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS51bml0c18xYmVkcm9vbSB8fCAwLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnVuaXRzXzJiZWRyb29tIHx8IDAsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUudW5pdHNfM2JlZHJvb20gfHwgMCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS51bml0c180YmVkcm9vbSB8fCAwLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnVuaXRzXzViZWRyb29tIHx8IDAsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUudW5pdHNfb2ZmaWNlIHx8IDAsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUubGl2aW5nX3Jvb21zIHx8IDAsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0VG9DcmVhdGUudW5pdHMgfHwgW10pLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmFyZWEsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuaW1hZ2UsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0VG9DcmVhdGUuZ2FsbGVyeSB8fCBbXSksXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUuY29vcmRpbmF0ZXNfbGF0LFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmNvb3JkaW5hdGVzX2xuZyxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb2plY3RUb0NyZWF0ZS5mZWF0dXJlcyB8fCBbXSksXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9qZWN0VG9DcmVhdGUuYW1lbml0aWVzIHx8IFtdKSxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5pc19mZWF0dXJlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5icm9jaHVyZV91cmwgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS50aGVtZV9jb2xvciB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLnZvaWNlX292ZXJfdXJsIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUucHJlc2VudGF0aW9uX2ZpbGUgfHwgbnVsbCxcbiAgICAgICAgICAgIHByb2plY3RUb0NyZWF0ZS5wcmVzZW50YXRpb25fdXJsIHx8IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0VG9DcmVhdGUubWVkaWFfdHlwZSB8fCBudWxsLFxuICAgICAgICAgICAgcHJvamVjdFRvQ3JlYXRlLmZlYXR1cmVkX3ZpZGVvIHx8IG51bGxcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbnNlcnRJZCA9IChyZXN1bHQgYXMgYW55KS5pbnNlcnRJZDtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBkZXZlbG9wZXIncyBwcm9qZWN0IGNvdW50IGlmIGFzc2lnbmVkXG4gICAgICAgIGlmIChkZXZlbG9wZXJJZCkge1xuICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICAgICdVUERBVEUgZGV2ZWxvcGVycyBTRVQgcHJvamVjdHNfY291bnQgPSBwcm9qZWN0c19jb3VudCArIDEsIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID8nLFxuICAgICAgICAgICAgW2RldmVsb3BlcklkXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENvbW1pdCB0cmFuc2FjdGlvblxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmNvbW1pdCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmV0Y2ggYW5kIHJldHVybiB0aGUgY3JlYXRlZCBwcm9qZWN0XG4gICAgICAgIGNvbnN0IFtwcm9qZWN0Um93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICAgJ1NFTEVDVCAqIEZST00gcHJvamVjdHMgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgICBbaW5zZXJ0SWRdXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgICAgXG4gICAgICAgIGlmICgocHJvamVjdFJvd3MgYXMgYW55W10pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gKHByb2plY3RSb3dzIGFzIGFueVtdKVswXSBhcyBQcm9qZWN0O1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wcm9qZWN0LFxuICAgICAgICAgICAgcHJvcGVydHlfdHlwZTogcHJvamVjdC5wcm9wZXJ0eV90eXBlID8gKHR5cGVvZiBwcm9qZWN0LnByb3BlcnR5X3R5cGUgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShwcm9qZWN0LnByb3BlcnR5X3R5cGUpIDogcHJvamVjdC5wcm9wZXJ0eV90eXBlKSA6IFtdLFxuICAgICAgICAgICAgcHJvcGVydHlfdHlwZXM6IHByb2plY3QucHJvcGVydHlfdHlwZXMgPyAodHlwZW9mIHByb2plY3QucHJvcGVydHlfdHlwZXMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShwcm9qZWN0LnByb3BlcnR5X3R5cGVzKSA6IHByb2plY3QucHJvcGVydHlfdHlwZXMpIDogW10sXG4gICAgICAgICAgICBzdWJfcHJvamVjdHM6IHByb2plY3Quc3ViX3Byb2plY3RzID8gKHR5cGVvZiBwcm9qZWN0LnN1Yl9wcm9qZWN0cyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHByb2plY3Quc3ViX3Byb2plY3RzKSA6IHByb2plY3Quc3ViX3Byb2plY3RzKSA6IFtdLFxuICAgICAgICAgICAgdW5pdHM6IHByb2plY3QudW5pdHMgPyAodHlwZW9mIHByb2plY3QudW5pdHMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShwcm9qZWN0LnVuaXRzKSA6IHByb2plY3QudW5pdHMpIDogW10sXG4gICAgICAgICAgICBnYWxsZXJ5OiBwcm9qZWN0LmdhbGxlcnkgPyAodHlwZW9mIHByb2plY3QuZ2FsbGVyeSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHByb2plY3QuZ2FsbGVyeSkgOiBwcm9qZWN0LmdhbGxlcnkpIDogW10sXG4gICAgICAgICAgICBmZWF0dXJlczogcHJvamVjdC5mZWF0dXJlcyA/ICh0eXBlb2YgcHJvamVjdC5mZWF0dXJlcyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHByb2plY3QuZmVhdHVyZXMpIDogcHJvamVjdC5mZWF0dXJlcykgOiBbXSxcbiAgICAgICAgICAgIGFtZW5pdGllczogcHJvamVjdC5hbWVuaXRpZXMgPyAodHlwZW9mIHByb2plY3QuYW1lbml0aWVzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocHJvamVjdC5hbWVuaXRpZXMpIDogcHJvamVjdC5hbWVuaXRpZXMpIDogW11cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFJvbGxiYWNrIHRyYW5zYWN0aW9uIG9uIGVycm9yXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb24ucm9sbGJhY2soKTtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwcm9qZWN0IHdpdGggZGV2ZWxvcGVyOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFydGljbGVzIENSVUQgb3BlcmF0aW9uc1xuICBzdGF0aWMgYXN5bmMgZ2V0QXJ0aWNsZXMoKTogUHJvbWlzZTxBcnRpY2xlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGFydGljbGVzIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQycpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zdCBhcnRpY2xlcyA9IHJvd3MgYXMgQXJ0aWNsZVtdO1xuICAgICAgXG4gICAgICAvLyBQYXJzZSBKU09OIHRhZ3MgZmllbGQgYW5kIGhhbmRsZSBtaXNzaW5nIGNvbHVtbnNcbiAgICAgIHJldHVybiBhcnRpY2xlcy5tYXAoYXJ0aWNsZSA9PiAoe1xuICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICB0YWdzOiBhcnRpY2xlLnRhZ3MgPyAodHlwZW9mIGFydGljbGUudGFncyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGFydGljbGUudGFncykgOiBhcnRpY2xlLnRhZ3MpIDogW10sXG4gICAgICAgIGNhdGVnb3J5OiBhcnRpY2xlLmNhdGVnb3J5IHx8ICcnLFxuICAgICAgICByZWFkX3RpbWU6IGFydGljbGUucmVhZF90aW1lIHx8IDUsXG4gICAgICAgIG1ldGFfZGVzY3JpcHRpb246IGFydGljbGUubWV0YV9kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgZmVhdHVyZWQ6IGFydGljbGUuZmVhdHVyZWQgfHwgZmFsc2UsXG4gICAgICAgIHZpZXdzX2NvdW50OiBhcnRpY2xlLnZpZXdzX2NvdW50IHx8IDBcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXJ0aWNsZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVBcnRpY2xlKGFydGljbGU6IE9taXQ8QXJ0aWNsZSwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4pOiBQcm9taXNlPEFydGljbGUgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgdHJ5IHdpdGggYWxsIGNvbHVtbnNcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBJTlNFUlQgSU5UTyBhcnRpY2xlcyAodGl0bGUsIHNsdWcsIGNvbnRlbnQsIGV4Y2VycHQsIGZlYXR1cmVkX2ltYWdlLCBhdXRob3IsIHN0YXR1cywgcHVibGlzaGVkX2F0LCB0YWdzLCBjYXRlZ29yeSwgcmVhZF90aW1lLCBtZXRhX2Rlc2NyaXB0aW9uLCBmZWF0dXJlZCwgdmlld3NfY291bnQpXG4gICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPylgLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIGFydGljbGUudGl0bGUsIGFydGljbGUuc2x1ZywgYXJ0aWNsZS5jb250ZW50LCBhcnRpY2xlLmV4Y2VycHQsXG4gICAgICAgICAgICBhcnRpY2xlLmZlYXR1cmVkX2ltYWdlLCBhcnRpY2xlLmF1dGhvciwgYXJ0aWNsZS5zdGF0dXMsIGFydGljbGUucHVibGlzaGVkX2F0LFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoYXJ0aWNsZS50YWdzIHx8IFtdKSwgYXJ0aWNsZS5jYXRlZ29yeSwgYXJ0aWNsZS5yZWFkX3RpbWUsXG4gICAgICAgICAgICBhcnRpY2xlLm1ldGFfZGVzY3JpcHRpb24sIGFydGljbGUuZmVhdHVyZWQgfHwgZmFsc2UsIGFydGljbGUudmlld3NfY291bnQgfHwgMFxuICAgICAgICAgIF1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGluc2VydElkID0gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QXJ0aWNsZUJ5SWQoaW5zZXJ0SWQpO1xuICAgICAgfSBjYXRjaCAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Z1bGwgaW5zZXJ0IGZhaWxlZCwgdHJ5aW5nIGJhc2ljIGluc2VydDonLCBpbnNlcnRFcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB0aGF0IGZhaWxzLCB0cnkgd2l0aCBiYXNpYyBjb2x1bW5zIG9ubHlcbiAgICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgICAgYElOU0VSVCBJTlRPIGFydGljbGVzICh0aXRsZSwgc2x1ZywgY29udGVudCwgZXhjZXJwdCwgZmVhdHVyZWRfaW1hZ2UsIGF1dGhvciwgc3RhdHVzLCBwdWJsaXNoZWRfYXQpXG4gICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPylgLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIGFydGljbGUudGl0bGUsIGFydGljbGUuc2x1ZywgYXJ0aWNsZS5jb250ZW50LCBhcnRpY2xlLmV4Y2VycHQsXG4gICAgICAgICAgICBhcnRpY2xlLmZlYXR1cmVkX2ltYWdlLCBhcnRpY2xlLmF1dGhvciwgYXJ0aWNsZS5zdGF0dXMsIGFydGljbGUucHVibGlzaGVkX2F0XG4gICAgICAgICAgXVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaW5zZXJ0SWQgPSAocmVzdWx0IGFzIGFueSkuaW5zZXJ0SWQ7XG4gICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRBcnRpY2xlQnlJZChpbnNlcnRJZCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGFydGljbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldEFydGljbGVCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPEFydGljbGUgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBhcnRpY2xlcyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgY29uc3QgYXJ0aWNsZXMgPSByb3dzIGFzIEFydGljbGVbXTtcbiAgICAgIGlmIChhcnRpY2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGFydGljbGUgPSBhcnRpY2xlc1swXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICAgIHRhZ3M6IGFydGljbGUudGFncyA/ICh0eXBlb2YgYXJ0aWNsZS50YWdzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoYXJ0aWNsZS50YWdzKSA6IGFydGljbGUudGFncykgOiBbXSxcbiAgICAgICAgICBjYXRlZ29yeTogYXJ0aWNsZS5jYXRlZ29yeSB8fCAnJyxcbiAgICAgICAgICByZWFkX3RpbWU6IGFydGljbGUucmVhZF90aW1lIHx8IDUsXG4gICAgICAgICAgbWV0YV9kZXNjcmlwdGlvbjogYXJ0aWNsZS5tZXRhX2Rlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgIGZlYXR1cmVkOiBhcnRpY2xlLmZlYXR1cmVkIHx8IGZhbHNlLFxuICAgICAgICAgIHZpZXdzX2NvdW50OiBhcnRpY2xlLnZpZXdzX2NvdW50IHx8IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhcnRpY2xlIGJ5IElEOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVBcnRpY2xlKGlkOiBudW1iZXIsIHVwZGF0ZURhdGE6IFBhcnRpYWw8QXJ0aWNsZT4pOiBQcm9taXNlPEFydGljbGUgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gQ29udmVydCB0YWdzIGFycmF5IHRvIEpTT04gc3RyaW5nIGlmIHByZXNlbnRcbiAgICAgIGNvbnN0IHByb2Nlc3NlZERhdGEgPSB7IC4uLnVwZGF0ZURhdGEgfTtcbiAgICAgIGlmIChwcm9jZXNzZWREYXRhLnRhZ3MpIHtcbiAgICAgICAgcHJvY2Vzc2VkRGF0YS50YWdzID0gSlNPTi5zdHJpbmdpZnkocHJvY2Vzc2VkRGF0YS50YWdzKSBhcyBhbnk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHByb2Nlc3NlZERhdGEpLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnaWQnKTtcbiAgICAgIGNvbnN0IHNldENsYXVzZSA9IGZpZWxkcy5tYXAoZmllbGQgPT4gYCR7ZmllbGR9ID0gP2ApLmpvaW4oJywgJyk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBmaWVsZHMubWFwKGZpZWxkID0+IChwcm9jZXNzZWREYXRhIGFzIGFueSlbZmllbGRdKTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgVVBEQVRFIGFydGljbGVzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICBbLi4udmFsdWVzLCBpZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QXJ0aWNsZUJ5SWQoaWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBhcnRpY2xlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVBcnRpY2xlKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBhcnRpY2xlcyBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGFydGljbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRBcnRpY2xlQnlTbHVnKHNsdWc6IHN0cmluZyk6IFByb21pc2U8QXJ0aWNsZSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGFydGljbGVzIFdIRVJFIHNsdWcgPSA/IEFORCBzdGF0dXMgPSBcInB1Ymxpc2hlZFwiJywgW3NsdWddKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgY29uc3QgYXJ0aWNsZXMgPSByb3dzIGFzIEFydGljbGVbXTtcbiAgICAgIGlmIChhcnRpY2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGFydGljbGUgPSBhcnRpY2xlc1swXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICAgIHRhZ3M6IGFydGljbGUudGFncyA/ICh0eXBlb2YgYXJ0aWNsZS50YWdzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoYXJ0aWNsZS50YWdzKSA6IGFydGljbGUudGFncykgOiBbXSxcbiAgICAgICAgICBjYXRlZ29yeTogYXJ0aWNsZS5jYXRlZ29yeSB8fCAnJyxcbiAgICAgICAgICByZWFkX3RpbWU6IGFydGljbGUucmVhZF90aW1lIHx8IDUsXG4gICAgICAgICAgbWV0YV9kZXNjcmlwdGlvbjogYXJ0aWNsZS5tZXRhX2Rlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgIGZlYXR1cmVkOiBhcnRpY2xlLmZlYXR1cmVkIHx8IGZhbHNlLFxuICAgICAgICAgIHZpZXdzX2NvdW50OiBhcnRpY2xlLnZpZXdzX2NvdW50IHx8IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhcnRpY2xlIGJ5IHNsdWc6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFB1Ymxpc2hlZEFydGljbGVzKG9wdGlvbnM/OiB7XG4gICAgbGltaXQ/OiBudW1iZXI7XG4gICAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gICAgZmVhdHVyZWQ/OiBib29sZWFuO1xuICB9KTogUHJvbWlzZTxBcnRpY2xlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgbGV0IHF1ZXJ5ID0gJ1NFTEVDVCAqIEZST00gYXJ0aWNsZXMgV0hFUkUgc3RhdHVzID0gXCJwdWJsaXNoZWRcIiBPUkRFUiBCWSBwdWJsaXNoZWRfYXQgREVTQywgY3JlYXRlZF9hdCBERVNDJztcbiAgICAgIGNvbnN0IHBhcmFtczogYW55W10gPSBbXTtcblxuICAgICAgaWYgKG9wdGlvbnM/LmxpbWl0KSB7XG4gICAgICAgIHF1ZXJ5ICs9ICcgTElNSVQgPyc7XG4gICAgICAgIHBhcmFtcy5wdXNoKG9wdGlvbnMubGltaXQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUocXVlcnksIHBhcmFtcyk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnN0IGFydGljbGVzID0gcm93cyBhcyBBcnRpY2xlW107XG4gICAgICBcbiAgICAgIC8vIFBhcnNlIEpTT04gdGFncyBmaWVsZCBhbmQgaGFuZGxlIG1pc3NpbmcgY29sdW1uc1xuICAgICAgcmV0dXJuIGFydGljbGVzLm1hcChhcnRpY2xlID0+ICh7XG4gICAgICAgIC4uLmFydGljbGUsXG4gICAgICAgIHRhZ3M6IGFydGljbGUudGFncyA/ICh0eXBlb2YgYXJ0aWNsZS50YWdzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoYXJ0aWNsZS50YWdzKSA6IGFydGljbGUudGFncykgOiBbXSxcbiAgICAgICAgY2F0ZWdvcnk6IGFydGljbGUuY2F0ZWdvcnkgfHwgJycsXG4gICAgICAgIHJlYWRfdGltZTogYXJ0aWNsZS5yZWFkX3RpbWUgfHwgNSxcbiAgICAgICAgbWV0YV9kZXNjcmlwdGlvbjogYXJ0aWNsZS5tZXRhX2Rlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBmZWF0dXJlZDogYXJ0aWNsZS5mZWF0dXJlZCB8fCBmYWxzZSxcbiAgICAgICAgdmlld3NfY291bnQ6IGFydGljbGUudmlld3NfY291bnQgfHwgMFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwdWJsaXNoZWQgYXJ0aWNsZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1lZGlhIEZpbGVzIENSVUQgb3BlcmF0aW9uc1xuICBzdGF0aWMgYXN5bmMgZ2V0TWVkaWFGaWxlcygpOiBQcm9taXNlPE1lZGlhRmlsZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBtZWRpYV9maWxlcyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MnKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHJvd3MgYXMgTWVkaWFGaWxlW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1lZGlhIGZpbGVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlTWVkaWFGaWxlKG1lZGlhRGF0YTogT21pdDxNZWRpYUZpbGUsICdpZCcgfCAnY3JlYXRlZF9hdCc+KTogUHJvbWlzZTxNZWRpYUZpbGUgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgSU5TRVJUIElOVE8gbWVkaWFfZmlsZXMgKGZpbGVuYW1lLCBvcmlnaW5hbF9uYW1lLCBmaWxlX3BhdGgsIGZpbGVfc2l6ZSwgbWltZV90eXBlLCBhbHRfdGV4dCwgdXBsb2FkZWRfYnkpXG4gICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgW1xuICAgICAgICAgIG1lZGlhRGF0YS5maWxlbmFtZSwgbWVkaWFEYXRhLm9yaWdpbmFsX25hbWUsIG1lZGlhRGF0YS5maWxlX3BhdGgsXG4gICAgICAgICAgbWVkaWFEYXRhLmZpbGVfc2l6ZSwgbWVkaWFEYXRhLm1pbWVfdHlwZSwgbWVkaWFEYXRhLmFsdF90ZXh0LCBtZWRpYURhdGEudXBsb2FkZWRfYnlcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW5zZXJ0SWQgPSAocmVzdWx0IGFzIGFueSkuaW5zZXJ0SWQ7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TWVkaWFGaWxlQnlJZChpbnNlcnRJZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG1lZGlhIGZpbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldE1lZGlhRmlsZUJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8TWVkaWFGaWxlIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gbWVkaWFfZmlsZXMgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnN0IG1lZGlhRmlsZXMgPSByb3dzIGFzIE1lZGlhRmlsZVtdO1xuICAgICAgcmV0dXJuIG1lZGlhRmlsZXMubGVuZ3RoID4gMCA/IG1lZGlhRmlsZXNbMF0gOiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtZWRpYSBmaWxlIGJ5IElEOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVNZWRpYUZpbGUoaWQ6IG51bWJlciwgdXBkYXRlRGF0YTogUGFydGlhbDxNZWRpYUZpbGU+KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmtleXModXBkYXRlRGF0YSkuZmlsdGVyKGtleSA9PiBcbiAgICAgICAga2V5ICE9PSAnaWQnICYmIGtleSAhPT0gJ2NyZWF0ZWRfYXQnICYmIHVwZGF0ZURhdGFba2V5IGFzIGtleW9mIE1lZGlhRmlsZV0gIT09IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiB1cGRhdGVEYXRhW2ZpZWxkIGFzIGtleW9mIE1lZGlhRmlsZV0pO1xuXG4gICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYFVQREFURSBtZWRpYV9maWxlcyBTRVQgJHtzZXRDbGF1c2V9IFdIRVJFIGlkID0gP2AsXG4gICAgICAgIFsuLi52YWx1ZXMsIGlkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gKHJlc3VsdCBhcyBhbnkpLmFmZmVjdGVkUm93cyA+IDA7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIG1lZGlhIGZpbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVNZWRpYUZpbGUoaWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIG1lZGlhX2ZpbGVzIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgbWVkaWEgZmlsZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gSGVybyBTZWN0aW9ucyBDUlVEIG9wZXJhdGlvbnNcbiAgc3RhdGljIGFzeW5jIGdldEhlcm9TZWN0aW9ucygpOiBQcm9taXNlPEhlcm9TZWN0aW9uW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGhlcm9fc2VjdGlvbnMgT1JERVIgQlkgaWQgREVTQycpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gcm93cyBhcyBIZXJvU2VjdGlvbltdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBoZXJvIHNlY3Rpb25zOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlSGVyb1NlY3Rpb24oaGVyb0RhdGE6IE9taXQ8SGVyb1NlY3Rpb24sICdpZCcgfCAndXBkYXRlZF9hdCc+KTogUHJvbWlzZTxIZXJvU2VjdGlvbiB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBJTlNFUlQgSU5UTyBoZXJvX3NlY3Rpb25zIChwYWdlLCB0aXRsZSwgc3VidGl0bGUsIGRlc2NyaXB0aW9uLCBiYWNrZ3JvdW5kX2ltYWdlLCBjdGFfdGV4dCwgY3RhX2xpbmssIGlzX2FjdGl2ZSlcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPylgLFxuICAgICAgICBbXG4gICAgICAgICAgaGVyb0RhdGEucGFnZSwgaGVyb0RhdGEudGl0bGUsIGhlcm9EYXRhLnN1YnRpdGxlLCBoZXJvRGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBoZXJvRGF0YS5iYWNrZ3JvdW5kX2ltYWdlLCBoZXJvRGF0YS5jdGFfdGV4dCwgaGVyb0RhdGEuY3RhX2xpbmssIGhlcm9EYXRhLmlzX2FjdGl2ZVxuICAgICAgICBdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBpbnNlcnRJZCA9IChyZXN1bHQgYXMgYW55KS5pbnNlcnRJZDtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRIZXJvU2VjdGlvbkJ5SWQoaW5zZXJ0SWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBoZXJvIHNlY3Rpb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldEhlcm9TZWN0aW9uQnlJZChpZDogbnVtYmVyKTogUHJvbWlzZTxIZXJvU2VjdGlvbiB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGhlcm9fc2VjdGlvbnMgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIGNvbnN0IGhlcm9TZWN0aW9ucyA9IHJvd3MgYXMgSGVyb1NlY3Rpb25bXTtcbiAgICAgIHJldHVybiBoZXJvU2VjdGlvbnMubGVuZ3RoID4gMCA/IGhlcm9TZWN0aW9uc1swXSA6IG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGhlcm8gc2VjdGlvbiBieSBJRDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlSGVyb1NlY3Rpb24oaWQ6IG51bWJlciwgdXBkYXRlRGF0YTogUGFydGlhbDxIZXJvU2VjdGlvbj4pOiBQcm9taXNlPEhlcm9TZWN0aW9uIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHVwZGF0ZURhdGEpLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnaWQnKTtcbiAgICAgIGNvbnN0IHNldENsYXVzZSA9IGZpZWxkcy5tYXAoZmllbGQgPT4gYCR7ZmllbGR9ID0gP2ApLmpvaW4oJywgJyk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBmaWVsZHMubWFwKGZpZWxkID0+ICh1cGRhdGVEYXRhIGFzIGFueSlbZmllbGRdKTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgVVBEQVRFIGhlcm9fc2VjdGlvbnMgU0VUICR7c2V0Q2xhdXNlfSwgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gP2AsXG4gICAgICAgIFsuLi52YWx1ZXMsIGlkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRIZXJvU2VjdGlvbkJ5SWQoaWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBoZXJvIHNlY3Rpb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZUhlcm9TZWN0aW9uKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBoZXJvX3NlY3Rpb25zIFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgaGVybyBzZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBVc2VycyBhdXRoZW50aWNhdGlvblxuICBzdGF0aWMgYXN5bmMgZ2V0VXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gPyBBTkQgaXNfYWN0aXZlID0gVFJVRScsIFtlbWFpbF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBjb25zdCB1c2VycyA9IHJvd3MgYXMgVXNlcltdO1xuICAgICAgcmV0dXJuIHVzZXJzLmxlbmd0aCA+IDAgPyB1c2Vyc1swXSA6IG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgYnkgZW1haWw6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVVzZXJMYXN0TG9naW4odXNlcklkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdVUERBVEUgdXNlcnMgU0VUIGxhc3RfbG9naW4gPSBOT1coKSBXSEVSRSBpZCA9ID8nLCBbdXNlcklkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIGxhc3QgbG9naW46JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFN5c3RlbSBsb2dzXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVMb2cobG9nRGF0YTogT21pdDxTeXN0ZW1Mb2csICdpZCcgfCAndGltZXN0YW1wJz4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgSU5TRVJUIElOVE8gc3lzdGVtX2xvZ3MgKGxldmVsLCBjYXRlZ29yeSwgbWVzc2FnZSwgdXNlcl9pZCwgaXBfYWRkcmVzcywgdXNlcl9hZ2VudCwgZGV0YWlscylcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPylgLFxuICAgICAgICBbXG4gICAgICAgICAgbG9nRGF0YS5sZXZlbCwgbG9nRGF0YS5jYXRlZ29yeSwgbG9nRGF0YS5tZXNzYWdlLCBsb2dEYXRhLnVzZXJfaWQsXG4gICAgICAgICAgbG9nRGF0YS5pcF9hZGRyZXNzLCBsb2dEYXRhLnVzZXJfYWdlbnQsIEpTT04uc3RyaW5naWZ5KGxvZ0RhdGEuZGV0YWlscyB8fCB7fSlcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGxvZzonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN5c3RlbSBzdGF0aXN0aWNzXG4gIHN0YXRpYyBhc3luYyBnZXRTeXN0ZW1TdGF0cygpOiBQcm9taXNlPHtcbiAgICB0b3RhbFByb2plY3RzOiBudW1iZXI7XG4gICAgdG90YWxEZXZlbG9wZXJzOiBudW1iZXI7XG4gICAgdG90YWxVc2VyczogbnVtYmVyO1xuICAgIHRvdGFsTG9nczogbnVtYmVyO1xuICAgIGxhc3RCYWNrdXA6IERhdGU7XG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICBjb25zdCBbcHJvamVjdENvdW50XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gcHJvamVjdHMnKTtcbiAgICAgIGNvbnN0IFtkZXZlbG9wZXJDb3VudF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIGRldmVsb3BlcnMnKTtcbiAgICAgIGNvbnN0IFt1c2VyQ291bnRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSB1c2VycycpO1xuICAgICAgY29uc3QgW2xvZ0NvdW50XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gc3lzdGVtX2xvZ3MnKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsUHJvamVjdHM6IChwcm9qZWN0Q291bnQgYXMgYW55KVswXS5jb3VudCxcbiAgICAgICAgdG90YWxEZXZlbG9wZXJzOiAoZGV2ZWxvcGVyQ291bnQgYXMgYW55KVswXS5jb3VudCxcbiAgICAgICAgdG90YWxVc2VyczogKHVzZXJDb3VudCBhcyBhbnkpWzBdLmNvdW50LFxuICAgICAgICB0b3RhbExvZ3M6IChsb2dDb3VudCBhcyBhbnkpWzBdLmNvdW50LFxuICAgICAgICBsYXN0QmFja3VwOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzeXN0ZW0gc3RhdHM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWxQcm9qZWN0czogMCxcbiAgICAgICAgdG90YWxEZXZlbG9wZXJzOiAwLFxuICAgICAgICB0b3RhbFVzZXJzOiAwLFxuICAgICAgICB0b3RhbExvZ3M6IDAsXG4gICAgICAgIGxhc3RCYWNrdXA6IG5ldyBEYXRlKClcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gU2V0dGluZ3MgbWFuYWdlbWVudFxuICBzdGF0aWMgYXN5bmMgZ2V0U2V0dGluZ3MoKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHNpdGVfc2V0dGluZ3MgT1JERVIgQlkgaWQgREVTQyBMSU1JVCAxJyk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2V0dGluZ3MgPSByb3dzIGFzIGFueVtdO1xuICAgICAgaWYgKHNldHRpbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZGJTZXR0aW5ncyA9IHNldHRpbmdzWzBdO1xuICAgICAgICAvLyBUcmFuc2Zvcm0gZGF0YWJhc2UgY29sdW1ucyB0byBBUEkgZm9ybWF0XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2l0ZToge1xuICAgICAgICAgICAgdGl0bGU6IGRiU2V0dGluZ3Muc2l0ZV90aXRsZSB8fCAnUHJlbWl1bSBDaG9pY2UnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRiU2V0dGluZ3Muc2l0ZV9kZXNjcmlwdGlvbiB8fCAnWW91ciB0cnVzdGVkIHBhcnRuZXIgaW4gRHViYWkgcmVhbCBlc3RhdGUnLFxuICAgICAgICAgICAgbG9nbzogZGJTZXR0aW5ncy5zaXRlX2xvZ28gfHwgJy9sb2dvLnBuZycsXG4gICAgICAgICAgICBmYXZpY29uOiBkYlNldHRpbmdzLnNpdGVfZmF2aWNvbiB8fCAnL2Zhdmljb24uaWNvJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29udGFjdDoge1xuICAgICAgICAgICAgZW1haWw6IGRiU2V0dGluZ3MuY29udGFjdF9lbWFpbCB8fCAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgcGhvbmU6IGRiU2V0dGluZ3MuY29udGFjdF9waG9uZSB8fCBudWxsLFxuICAgICAgYWRkcmVzczogZGJTZXR0aW5ncy5jb250YWN0X2FkZHJlc3MgfHwgJ0R1YmFpLCBVQUUnLFxuICAgICAgd2hhdHNhcHA6IGRiU2V0dGluZ3MuY29udGFjdF93aGF0c2FwcCB8fCBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb2NpYWw6IHtcbiAgICAgICAgICAgIGZhY2Vib29rOiBkYlNldHRpbmdzLnNvY2lhbF9mYWNlYm9vayB8fCAnJyxcbiAgICAgICAgICAgIGluc3RhZ3JhbTogZGJTZXR0aW5ncy5zb2NpYWxfaW5zdGFncmFtIHx8ICcnLFxuICAgICAgICAgICAgdHdpdHRlcjogZGJTZXR0aW5ncy5zb2NpYWxfdHdpdHRlciB8fCAnJyxcbiAgICAgICAgICAgIGxpbmtlZGluOiBkYlNldHRpbmdzLnNvY2lhbF9saW5rZWRpbiB8fCAnJyxcbiAgICAgICAgICAgIHlvdXR1YmU6IGRiU2V0dGluZ3Muc29jaWFsX3lvdXR1YmUgfHwgJycsXG4gICAgICAgICAgICB0aWt0b2s6IGRiU2V0dGluZ3Muc29jaWFsX3Rpa3RvayB8fCAnJyxcbiAgICAgICAgICAgIHNuYXBjaGF0OiBkYlNldHRpbmdzLnNvY2lhbF9zbmFwY2hhdCB8fCAnJyxcbiAgICAgICAgICAgIHRlbGVncmFtOiBkYlNldHRpbmdzLnNvY2lhbF90ZWxlZ3JhbSB8fCAnJyxcbiAgICAgICAgICAgIHdoYXRzYXBwOiBkYlNldHRpbmdzLnNvY2lhbF93aGF0c2FwcCB8fCAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICBtZXRhVGl0bGU6IGRiU2V0dGluZ3Muc2VvX21ldGFfdGl0bGUgfHwgJ1ByZW1pdW0gQ2hvaWNlIC0gRHViYWkgUmVhbCBFc3RhdGUnLFxuICAgICAgICAgICAgbWV0YURlc2NyaXB0aW9uOiBkYlNldHRpbmdzLnNlb19tZXRhX2Rlc2NyaXB0aW9uIHx8ICdEaXNjb3ZlciBwcmVtaXVtIHJlYWwgZXN0YXRlIG9wcG9ydHVuaXRpZXMgaW4gRHViYWkgd2l0aCBQcmVtaXVtIENob2ljZS4gWW91ciB0cnVzdGVkIHBhcnRuZXIgZm9yIGx1eHVyeSBwcm9wZXJ0aWVzIGFuZCBpbnZlc3RtZW50IHNvbHV0aW9ucy4nLFxuICAgICAgICAgICAga2V5d29yZHM6IGRiU2V0dGluZ3Muc2VvX2tleXdvcmRzIHx8ICdEdWJhaSByZWFsIGVzdGF0ZSwgbHV4dXJ5IHByb3BlcnRpZXMsIGludmVzdG1lbnQsIFByZW1pdW0gQ2hvaWNlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgICAgIGVuYWJsZUJsb2c6IGRiU2V0dGluZ3MuZmVhdHVyZXNfZW5hYmxlX2Jsb2cgIT09IGZhbHNlLFxuICAgICAgICAgICAgZW5hYmxlTmV3c2xldHRlcjogZGJTZXR0aW5ncy5mZWF0dXJlc19lbmFibGVfbmV3c2xldHRlciAhPT0gZmFsc2UsXG4gICAgICAgICAgICBlbmFibGVXaGF0c0FwcDogZGJTZXR0aW5ncy5mZWF0dXJlc19lbmFibGVfd2hhdHNhcHAgIT09IGZhbHNlLFxuICAgICAgICAgICAgZW5hYmxlTGl2ZUNoYXQ6IGRiU2V0dGluZ3MuZmVhdHVyZXNfZW5hYmxlX2xpdmVfY2hhdCA9PT0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBkZWZhdWx0IHNldHRpbmdzIGlmIG5vbmUgZXhpc3RcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgICB0aXRsZTogJ1ByZW1pdW0gQ2hvaWNlJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciB0cnVzdGVkIHBhcnRuZXIgaW4gRHViYWkgcmVhbCBlc3RhdGUnLFxuICAgICAgICAgICAgbG9nbzogJy9sb2dvLnBuZycsXG4gICAgICAgICAgICBmYXZpY29uOiAnL2Zhdmljb24uaWNvJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29udGFjdDoge1xuICAgICAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXG4gICAgICBwaG9uZTogbnVsbCxcbiAgICAgIGFkZHJlc3M6ICdEdWJhaSwgVUFFJyxcbiAgICAgIHdoYXRzYXBwOiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb2NpYWw6IHtcbiAgICAgICAgICAgIGZhY2Vib29rOiAnJyxcbiAgICAgICAgICAgIGluc3RhZ3JhbTogJycsXG4gICAgICAgICAgICB0d2l0dGVyOiAnJyxcbiAgICAgICAgICAgIGxpbmtlZGluOiAnJyxcbiAgICAgICAgICAgIHlvdXR1YmU6ICcnLFxuICAgICAgICAgICAgdGlrdG9rOiAnJyxcbiAgICAgICAgICAgIHNuYXBjaGF0OiAnJyxcbiAgICAgICAgICAgIHRlbGVncmFtOiAnJyxcbiAgICAgICAgICAgIHdoYXRzYXBwOiAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2VvOiB7XG4gICAgICAgICAgICBtZXRhVGl0bGU6ICdQcmVtaXVtIENob2ljZSAtIER1YmFpIFJlYWwgRXN0YXRlJyxcbiAgICAgICAgICAgIG1ldGFEZXNjcmlwdGlvbjogJ0Rpc2NvdmVyIHByZW1pdW0gcmVhbCBlc3RhdGUgb3Bwb3J0dW5pdGllcyBpbiBEdWJhaSB3aXRoIFByZW1pdW0gQ2hvaWNlLiBZb3VyIHRydXN0ZWQgcGFydG5lciBmb3IgbHV4dXJ5IHByb3BlcnRpZXMgYW5kIGludmVzdG1lbnQgc29sdXRpb25zLicsXG4gICAgICAgICAgICBrZXl3b3JkczogJ0R1YmFpIHJlYWwgZXN0YXRlLCBsdXh1cnkgcHJvcGVydGllcywgaW52ZXN0bWVudCwgUHJlbWl1bSBDaG9pY2UnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmZWF0dXJlczoge1xuICAgICAgICAgICAgZW5hYmxlQmxvZzogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZU5ld3NsZXR0ZXI6IHRydWUsXG4gICAgICAgICAgICBlbmFibGVXaGF0c0FwcDogdHJ1ZSxcbiAgICAgICAgICAgIGVuYWJsZUxpdmVDaGF0OiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgc2V0dGluZ3Mgb24gZXJyb3JcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNpdGU6IHtcbiAgICAgICAgICB0aXRsZTogJ1ByZW1pdW0gQ2hvaWNlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgdHJ1c3RlZCBwYXJ0bmVyIGluIER1YmFpIHJlYWwgZXN0YXRlJyxcbiAgICAgICAgICBsb2dvOiAnL2xvZ28ucG5nJyxcbiAgICAgICAgICBmYXZpY29uOiAnL2Zhdmljb24uaWNvJ1xuICAgICAgICB9LFxuICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXG4gICAgICBwaG9uZTogbnVsbCxcbiAgICAgIGFkZHJlc3M6ICdEdWJhaSwgVUFFJyxcbiAgICAgIHdoYXRzYXBwOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHNvY2lhbDoge1xuICAgICAgICAgIGZhY2Vib29rOiAnJyxcbiAgICAgICAgICBpbnN0YWdyYW06ICcnLFxuICAgICAgICAgIHR3aXR0ZXI6ICcnLFxuICAgICAgICAgIGxpbmtlZGluOiAnJyxcbiAgICAgICAgICB5b3V0dWJlOiAnJyxcbiAgICAgICAgICB0aWt0b2s6ICcnLFxuICAgICAgICAgIHNuYXBjaGF0OiAnJyxcbiAgICAgICAgICB0ZWxlZ3JhbTogJycsXG4gICAgICAgICAgd2hhdHNhcHA6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHNlbzoge1xuICAgICAgICAgIG1ldGFUaXRsZTogJ1ByZW1pdW0gQ2hvaWNlIC0gRHViYWkgUmVhbCBFc3RhdGUnLFxuICAgICAgICAgIG1ldGFEZXNjcmlwdGlvbjogJ0Rpc2NvdmVyIHByZW1pdW0gcmVhbCBlc3RhdGUgb3Bwb3J0dW5pdGllcyBpbiBEdWJhaSB3aXRoIFByZW1pdW0gQ2hvaWNlLiBZb3VyIHRydXN0ZWQgcGFydG5lciBmb3IgbHV4dXJ5IHByb3BlcnRpZXMgYW5kIGludmVzdG1lbnQgc29sdXRpb25zLicsXG4gICAgICAgICAga2V5d29yZHM6ICdEdWJhaSByZWFsIGVzdGF0ZSwgbHV4dXJ5IHByb3BlcnRpZXMsIGludmVzdG1lbnQsIFByZW1pdW0gQ2hvaWNlJ1xuICAgICAgICB9LFxuICAgICAgICBmZWF0dXJlczoge1xuICAgICAgICAgIGVuYWJsZUJsb2c6IHRydWUsXG4gICAgICAgICAgZW5hYmxlTmV3c2xldHRlcjogdHJ1ZSxcbiAgICAgICAgICBlbmFibGVXaGF0c0FwcDogdHJ1ZSxcbiAgICAgICAgICBlbmFibGVMaXZlQ2hhdDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlU2V0dGluZ3Moc2V0dGluZ3NEYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIFRyYW5zZm9ybSBBUEkgZm9ybWF0IHRvIGRhdGFiYXNlIGNvbHVtbnNcbiAgICAgIGNvbnN0IGRiRGF0YTogYW55ID0ge307XG4gICAgICBcbiAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2l0ZSkge1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNpdGUudGl0bGUpIGRiRGF0YS5zaXRlX3RpdGxlID0gc2V0dGluZ3NEYXRhLnNpdGUudGl0bGU7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2l0ZS5kZXNjcmlwdGlvbikgZGJEYXRhLnNpdGVfZGVzY3JpcHRpb24gPSBzZXR0aW5nc0RhdGEuc2l0ZS5kZXNjcmlwdGlvbjtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zaXRlLmxvZ28pIGRiRGF0YS5zaXRlX2xvZ28gPSBzZXR0aW5nc0RhdGEuc2l0ZS5sb2dvO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNpdGUuZmF2aWNvbikgZGJEYXRhLnNpdGVfZmF2aWNvbiA9IHNldHRpbmdzRGF0YS5zaXRlLmZhdmljb247XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzZXR0aW5nc0RhdGEuY29udGFjdCkge1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLmNvbnRhY3QuZW1haWwpIGRiRGF0YS5jb250YWN0X2VtYWlsID0gc2V0dGluZ3NEYXRhLmNvbnRhY3QuZW1haWw7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuY29udGFjdC5waG9uZSkgZGJEYXRhLmNvbnRhY3RfcGhvbmUgPSBzZXR0aW5nc0RhdGEuY29udGFjdC5waG9uZTtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5jb250YWN0LmFkZHJlc3MpIGRiRGF0YS5jb250YWN0X2FkZHJlc3MgPSBzZXR0aW5nc0RhdGEuY29udGFjdC5hZGRyZXNzO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLmNvbnRhY3Qud2hhdHNhcHApIGRiRGF0YS5jb250YWN0X3doYXRzYXBwID0gc2V0dGluZ3NEYXRhLmNvbnRhY3Qud2hhdHNhcHA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzZXR0aW5nc0RhdGEuc29jaWFsKSB7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc29jaWFsLmZhY2Vib29rICE9PSB1bmRlZmluZWQpIGRiRGF0YS5zb2NpYWxfZmFjZWJvb2sgPSBzZXR0aW5nc0RhdGEuc29jaWFsLmZhY2Vib29rO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNvY2lhbC5pbnN0YWdyYW0gIT09IHVuZGVmaW5lZCkgZGJEYXRhLnNvY2lhbF9pbnN0YWdyYW0gPSBzZXR0aW5nc0RhdGEuc29jaWFsLmluc3RhZ3JhbTtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zb2NpYWwudHdpdHRlciAhPT0gdW5kZWZpbmVkKSBkYkRhdGEuc29jaWFsX3R3aXR0ZXIgPSBzZXR0aW5nc0RhdGEuc29jaWFsLnR3aXR0ZXI7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc29jaWFsLmxpbmtlZGluICE9PSB1bmRlZmluZWQpIGRiRGF0YS5zb2NpYWxfbGlua2VkaW4gPSBzZXR0aW5nc0RhdGEuc29jaWFsLmxpbmtlZGluO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNvY2lhbC55b3V0dWJlICE9PSB1bmRlZmluZWQpIGRiRGF0YS5zb2NpYWxfeW91dHViZSA9IHNldHRpbmdzRGF0YS5zb2NpYWwueW91dHViZTtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zb2NpYWwudGlrdG9rICE9PSB1bmRlZmluZWQpIGRiRGF0YS5zb2NpYWxfdGlrdG9rID0gc2V0dGluZ3NEYXRhLnNvY2lhbC50aWt0b2s7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc29jaWFsLnNuYXBjaGF0ICE9PSB1bmRlZmluZWQpIGRiRGF0YS5zb2NpYWxfc25hcGNoYXQgPSBzZXR0aW5nc0RhdGEuc29jaWFsLnNuYXBjaGF0O1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLnNvY2lhbC50ZWxlZ3JhbSAhPT0gdW5kZWZpbmVkKSBkYkRhdGEuc29jaWFsX3RlbGVncmFtID0gc2V0dGluZ3NEYXRhLnNvY2lhbC50ZWxlZ3JhbTtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5zb2NpYWwud2hhdHNhcHAgIT09IHVuZGVmaW5lZCkgZGJEYXRhLnNvY2lhbF93aGF0c2FwcCA9IHNldHRpbmdzRGF0YS5zb2NpYWwud2hhdHNhcHA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2VvKSB7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2VvLm1ldGFUaXRsZSkgZGJEYXRhLnNlb19tZXRhX3RpdGxlID0gc2V0dGluZ3NEYXRhLnNlby5tZXRhVGl0bGU7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2VvLm1ldGFEZXNjcmlwdGlvbikgZGJEYXRhLnNlb19tZXRhX2Rlc2NyaXB0aW9uID0gc2V0dGluZ3NEYXRhLnNlby5tZXRhRGVzY3JpcHRpb247XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuc2VvLmtleXdvcmRzKSBkYkRhdGEuc2VvX2tleXdvcmRzID0gc2V0dGluZ3NEYXRhLnNlby5rZXl3b3JkcztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHNldHRpbmdzRGF0YS5mZWF0dXJlcykge1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLmZlYXR1cmVzLmVuYWJsZUJsb2cgIT09IHVuZGVmaW5lZCkgZGJEYXRhLmZlYXR1cmVzX2VuYWJsZV9ibG9nID0gc2V0dGluZ3NEYXRhLmZlYXR1cmVzLmVuYWJsZUJsb2c7XG4gICAgICAgIGlmIChzZXR0aW5nc0RhdGEuZmVhdHVyZXMuZW5hYmxlTmV3c2xldHRlciAhPT0gdW5kZWZpbmVkKSBkYkRhdGEuZmVhdHVyZXNfZW5hYmxlX25ld3NsZXR0ZXIgPSBzZXR0aW5nc0RhdGEuZmVhdHVyZXMuZW5hYmxlTmV3c2xldHRlcjtcbiAgICAgICAgaWYgKHNldHRpbmdzRGF0YS5mZWF0dXJlcy5lbmFibGVXaGF0c0FwcCAhPT0gdW5kZWZpbmVkKSBkYkRhdGEuZmVhdHVyZXNfZW5hYmxlX3doYXRzYXBwID0gc2V0dGluZ3NEYXRhLmZlYXR1cmVzLmVuYWJsZVdoYXRzQXBwO1xuICAgICAgICBpZiAoc2V0dGluZ3NEYXRhLmZlYXR1cmVzLmVuYWJsZUxpdmVDaGF0ICE9PSB1bmRlZmluZWQpIGRiRGF0YS5mZWF0dXJlc19lbmFibGVfbGl2ZV9jaGF0ID0gc2V0dGluZ3NEYXRhLmZlYXR1cmVzLmVuYWJsZUxpdmVDaGF0O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBzZXR0aW5ncyBleGlzdFxuICAgICAgY29uc3QgW2V4aXN0aW5nUm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ1NFTEVDVCBpZCBGUk9NIHNpdGVfc2V0dGluZ3MgTElNSVQgMScpO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBleGlzdGluZ1Jvd3MgYXMgYW55W107XG4gICAgICBcbiAgICAgIGlmIChleGlzdGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzZXR0aW5nc1xuICAgICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyhkYkRhdGEpO1xuICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gZGJEYXRhW2ZpZWxkXSk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgICAgYFVQREFURSBzaXRlX3NldHRpbmdzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICAgICAgWy4uLnZhbHVlcywgZXhpc3RpbmdbMF0uaWRdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW5zZXJ0IG5ldyBzZXR0aW5ncyB3aXRoIGRlZmF1bHRzXG4gICAgICAgIGNvbnN0IGRlZmF1bHREYXRhID0ge1xuICAgICAgICAgIHNpdGVfdGl0bGU6ICdQcmVtaXVtIENob2ljZScsXG4gICAgICAgICAgc2l0ZV9kZXNjcmlwdGlvbjogJ1lvdXIgdHJ1c3RlZCBwYXJ0bmVyIGluIER1YmFpIHJlYWwgZXN0YXRlJyxcbiAgICAgICAgICBzaXRlX2xvZ286ICcvbG9nby5wbmcnLFxuICAgICAgICAgIHNpdGVfZmF2aWNvbjogJy9mYXZpY29uLmljbycsXG4gICAgICAgICAgY29udGFjdF9lbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgIGNvbnRhY3RfcGhvbmU6IG51bGwsXG4gICAgICBjb250YWN0X2FkZHJlc3M6ICdEdWJhaSwgVUFFJyxcbiAgICAgIGNvbnRhY3Rfd2hhdHNhcHA6IG51bGwsXG4gICAgICAgICAgc29jaWFsX2ZhY2Vib29rOiAnJyxcbiAgICAgICAgICBzb2NpYWxfaW5zdGFncmFtOiAnJyxcbiAgICAgICAgICBzb2NpYWxfdHdpdHRlcjogJycsXG4gICAgICAgICAgc29jaWFsX2xpbmtlZGluOiAnJyxcbiAgICAgICAgICBzb2NpYWxfeW91dHViZTogJycsXG4gICAgICAgICAgc2VvX21ldGFfdGl0bGU6ICdQcmVtaXVtIENob2ljZSAtIER1YmFpIFJlYWwgRXN0YXRlJyxcbiAgICAgICAgICBzZW9fbWV0YV9kZXNjcmlwdGlvbjogJ0Rpc2NvdmVyIHByZW1pdW0gcmVhbCBlc3RhdGUgb3Bwb3J0dW5pdGllcyBpbiBEdWJhaSB3aXRoIFByZW1pdW0gQ2hvaWNlLiBZb3VyIHRydXN0ZWQgcGFydG5lciBmb3IgbHV4dXJ5IHByb3BlcnRpZXMgYW5kIGludmVzdG1lbnQgc29sdXRpb25zLicsXG4gICAgICAgICAgc2VvX2tleXdvcmRzOiAnRHViYWkgcmVhbCBlc3RhdGUsIGx1eHVyeSBwcm9wZXJ0aWVzLCBpbnZlc3RtZW50LCBQcmVtaXVtIENob2ljZScsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX2Jsb2c6IHRydWUsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX25ld3NsZXR0ZXI6IHRydWUsXG4gICAgICAgICAgZmVhdHVyZXNfZW5hYmxlX3doYXRzYXBwOiB0cnVlLFxuICAgICAgICAgIGZlYXR1cmVzX2VuYWJsZV9saXZlX2NoYXQ6IGZhbHNlLFxuICAgICAgICAgIC4uLmRiRGF0YVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmtleXMoZGVmYXVsdERhdGEpO1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBmaWVsZHMubWFwKCgpID0+ICc/Jykuam9pbignLCAnKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiBkZWZhdWx0RGF0YVtmaWVsZF0pO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBJTlNFUlQgSU5UTyBzaXRlX3NldHRpbmdzICgke2ZpZWxkcy5qb2luKCcsICcpfSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCkgVkFMVUVTICgke3BsYWNlaG9sZGVyc30sIE5PVygpLCBOT1coKSlgLFxuICAgICAgICAgIHZhbHVlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFNldHRpbmdzKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByZXNlbnRhdGlvbiBzbGlkZXMgbWFuYWdlbWVudFxuICBzdGF0aWMgYXN5bmMgZ2V0UHJlc2VudGF0aW9uU2xpZGVzKHByb2plY3RJZDogbnVtYmVyKTogUHJvbWlzZTxQcmVzZW50YXRpb25TbGlkZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCAqIEZST00gcHJlc2VudGF0aW9uX3NsaWRlcyBXSEVSRSBwcm9qZWN0X2lkID0gPyBPUkRFUiBCWSBzbGlkZV9udW1iZXIgQVNDJyxcbiAgICAgICAgW3Byb2plY3RJZF1cbiAgICAgICk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiByb3dzIGFzIFByZXNlbnRhdGlvblNsaWRlW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByZXNlbnRhdGlvbiBzbGlkZXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVQcmVzZW50YXRpb25TbGlkZShzbGlkZURhdGE6IE9taXQ8UHJlc2VudGF0aW9uU2xpZGUsICdpZCcgfCAnY3JlYXRlZF9hdCc+KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdGhlIG5leHQgc2xpZGUgbnVtYmVyIGZvciB0aGlzIHByb2plY3RcbiAgICAgIGNvbnN0IFttYXhTbGlkZVJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUIENPQUxFU0NFKE1BWChzbGlkZV9udW1iZXIpLCAwKSArIDEgYXMgbmV4dF9zbGlkZV9udW1iZXIgRlJPTSBwcmVzZW50YXRpb25fc2xpZGVzIFdIRVJFIHByb2plY3RfaWQgPSA/JyxcbiAgICAgICAgW3NsaWRlRGF0YS5wcm9qZWN0X2lkXVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5leHRTbGlkZU51bWJlciA9IChtYXhTbGlkZVJvd3MgYXMgYW55KVswXS5uZXh0X3NsaWRlX251bWJlcjtcblxuICAgICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICAgIGBJTlNFUlQgSU5UTyBwcmVzZW50YXRpb25fc2xpZGVzIFxuICAgICAgICAgKHByb2plY3RfaWQsIHNsaWRlX251bWJlciwgdGl0bGUsIGNvbnRlbnQsIGRlc2NyaXB0aW9uLCBpbWFnZV91cmwsIGJhY2tncm91bmRfaW1hZ2UsIGFuaW1hdGlvbl90eXBlLCBkdXJhdGlvbiwgdm9pY2Vfb3Zlcl91cmwpXG4gICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8pYCxcbiAgICAgICAgW1xuICAgICAgICAgIHNsaWRlRGF0YS5wcm9qZWN0X2lkLFxuICAgICAgICAgIHNsaWRlRGF0YS5zbGlkZV9udW1iZXIgfHwgbmV4dFNsaWRlTnVtYmVyLFxuICAgICAgICAgIHNsaWRlRGF0YS50aXRsZSxcbiAgICAgICAgICBzbGlkZURhdGEuY29udGVudCxcbiAgICAgICAgICBzbGlkZURhdGEuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICBzbGlkZURhdGEuaW1hZ2VfdXJsIHx8IG51bGwsXG4gICAgICAgICAgc2xpZGVEYXRhLmJhY2tncm91bmRfaW1hZ2UgfHwgbnVsbCxcbiAgICAgICAgICBzbGlkZURhdGEuYW5pbWF0aW9uX3R5cGUgfHwgJ2ZhZGVJbicsXG4gICAgICAgICAgc2xpZGVEYXRhLmR1cmF0aW9uIHx8IDUwMDAsXG4gICAgICAgICAgc2xpZGVEYXRhLnZvaWNlX292ZXJfdXJsIHx8IG51bGxcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gKHJlc3VsdCBhcyBhbnkpLmluc2VydElkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwcmVzZW50YXRpb24gc2xpZGU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVByZXNlbnRhdGlvblNsaWRlKHNsaWRlSWQ6IG51bWJlciwgc2xpZGVEYXRhOiBQYXJ0aWFsPFByZXNlbnRhdGlvblNsaWRlPik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHNsaWRlRGF0YSkuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdpZCcgJiYga2V5ICE9PSAnY3JlYXRlZF9hdCcpO1xuICAgICAgY29uc3Qgc2V0Q2xhdXNlID0gZmllbGRzLm1hcChmaWVsZCA9PiBgJHtmaWVsZH0gPSA/YCkuam9pbignLCAnKTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGZpZWxkcy5tYXAoZmllbGQgPT4gc2xpZGVEYXRhW2ZpZWxkIGFzIGtleW9mIFByZXNlbnRhdGlvblNsaWRlXSk7XG5cbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYFVQREFURSBwcmVzZW50YXRpb25fc2xpZGVzIFNFVCAke3NldENsYXVzZX0gV0hFUkUgaWQgPSA/YCxcbiAgICAgICAgWy4uLnZhbHVlcywgc2xpZGVJZF1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByZXNlbnRhdGlvbiBzbGlkZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZVByZXNlbnRhdGlvblNsaWRlKHNsaWRlSWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIHByZXNlbnRhdGlvbl9zbGlkZXMgV0hFUkUgaWQgPSA/JywgW3NsaWRlSWRdKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHByZXNlbnRhdGlvbiBzbGlkZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZVByZXNlbnRhdGlvblNsaWRlc0J5UHJvamVjdChwcm9qZWN0SWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIHByZXNlbnRhdGlvbl9zbGlkZXMgV0hFUkUgcHJvamVjdF9pZCA9ID8nLCBbcHJvamVjdElkXSk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwcmVzZW50YXRpb24gc2xpZGVzIGZvciBwcm9qZWN0OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBIZXJvIEltYWdlcyBNYW5hZ2VtZW50XG4gIHN0YXRpYyBhc3luYyBnZXRIZXJvSW1hZ2VzKCk6IFByb21pc2U8SGVyb0ltYWdlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUICogRlJPTSBoZXJvX2ltYWdlcyBPUkRFUiBCWSBvcmRlcl9pbmRleCBBU0MsIGNyZWF0ZWRfYXQgREVTQydcbiAgICAgICk7XG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiByb3dzIGFzIEhlcm9JbWFnZVtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBoZXJvIGltYWdlczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUhlcm9JbWFnZShpbWFnZURhdGE6IE9taXQ8SGVyb0ltYWdlLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8SGVyb0ltYWdlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBuZXh0IG9yZGVyIGluZGV4XG4gICAgICBjb25zdCBbbWF4T3JkZXJSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgJ1NFTEVDVCBDT0FMRVNDRShNQVgob3JkZXJfaW5kZXgpLCAwKSArIDEgYXMgbmV4dF9vcmRlciBGUk9NIGhlcm9faW1hZ2VzJ1xuICAgICAgKTtcbiAgICAgIGNvbnN0IG5leHRPcmRlciA9IChtYXhPcmRlclJvd3MgYXMgYW55KVswXS5uZXh0X29yZGVyO1xuXG4gICAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgYElOU0VSVCBJTlRPIGhlcm9faW1hZ2VzIFxuICAgICAgICAgKHVybCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBhbHRfdGV4dCwgaXNfYWN0aXZlLCBvcmRlcl9pbmRleCwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdClcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgTk9XKCksIE5PVygpKWAsXG4gICAgICAgIFtcbiAgICAgICAgICBpbWFnZURhdGEudXJsLFxuICAgICAgICAgIGltYWdlRGF0YS50aXRsZSxcbiAgICAgICAgICBpbWFnZURhdGEuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICBpbWFnZURhdGEuYWx0X3RleHQgfHwgaW1hZ2VEYXRhLnRpdGxlLFxuICAgICAgICAgIGltYWdlRGF0YS5pc19hY3RpdmUgIT09IHVuZGVmaW5lZCA/IGltYWdlRGF0YS5pc19hY3RpdmUgOiB0cnVlLFxuICAgICAgICAgIGltYWdlRGF0YS5vcmRlcl9pbmRleCB8fCBuZXh0T3JkZXJcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW5zZXJ0SWQgPSAocmVzdWx0IGFzIGFueSkuaW5zZXJ0SWQ7XG4gICAgICBcbiAgICAgIC8vIEZldGNoIGFuZCByZXR1cm4gdGhlIGNyZWF0ZWQgaW1hZ2VcbiAgICAgIGNvbnN0IFtuZXdJbWFnZVJvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAnU0VMRUNUICogRlJPTSBoZXJvX2ltYWdlcyBXSEVSRSBpZCA9ID8nLFxuICAgICAgICBbaW5zZXJ0SWRdXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25uZWN0aW9uLnJlbGVhc2UoKTtcbiAgICAgIHJldHVybiAobmV3SW1hZ2VSb3dzIGFzIEhlcm9JbWFnZVtdKVswXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgaGVybyBpbWFnZTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlSGVyb0ltYWdlKGltYWdlSWQ6IG51bWJlciwgaW1hZ2VEYXRhOiBQYXJ0aWFsPEhlcm9JbWFnZT4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgXG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyhpbWFnZURhdGEpLmZpbHRlcihrZXkgPT4gXG4gICAgICAgIGtleSAhPT0gJ2lkJyAmJiBrZXkgIT09ICdjcmVhdGVkX2F0JyAmJiBrZXkgIT09ICd1cGRhdGVkX2F0J1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKGZpZWxkID0+IGAke2ZpZWxkfSA9ID9gKS5qb2luKCcsICcpO1xuICAgICAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcChmaWVsZCA9PiBpbWFnZURhdGFbZmllbGQgYXMga2V5b2YgSGVyb0ltYWdlXSk7XG5cbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICBgVVBEQVRFIGhlcm9faW1hZ2VzIFNFVCAke3NldENsYXVzZX0sIHVwZGF0ZWRfYXQgPSBOT1coKSBXSEVSRSBpZCA9ID9gLFxuICAgICAgICBbLi4udmFsdWVzLCBpbWFnZUlkXVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gKHJlc3VsdCBhcyBhbnkpLmFmZmVjdGVkUm93cyA+IDA7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGhlcm8gaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVIZXJvSW1hZ2UoaW1hZ2VJZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBoZXJvX2ltYWdlcyBXSEVSRSBpZCA9ID8nLCBbaW1hZ2VJZF0pO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICByZXR1cm4gKHJlc3VsdCBhcyBhbnkpLmFmZmVjdGVkUm93cyA+IDA7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGhlcm8gaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFJIEFQSSBTZXR0aW5ncyBNYW5hZ2VtZW50XG4gIHN0YXRpYyBhc3luYyBnZXRBSVNldHRpbmdzKCk6IFByb21pc2U8QUlBcGlTZXR0aW5ncyB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgICAgY29uc3QgW3Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGFpX2FwaV9zZXR0aW5ncyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MgTElNSVQgMScpO1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gcm93cyBhcyBBSUFwaVNldHRpbmdzW107XG4gICAgICByZXR1cm4gc2V0dGluZ3MubGVuZ3RoID4gMCA/IHNldHRpbmdzWzBdIDogbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQUkgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHNhdmVBSVNldHRpbmdzKHNldHRpbmdzRGF0YTogT21pdDxBSUFwaVNldHRpbmdzLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8QUlBcGlTZXR0aW5ncz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHNldHRpbmdzIGV4aXN0XG4gICAgICBjb25zdCBbZXhpc3RpbmdSb3dzXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSgnU0VMRUNUIGlkIEZST00gYWlfYXBpX3NldHRpbmdzIExJTUlUIDEnKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gZXhpc3RpbmdSb3dzIGFzIGFueVtdO1xuICAgICAgXG4gICAgICBpZiAoZXhpc3RpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3Rpbmcgc2V0dGluZ3NcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICAgICAgIGBVUERBVEUgYWlfYXBpX3NldHRpbmdzIFNFVCBcbiAgICAgICAgICAgb3BlbmFpX2FwaV9rZXkgPSA/LCBvcGVuYWlfbW9kZWwgPSA/LCBvcGVuYWlfbWF4X3Rva2VucyA9ID8sIG9wZW5haV90ZW1wZXJhdHVyZSA9ID8sXG4gICAgICAgICAgIGdlbWluaV9hcGlfa2V5ID0gPywgZ2VtaW5pX21vZGVsID0gPywgY2xhdWRlX2FwaV9rZXkgPSA/LCBjbGF1ZGVfbW9kZWwgPSA/LFxuICAgICAgICAgICBkZWVwc2Vla19hcGlfa2V5ID0gPywgZGVlcHNlZWtfbW9kZWwgPSA/LCBkZWVwc2Vla19tYXhfdG9rZW5zID0gPywgZGVlcHNlZWtfdGVtcGVyYXR1cmUgPSA/LFxuICAgICAgICAgICBkZWZhdWx0X3Byb3ZpZGVyID0gPywgYWlfZW5hYmxlZCA9ID8sIHJhdGVfbGltaXRfcGVyX21pbnV0ZSA9ID8sIHJhdGVfbGltaXRfcGVyX2hvdXIgPSA/LFxuICAgICAgICAgICBzeXN0ZW1fcHJvbXB0ID0gPywgcHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZCA9ID8sIHByb3BlcnR5X3N1Z2dlc3Rpb25zX2NvdW50ID0gPywgY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyA9ID8sXG4gICAgICAgICAgIHVwZGF0ZWRfYXQgPSBOT1coKVxuICAgICAgICAgICBXSEVSRSBpZCA9ID9gLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5vcGVuYWlfYXBpX2tleSB8fCAnJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5vcGVuYWlfbW9kZWwgfHwgJ2dwdC0zLjUtdHVyYm8nLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLm9wZW5haV9tYXhfdG9rZW5zIHx8IDEwMDAsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEub3BlbmFpX3RlbXBlcmF0dXJlIHx8IDAuNyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5nZW1pbmlfYXBpX2tleSB8fCAnJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5nZW1pbmlfbW9kZWwgfHwgJ2dlbWluaS1wcm8nLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmNsYXVkZV9hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmNsYXVkZV9tb2RlbCB8fCAnY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5JyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5kZWVwc2Vla19hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZXBzZWVrX21vZGVsIHx8ICdkZWVwc2Vlay1jaGF0JyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5kZWVwc2Vla19tYXhfdG9rZW5zIHx8IDEwMDAsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuZGVlcHNlZWtfdGVtcGVyYXR1cmUgfHwgMC43LFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZmF1bHRfcHJvdmlkZXIgfHwgJ29wZW5haScsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuYWlfZW5hYmxlZCAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3NEYXRhLmFpX2VuYWJsZWQgOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnJhdGVfbGltaXRfcGVyX21pbnV0ZSB8fCAxMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5yYXRlX2xpbWl0X3Blcl9ob3VyIHx8IDEwMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5zeXN0ZW1fcHJvbXB0IHx8ICdZb3UgYXJlIGFuIGV4cGVydCByZWFsIGVzdGF0ZSBjb25zdWx0YW50IHdpdGggZGVlcCBrbm93bGVkZ2Ugb2YgdGhlIER1YmFpIGFuZCBVQUUgcHJvcGVydHkgbWFya2V0LicsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEucHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZCAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3NEYXRhLnByb3BlcnR5X3N1Z2dlc3Rpb25zX2VuYWJsZWQgOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnByb3BlcnR5X3N1Z2dlc3Rpb25zX2NvdW50IHx8IDQsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyAhPT0gdW5kZWZpbmVkID8gc2V0dGluZ3NEYXRhLmNvbnRhY3RfaW5mb19pbl9yZXNwb25zZXMgOiB0cnVlLFxuICAgICAgICAgICAgZXhpc3RpbmdbMF0uaWRcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbnNlcnQgbmV3IHNldHRpbmdzXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgICAgICBgSU5TRVJUIElOVE8gYWlfYXBpX3NldHRpbmdzIFxuICAgICAgICAgICAob3BlbmFpX2FwaV9rZXksIG9wZW5haV9tb2RlbCwgb3BlbmFpX21heF90b2tlbnMsIG9wZW5haV90ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgIGdlbWluaV9hcGlfa2V5LCBnZW1pbmlfbW9kZWwsIGNsYXVkZV9hcGlfa2V5LCBjbGF1ZGVfbW9kZWwsXG4gICAgICAgICAgICBkZWVwc2Vla19hcGlfa2V5LCBkZWVwc2Vla19tb2RlbCwgZGVlcHNlZWtfbWF4X3Rva2VucywgZGVlcHNlZWtfdGVtcGVyYXR1cmUsXG4gICAgICAgICAgICBkZWZhdWx0X3Byb3ZpZGVyLCBhaV9lbmFibGVkLCByYXRlX2xpbWl0X3Blcl9taW51dGUsIHJhdGVfbGltaXRfcGVyX2hvdXIsXG4gICAgICAgICAgICBzeXN0ZW1fcHJvbXB0LCBwcm9wZXJ0eV9zdWdnZXN0aW9uc19lbmFibGVkLCBwcm9wZXJ0eV9zdWdnZXN0aW9uc19jb3VudCwgY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpXG4gICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgTk9XKCksIE5PVygpKWAsXG4gICAgICAgICAgW1xuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLm9wZW5haV9hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLm9wZW5haV9tb2RlbCB8fCAnZ3B0LTMuNS10dXJibycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEub3BlbmFpX21heF90b2tlbnMgfHwgMTAwMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5vcGVuYWlfdGVtcGVyYXR1cmUgfHwgMC43LFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmdlbWluaV9hcGlfa2V5IHx8ICcnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmdlbWluaV9tb2RlbCB8fCAnZ2VtaW5pLXBybycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuY2xhdWRlX2FwaV9rZXkgfHwgJycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuY2xhdWRlX21vZGVsIHx8ICdjbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjknLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZXBzZWVrX2FwaV9rZXkgfHwgJycsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuZGVlcHNlZWtfbW9kZWwgfHwgJ2RlZXBzZWVrLWNoYXQnLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLmRlZXBzZWVrX21heF90b2tlbnMgfHwgMTAwMCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5kZWVwc2Vla190ZW1wZXJhdHVyZSB8fCAwLjcsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEuZGVmYXVsdF9wcm92aWRlciB8fCAnb3BlbmFpJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5haV9lbmFibGVkICE9PSB1bmRlZmluZWQgPyBzZXR0aW5nc0RhdGEuYWlfZW5hYmxlZCA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEucmF0ZV9saW1pdF9wZXJfbWludXRlIHx8IDEwLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnJhdGVfbGltaXRfcGVyX2hvdXIgfHwgMTAwLFxuICAgICAgICAgICAgc2V0dGluZ3NEYXRhLnN5c3RlbV9wcm9tcHQgfHwgJ1lvdSBhcmUgYW4gZXhwZXJ0IHJlYWwgZXN0YXRlIGNvbnN1bHRhbnQgd2l0aCBkZWVwIGtub3dsZWRnZSBvZiB0aGUgRHViYWkgYW5kIFVBRSBwcm9wZXJ0eSBtYXJrZXQuJyxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5wcm9wZXJ0eV9zdWdnZXN0aW9uc19lbmFibGVkICE9PSB1bmRlZmluZWQgPyBzZXR0aW5nc0RhdGEucHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZCA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nc0RhdGEucHJvcGVydHlfc3VnZ2VzdGlvbnNfY291bnQgfHwgNCxcbiAgICAgICAgICAgIHNldHRpbmdzRGF0YS5jb250YWN0X2luZm9faW5fcmVzcG9uc2VzICE9PSB1bmRlZmluZWQgPyBzZXR0aW5nc0RhdGEuY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyA6IHRydWVcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QUlTZXR0aW5ncygpIGFzIEFJQXBpU2V0dGluZ3M7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBBSSBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuLy8gU3RhbmRhbG9uZSBxdWVyeSBmdW5jdGlvbiBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGNvbnN0IHF1ZXJ5ID0gTXlTUUxEYXRhYmFzZS5xdWVyeS5iaW5kKE15U1FMRGF0YWJhc2UpO1xuXG4vLyBFeHBvcnQgZ2V0RGF0YWJhc2UgZnVuY3Rpb24gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXRhYmFzZSgpIHtcbiAgcmV0dXJuIHBvb2w7XG59XG5cbi8vIEV4cG9ydCBnZXRDb25uZWN0aW9uIGZ1bmN0aW9uIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbigpIHtcbiAgcmV0dXJuIGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xufVxuXG4vLyBFeHBvcnQgRGF0YWJhc2UgY2xhc3MgYWxpYXMgZm9yIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBEYXRhYmFzZSA9IE15U1FMRGF0YWJhc2U7XG5cbmV4cG9ydCBkZWZhdWx0IE15U1FMRGF0YWJhc2U7Il0sIm5hbWVzIjpbIm15c3FsIiwiZGJDb25maWciLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkRCX0hPU1QiLCJ1c2VyIiwiREJfVVNFUiIsInBhc3N3b3JkIiwiREJfUEFTU1dPUkQiLCJkYXRhYmFzZSIsIkRCX05BTUUiLCJwb3J0IiwiREJfUE9SVCIsIk51bWJlciIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiLCJlbmFibGVLZWVwQWxpdmUiLCJpZGxlVGltZW91dCIsIm1heElkbGUiLCJtdWx0aXBsZVN0YXRlbWVudHMiLCJwb29sIiwiY3JlYXRlUG9vbCIsIk15U1FMRGF0YWJhc2UiLCJ0ZXN0Q29ubmVjdGlvbiIsImNvbm5lY3Rpb24iLCJnZXRDb25uZWN0aW9uIiwicGluZyIsInJlbGVhc2UiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbGVhbnVwIiwiZW5kIiwiZXhlY3V0ZVF1ZXJ5IiwicXVlcnkiLCJwYXJhbXMiLCJyZXN1bHQiLCJleGVjdXRlIiwic3FsIiwiaW5pdGlhbGl6ZSIsImlzQ29ubmVjdGVkIiwiRXJyb3IiLCJpbml0aWFsaXplVGFibGVzIiwiYWRkTWlzc2luZ1NvY2lhbENvbHVtbnMiLCJhbHRlclRhYmxlU1FMIiwiY3JlYXRlVGFibGVzU1FMIiwiY3JlYXRlRGVmYXVsdEFkbWluIiwiZXhpc3RpbmdVc2VycyIsImxlbmd0aCIsInVwZGF0ZUFydGljbGVzVGFibGUiLCJjb2x1bW5zVG9BZGQiLCJuYW1lIiwiZGVmaW5pdGlvbiIsImNvbHVtbiIsInJvd3MiLCJnZXRQcm9qZWN0cyIsInBhcnNlSnNvbkZpZWxkIiwiZmllbGQiLCJKU09OIiwicGFyc2UiLCJzcGxpdCIsIm1hcCIsIml0ZW0iLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsInByb2plY3RzIiwicHJvamVjdCIsImdhbGxlcnkiLCJmZWF0dXJlcyIsImFtZW5pdGllcyIsInByb3BlcnR5X3R5cGVzIiwic3ViX3Byb2plY3RzIiwibWVkaWFfZmlsZXMiLCJ1bml0cyIsInByb3BlcnR5X3R5cGUiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJyZWxlYXNlRXJyb3IiLCJnZXRQcm9qZWN0c0J5RGV2ZWxvcGVyIiwiZGV2ZWxvcGVyTmFtZSIsImdldFByb2plY3RCeVNsdWciLCJzbHVnIiwicHJvamVjdFJvd3MiLCJzbGlkZVJvd3MiLCJpZCIsInBhcnNlQ29sb3JQYWxldHRlIiwiY29sb3JQYWxldHRlIiwicHJlc2VudGF0aW9uX3NsaWRlcyIsImNyZWF0ZVByb2plY3QiLCJkZXNjcmlwdGlvbiIsInRvTnVsbElmVW5kZWZpbmVkIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJmaW5hbFNsdWciLCJleGlzdGluZ1Jvd3MiLCJEYXRlIiwibm93IiwiZGV2ZWxvcGVyIiwiZGV2ZWxvcGVyX2lkIiwibG9jYXRpb24iLCJwcmljZSIsInN0YXR1cyIsImJlZHJvb21zIiwiYmF0aHJvb21zIiwiYXJlYSIsImltYWdlIiwic3RyaW5naWZ5IiwiY29vcmRpbmF0ZXNfbGF0IiwiY29vcmRpbmF0ZXNfbG5nIiwicHJlc2VudGF0aW9uX2ZpbGUiLCJwcmVzZW50YXRpb25fdXJsIiwicHJlc2VudGF0aW9uX2FuaW1hdGlvbnMiLCJwcmVzZW50YXRpb25fZWZmZWN0cyIsImZlYXR1cmVkX3ZpZGVvIiwic3R1ZGlvcyIsImluc2VydElkIiwiZGV2Um93cyIsInVwZGF0ZURldmVsb3BlclByb2plY3RDb3VudCIsImdldFByb2plY3RCeUlkIiwiY29kZSIsInVwZGF0ZVByb2plY3QiLCJ1cGRhdGVEYXRhIiwiY3VycmVudFJvd3MiLCJjdXJyZW50UHJvamVjdCIsIm9sZERldmVsb3BlciIsImZpZWxkcyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJzZXRDbGF1c2UiLCJqb2luIiwidmFsdWVzIiwibmV3RGV2ZWxvcGVyIiwiZGVsZXRlUHJvamVjdCIsImNoZWNrUm93cyIsInByb2plY3REYXRhIiwiYWZmZWN0ZWRSb3dzIiwiZ2V0RGV2ZWxvcGVycyIsImNyZWF0ZURldmVsb3BlciIsImxvZ28iLCJlc3RhYmxpc2hlZCIsInByb2plY3RzX2NvdW50Iiwid2Vic2l0ZSIsInBob25lIiwiZW1haWwiLCJnZXREZXZlbG9wZXJCeUlkIiwiZGV2ZWxvcGVycyIsInVwZGF0ZURldmVsb3BlciIsImRlbGV0ZURldmVsb3BlciIsImNvdW50Um93cyIsInByb2plY3RDb3VudCIsInByb2plY3RfY291bnQiLCJnZXRQcm9qZWN0c0J5RGV2ZWxvcGVySWQiLCJkZXZlbG9wZXJJZCIsImdldERldmVsb3BlcldpdGhQcm9qZWN0cyIsImRldmVsb3BlclJvd3MiLCJhc3NpZ25Qcm9qZWN0VG9EZXZlbG9wZXIiLCJwcm9qZWN0SWQiLCJ1bmFzc2lnblByb2plY3RGcm9tRGV2ZWxvcGVyIiwiY3VycmVudERldmVsb3BlcklkIiwiZGVsZXRlRGV2ZWxvcGVyV2l0aENhc2NhZGUiLCJiZWdpblRyYW5zYWN0aW9uIiwiZGVsZXRlZFByb2plY3RzIiwiY29tbWl0Iiwic3VjY2VzcyIsInJvbGxiYWNrIiwiY3JlYXRlUHJvamVjdFdpdGhEZXZlbG9wZXIiLCJwcm9qZWN0VG9DcmVhdGUiLCJwcm9qZWN0X25hbWUiLCJzdWJfcHJvamVjdCIsImRpc3BsYXlfdGl0bGUiLCJzdGFydGluZ19wcmljZSIsInByb2plY3RfdHlwZSIsInR5cGUiLCJjYXRlZ29yeSIsImNvbG9yX3BhbGV0dGUiLCJ1bml0c18xYmVkcm9vbSIsInVuaXRzXzJiZWRyb29tIiwidW5pdHNfM2JlZHJvb20iLCJ1bml0c180YmVkcm9vbSIsInVuaXRzXzViZWRyb29tIiwidW5pdHNfb2ZmaWNlIiwibGl2aW5nX3Jvb21zIiwiaXNfZmVhdHVyZWQiLCJicm9jaHVyZV91cmwiLCJ0aGVtZV9jb2xvciIsInZvaWNlX292ZXJfdXJsIiwibWVkaWFfdHlwZSIsImdldEFydGljbGVzIiwiYXJ0aWNsZXMiLCJhcnRpY2xlIiwidGFncyIsInJlYWRfdGltZSIsIm1ldGFfZGVzY3JpcHRpb24iLCJmZWF0dXJlZCIsInZpZXdzX2NvdW50IiwiY3JlYXRlQXJ0aWNsZSIsInRpdGxlIiwiY29udGVudCIsImV4Y2VycHQiLCJmZWF0dXJlZF9pbWFnZSIsImF1dGhvciIsInB1Ymxpc2hlZF9hdCIsImdldEFydGljbGVCeUlkIiwiaW5zZXJ0RXJyb3IiLCJ1cGRhdGVBcnRpY2xlIiwicHJvY2Vzc2VkRGF0YSIsImRlbGV0ZUFydGljbGUiLCJnZXRBcnRpY2xlQnlTbHVnIiwiZ2V0UHVibGlzaGVkQXJ0aWNsZXMiLCJvcHRpb25zIiwibGltaXQiLCJwdXNoIiwiZ2V0TWVkaWFGaWxlcyIsImNyZWF0ZU1lZGlhRmlsZSIsIm1lZGlhRGF0YSIsImZpbGVuYW1lIiwib3JpZ2luYWxfbmFtZSIsImZpbGVfcGF0aCIsImZpbGVfc2l6ZSIsIm1pbWVfdHlwZSIsImFsdF90ZXh0IiwidXBsb2FkZWRfYnkiLCJnZXRNZWRpYUZpbGVCeUlkIiwibWVkaWFGaWxlcyIsInVwZGF0ZU1lZGlhRmlsZSIsImRlbGV0ZU1lZGlhRmlsZSIsImdldEhlcm9TZWN0aW9ucyIsImNyZWF0ZUhlcm9TZWN0aW9uIiwiaGVyb0RhdGEiLCJwYWdlIiwic3VidGl0bGUiLCJiYWNrZ3JvdW5kX2ltYWdlIiwiY3RhX3RleHQiLCJjdGFfbGluayIsImlzX2FjdGl2ZSIsImdldEhlcm9TZWN0aW9uQnlJZCIsImhlcm9TZWN0aW9ucyIsInVwZGF0ZUhlcm9TZWN0aW9uIiwiZGVsZXRlSGVyb1NlY3Rpb24iLCJnZXRVc2VyQnlFbWFpbCIsInVzZXJzIiwidXBkYXRlVXNlckxhc3RMb2dpbiIsInVzZXJJZCIsImNyZWF0ZUxvZyIsImxvZ0RhdGEiLCJsZXZlbCIsInVzZXJfaWQiLCJpcF9hZGRyZXNzIiwidXNlcl9hZ2VudCIsImRldGFpbHMiLCJnZXRTeXN0ZW1TdGF0cyIsImRldmVsb3BlckNvdW50IiwidXNlckNvdW50IiwibG9nQ291bnQiLCJ0b3RhbFByb2plY3RzIiwiY291bnQiLCJ0b3RhbERldmVsb3BlcnMiLCJ0b3RhbFVzZXJzIiwidG90YWxMb2dzIiwibGFzdEJhY2t1cCIsImdldFNldHRpbmdzIiwic2V0dGluZ3MiLCJkYlNldHRpbmdzIiwic2l0ZSIsInNpdGVfdGl0bGUiLCJzaXRlX2Rlc2NyaXB0aW9uIiwic2l0ZV9sb2dvIiwiZmF2aWNvbiIsInNpdGVfZmF2aWNvbiIsImNvbnRhY3QiLCJjb250YWN0X2VtYWlsIiwiY29udGFjdF9waG9uZSIsImFkZHJlc3MiLCJjb250YWN0X2FkZHJlc3MiLCJ3aGF0c2FwcCIsImNvbnRhY3Rfd2hhdHNhcHAiLCJzb2NpYWwiLCJmYWNlYm9vayIsInNvY2lhbF9mYWNlYm9vayIsImluc3RhZ3JhbSIsInNvY2lhbF9pbnN0YWdyYW0iLCJ0d2l0dGVyIiwic29jaWFsX3R3aXR0ZXIiLCJsaW5rZWRpbiIsInNvY2lhbF9saW5rZWRpbiIsInlvdXR1YmUiLCJzb2NpYWxfeW91dHViZSIsInRpa3RvayIsInNvY2lhbF90aWt0b2siLCJzbmFwY2hhdCIsInNvY2lhbF9zbmFwY2hhdCIsInRlbGVncmFtIiwic29jaWFsX3RlbGVncmFtIiwic29jaWFsX3doYXRzYXBwIiwic2VvIiwibWV0YVRpdGxlIiwic2VvX21ldGFfdGl0bGUiLCJtZXRhRGVzY3JpcHRpb24iLCJzZW9fbWV0YV9kZXNjcmlwdGlvbiIsImtleXdvcmRzIiwic2VvX2tleXdvcmRzIiwiZW5hYmxlQmxvZyIsImZlYXR1cmVzX2VuYWJsZV9ibG9nIiwiZW5hYmxlTmV3c2xldHRlciIsImZlYXR1cmVzX2VuYWJsZV9uZXdzbGV0dGVyIiwiZW5hYmxlV2hhdHNBcHAiLCJmZWF0dXJlc19lbmFibGVfd2hhdHNhcHAiLCJlbmFibGVMaXZlQ2hhdCIsImZlYXR1cmVzX2VuYWJsZV9saXZlX2NoYXQiLCJ1cGRhdGVTZXR0aW5ncyIsInNldHRpbmdzRGF0YSIsImRiRGF0YSIsImV4aXN0aW5nIiwiZGVmYXVsdERhdGEiLCJwbGFjZWhvbGRlcnMiLCJnZXRQcmVzZW50YXRpb25TbGlkZXMiLCJjcmVhdGVQcmVzZW50YXRpb25TbGlkZSIsInNsaWRlRGF0YSIsIm1heFNsaWRlUm93cyIsInByb2plY3RfaWQiLCJuZXh0U2xpZGVOdW1iZXIiLCJuZXh0X3NsaWRlX251bWJlciIsInNsaWRlX251bWJlciIsImltYWdlX3VybCIsImFuaW1hdGlvbl90eXBlIiwiZHVyYXRpb24iLCJ1cGRhdGVQcmVzZW50YXRpb25TbGlkZSIsInNsaWRlSWQiLCJkZWxldGVQcmVzZW50YXRpb25TbGlkZSIsImRlbGV0ZVByZXNlbnRhdGlvblNsaWRlc0J5UHJvamVjdCIsImdldEhlcm9JbWFnZXMiLCJjcmVhdGVIZXJvSW1hZ2UiLCJpbWFnZURhdGEiLCJtYXhPcmRlclJvd3MiLCJuZXh0T3JkZXIiLCJuZXh0X29yZGVyIiwidXJsIiwib3JkZXJfaW5kZXgiLCJuZXdJbWFnZVJvd3MiLCJ1cGRhdGVIZXJvSW1hZ2UiLCJpbWFnZUlkIiwiZGVsZXRlSGVyb0ltYWdlIiwiZ2V0QUlTZXR0aW5ncyIsInNhdmVBSVNldHRpbmdzIiwib3BlbmFpX2FwaV9rZXkiLCJvcGVuYWlfbW9kZWwiLCJvcGVuYWlfbWF4X3Rva2VucyIsIm9wZW5haV90ZW1wZXJhdHVyZSIsImdlbWluaV9hcGlfa2V5IiwiZ2VtaW5pX21vZGVsIiwiY2xhdWRlX2FwaV9rZXkiLCJjbGF1ZGVfbW9kZWwiLCJkZWVwc2Vla19hcGlfa2V5IiwiZGVlcHNlZWtfbW9kZWwiLCJkZWVwc2Vla19tYXhfdG9rZW5zIiwiZGVlcHNlZWtfdGVtcGVyYXR1cmUiLCJkZWZhdWx0X3Byb3ZpZGVyIiwiYWlfZW5hYmxlZCIsInJhdGVfbGltaXRfcGVyX21pbnV0ZSIsInJhdGVfbGltaXRfcGVyX2hvdXIiLCJzeXN0ZW1fcHJvbXB0IiwicHJvcGVydHlfc3VnZ2VzdGlvbnNfZW5hYmxlZCIsInByb3BlcnR5X3N1Z2dlc3Rpb25zX2NvdW50IiwiY29udGFjdF9pbmZvX2luX3Jlc3BvbnNlcyIsImJpbmQiLCJnZXREYXRhYmFzZSIsIkRhdGFiYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mysql-database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/aws-ssl-profiles","vendor-chunks/iconv-lite","vendor-chunks/long","vendor-chunks/lru-cache","vendor-chunks/denque","vendor-chunks/is-property","vendor-chunks/lru.min","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/named-placeholders","vendor-chunks/generate-function","vendor-chunks/safer-buffer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fsettings%2Froute&page=%2Fapi%2Fadmin%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsettings%2Froute.ts&appDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBerlin%5CDesktop%5Csssq-main%5Csssq-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();