"use strict";(()=>{var e={};e.id=5019,e.ids=[5019],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},73292:e=>{e.exports=require("fs/promises")},71017:e=>{e.exports=require("path")},7574:(e,s,r)=>{r.r(s),r.d(s,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>f,staticGenerationAsyncStorage:()=>v});var t={};r.r(t),r.d(t,{POST:()=>l});var i=r(49303),o=r(88716),a=r(60670),u=r(87070),n=r(73292),p=r(71017),d=r(57147);async function l(e){try{let s=(await e.formData()).get("video");if(!s)return u.NextResponse.json({success:!1,error:"No video file provided"},{status:400});if(!s.type.startsWith("video/"))return u.NextResponse.json({success:!1,error:"Invalid file type. Please upload a video file."},{status:400});if(s.size>262144e3)return u.NextResponse.json({success:!1,error:"File size too large. Maximum size is 250MB."},{status:400});let r=(0,p.join)(process.cwd(),"public","uploads","videos");(0,d.existsSync)(r)||await (0,n.mkdir)(r,{recursive:!0});let t=Date.now(),i=s.name.replace(/[^a-zA-Z0-9.-]/g,"_"),o=`${t}_${i}`,a=(0,p.join)(r,o),l=await s.arrayBuffer(),c=Buffer.from(l);await (0,n.writeFile)(a,c);let m=`/uploads/videos/${o}`;return u.NextResponse.json({success:!0,message:"Video uploaded successfully",videoUrl:m,filename:o,size:s.size,type:s.type})}catch(e){return u.NextResponse.json({success:!1,error:"Failed to upload video"},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/admin/upload-video/route",pathname:"/api/admin/upload-video",filename:"route",bundlePath:"app/api/admin/upload-video/route"},resolvedPagePath:"C:\\Users\\Berlin\\Desktop\\sssq-main\\sssq-main\\app\\api\\admin\\upload-video\\route.ts",nextConfigOutput:"standalone",userland:t}),{requestAsyncStorage:m,staticGenerationAsyncStorage:v,serverHooks:f}=c,x="/api/admin/upload-video/route";function g(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:v})}}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[8948,5972],()=>r(7574));module.exports=t})();