(()=>{var e={};e.id=3,e.ids=[3],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},81726:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(66136),a(90596),a(53538),a(96560);var r=a(23191),s=a(88716),l=a(37922),i=a.n(l),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,66136)),"C:\\Users\\Berlin\\Desktop\\sssq-main\\sssq-main\\app\\admin\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"C:\\Users\\Berlin\\Desktop\\sssq-main\\sssq-main\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,53538)),"C:\\Users\\Berlin\\Desktop\\sssq-main\\sssq-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,96560)),"C:\\Users\\Berlin\\Desktop\\sssq-main\\sssq-main\\app\\not-found.tsx"]}],c=["C:\\Users\\Berlin\\Desktop\\sssq-main\\sssq-main\\app\\admin\\page.tsx"],m="/admin/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},15200:(e,t,a)=>{Promise.resolve().then(a.bind(a,92273))},92273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>$});var r=a(10326),s=a(17577),l=a(30058),i=a(90434);function n({onLogin:e}){let[t,a]=(0,s.useState)({email:"",password:""}),[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(""),m=async a=>{a.preventDefault(),o(!0),c("");try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(a.ok){let t=await a.json();localStorage.setItem("admin_token",t.token),localStorage.setItem("admin_user",JSON.stringify(t.user)),e(t.token)}else{let e=await a.json();c(e.error||"Invalid credentials")}}catch(e){c("Connection error. Please try again.")}finally{o(!1)}};return(0,r.jsxs)("div",{className:"admin-panel min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-30 dark:opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2300A693' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),r.jsx("header",{className:"relative z-10 p-6 lg:p-8",children:(0,r.jsxs)(i.default,{href:"/",className:"flex items-center space-x-3 group w-fit",children:[r.jsx(l.E.div,{className:"w-12 h-12 bg-green-ocean rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:r.jsx("span",{className:"text-white font-bold text-xl",children:"PC"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xl font-bold text-slate-800 dark:text-white font-serif",children:"Premium Choice"}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Admin Panel"})]})]})}),r.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-120px)] px-6",children:r.jsx(l.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-800 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-slate-200 dark:border-slate-700",children:[(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white font-serif mb-2",children:"Welcome Back"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Sign in to access the admin dashboard"})]}),(0,r.jsxs)(l.E.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},onSubmit:m,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:t.email,onChange:e=>a({...t,email:e.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-ocean focus:border-transparent transition-all duration-300",placeholder:"Enter your email address",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Password"}),r.jsx("input",{type:"password",id:"password",value:t.password,onChange:e=>a({...t,password:e.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-ocean focus:border-transparent transition-all duration-300",placeholder:"Enter your password",required:!0})]}),d&&r.jsx(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 text-sm font-medium",children:d}),r.jsx(l.E.button,{type:"submit",disabled:n,className:"w-full bg-green-ocean hover:bg-green-ocean-light text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]",whileHover:{scale:n?1:1.02},whileTap:{scale:n?1:.98},children:n?(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Signing In..."})]}):"Sign In"})]}),r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.6},className:"mt-6 text-center",children:r.jsx(i.default,{href:"/",className:"text-slate-600 dark:text-slate-400 hover:text-green-ocean transition-colors text-sm font-medium",children:"← Back to Website"})})]})})})]})}var o=a(88129),d=a(46226);function c({projects:e,onUpdate:t}){let[a,i]=(0,s.useState)(!1),[n,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[p,b]=(0,s.useState)([]),[g,f]=(0,s.useState)(null),[y,j]=(0,s.useState)(null),[v,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(0),[C,_]=(0,s.useState)(""),[D,S]=(0,s.useState)(!1),[E,P]=(0,s.useState)(null),[T,A]=(0,s.useState)([]),[F,L]=(0,s.useState)([]),[M,U]=(0,s.useState)(!1),[$,I]=(0,s.useState)(!1),[O,B]=(0,s.useState)([]),[z,R]=(0,s.useState)(""),[V,q]=(0,s.useState)({name:"",description:"",image:"",featured_video:"",type:"Apartment",developer:"",location:"",starting_price:"",bedrooms:0,bathrooms:0,studios:0,units_1bedroom:0,units_2bedroom:0,units_3bedroom:0,units_4bedroom:0,units_5bedroom:0,units_6bedroom:0,units_7bedroom:0,units_office:0,shop_commercial:0,area:"",features:[],property_types:[],gallery:[],presentation_file:"",project_type:"ready",status:"Available",is_featured:!1,units_8plus_bedrooms:"",custom_bedroom_count:""}),W=e=>{q(t=>({...t,developer:e})),e.length>0?(L(T.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))),U(!0)):U(!1)},H=e=>{q(t=>({...t,developer:e.name})),U(!1),I(!1)},J=async e=>{I(!1);try{let t=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),a=await fetch("/api/admin/developers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,slug:t,description:`${e} - Real Estate Developer`,projects_count:0,status:"Active",location:"Dubai, UAE",established:new Date().getFullYear()})});if(a.ok){let t=await a.json(),r=t.data||t;A(e=>[...e,r]),q(t=>({...t,developer:e})),U(!1),localStorage.setItem("developer_added","true"),alert(`✅ New developer "${e}" created successfully!
You can now assign projects to this developer.`)}else{let e=await a.json();alert(`❌ Failed to create new developer: ${e.message||e.error||"Unknown error"}`)}}catch(e){alert("❌ Error creating new developer. Please check your connection and try again.")}},G=(e,t)=>{t?B(t=>[...t,e]):B(t=>t.filter(t=>t!==e))},Y=async()=>{if(!V.developer||0===O.length){alert("Please select a developer and unit types first");return}try{let e=await fetch("/api/admin/ai-description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({developer:V.developer,unitTypes:O,projectName:V.name,location:V.location})});if(e.ok){let t=await e.json();R(t.description),q(e=>({...e,description:t.description}))}else alert("Failed to generate AI description")}catch(e){alert("Error generating AI description")}},X=async e=>{if(!e)return;let a=e.name.split(".").pop()?.toLowerCase();if(!["video/mp4","video/webm","video/mov","video/quicktime"].includes(e.type)&&!["mp4","webm","mov","quicktime"].includes(a||"")){alert("Please select a valid video file (MP4, WebM, MOV)");return}if(e.size>262144e3){alert("Video file is too large. Maximum size is 250MB");return}try{let a=new FormData;if(a.append("file",e),a.append("mediaType","video"),n?.id){a.append("projectId",n.id.toString());let e=await fetch("/api/admin/projects/upload-video",{method:"POST",body:a}),r=await e.json();if(e.ok&&r.success){let e=r.data.filePath;q(t=>({...t,featured_video:e})),alert("Video uploaded successfully!"),t()}else throw Error(r.error||"Upload failed")}else j(e),q(e=>({...e,featured_video:""})),alert("Video selected! It will be uploaded when you save the project.")}catch(t){let e=t instanceof Error?t.message:"Failed to upload video";alert(`Error uploading video: ${e}`)}},K=async e=>{if(e.preventDefault(),v)return;let a=[];if(V.name?.trim()||a.push("Project name is required"),V.developer?.trim()||a.push("Developer assignment is required"),V.location?.trim()||a.push("Location is required"),V.starting_price?.trim()||a.push("Starting price is required"),V.description?.trim()||a.push("Description is required"),y&&(y.size>262144e3&&a.push("Video file must be smaller than 250MB"),["video/mp4","video/webm","video/quicktime"].includes(y.type)||a.push("Video must be MP4, WebM, or MOV format")),a.length>0){alert("Please fix the following errors:\n\n"+a.join("\n"));return}w(!0),k(0),_("Preparing project...");try{let e=T.find(e=>e.name===V.developer),a=e?.id,r=!1;if(!a&&V.developer)try{_("Creating developer profile..."),k(10);let e=V.developer.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),t=await fetch("/api/admin/developers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:V.developer,slug:e,description:`${V.developer} - Real Estate Developer`,projects_count:0,status:"Active",location:"Dubai, UAE",established:new Date().getFullYear()})});if(t.ok){let e=await t.json(),s=e.data||e;a=s.id,A(e=>[...e,s]),localStorage.setItem("developer_added","true"),r=!0}else{let e=await t.json();alert(`❌ Failed to create developer: ${e.message||e.error||"Unknown error"}`);return}}catch(e){alert("❌ Error creating developer. Please check your connection and try again.");return}_(n?"Updating project...":"Creating project..."),k(30);let s=n?`/api/admin/projects/${n.id}`:"/api/admin/projects",l={...V,developer_id:a},o=new AbortController,d=setTimeout(()=>o.abort(),3e4),m=await fetch(s,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),signal:o.signal});if(clearTimeout(d),m.ok){let e=await m.json();if(!n&&y){_("Uploading video file..."),k(50);let t=e.data?.id;if(t)try{let e=(y.size/1048576).toFixed(2);_(`Uploading video (${e}MB)...`);let a=new FormData;a.append("file",y),a.append("projectId",t.toString()),a.append("mediaType","video");let s=await fetch("/api/admin/projects/upload-video",{method:"POST",body:a}),l=await s.json();if(s.ok&&l.success){if(k(80),_("Finalizing project..."),(await fetch(`/api/admin/projects/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...V,featured_video:l.data.filePath})})).ok){k(100),_("Upload completed successfully!");let e=r?`✅ Project and video uploaded successfully! Developer "${V.developer}" was automatically created.`:"✅ Project and video uploaded successfully!";alert(e)}else{let e=r?`Video uploaded and developer "${V.developer}" was auto-created, but failed to update project. Please refresh the page.`:"Video uploaded but failed to update project. Please refresh the page.";alert(e)}}else{let e=r?`Project created and developer "${V.developer}" was auto-created, but video upload failed: ${l.error||"Unknown error"}`:`Project created but video upload failed: ${l.error||"Unknown error"}`;alert(e)}j(null)}catch(t){let e=r?`Project created and developer "${V.developer}" was auto-created, but video upload failed. Please try uploading the video again by editing the project.`:"Project created but video upload failed. Please try uploading the video again by editing the project.";alert(e),j(null)}else{let e=r?`Project created and developer "${V.developer}" was auto-created, but could not upload video - no project ID found. Please edit the project to add the video.`:"Project created but could not upload video - no project ID found. Please edit the project to add the video.";alert(e),j(null)}}else{k(100),_("Project created successfully!");let e=r?`✅ Project created successfully! Developer "${V.developer}" was automatically created.`:"✅ Project created successfully!";alert(e)}t(),i(!1),c(null),j(null),setTimeout(()=>{w(!1),k(0),_("")},1500),q({name:"",description:"",image:"",featured_video:"",type:"Apartment",developer:"",location:"",starting_price:"",bedrooms:0,bathrooms:0,studios:0,units_1bedroom:0,units_2bedroom:0,units_3bedroom:0,units_4bedroom:0,units_5bedroom:0,units_office:0,area:"",features:[],property_types:[],gallery:[],presentation_file:"",project_type:"ready",status:"Available",is_featured:!1})}else{try{let e=await m.json();alert(`Error saving project: ${e.message||e.error||"Failed to save project"}`)}catch(e){alert(`Error saving project: HTTP ${m.status} - ${m.statusText}`)}y&&j(null),w(!1),k(0),_("")}}catch(t){let e="Error saving project";"AbortError"===t.name?e="Request timed out. Please check your connection and try again.":t.message&&(e=`Error: ${t.message}`),alert(e),y&&j(null),w(!1),k(0),_("")}},Q=e=>{c(e),q(e),j(null),i(!0)},Z=async e=>{P(e),S(!0)},ee=async()=>{if(E)try{(await fetch(`/api/admin/projects/${E}`,{method:"DELETE"})).ok?(t(),S(!1),P(null)):alert("Error deleting project")}catch(e){alert("Error deleting project")}},et=()=>{S(!1),P(null)},ea=(e,t)=>{q(a=>({...a,features:a.features?.map((a,r)=>r===e?t:a)||[]}))},er=e=>{q(t=>({...t,features:t.features?.filter((t,a)=>a!==e)||[]}))};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Projects"}),r.jsx("p",{className:"text-brand-gray",children:"Manage your property listings"})]}),(0,r.jsxs)("button",{onClick:()=>{c(null),q({name:"",description:"",image:"",featured_video:"",type:"Apartment",developer:"",location:"",starting_price:"",bedrooms:0,bathrooms:0,studios:0,units_1bedroom:0,units_2bedroom:0,units_3bedroom:0,units_4bedroom:0,units_5bedroom:0,units_6bedroom:0,units_7bedroom:0,units_office:0,shop_commercial:0,area:"",features:[],property_types:[],gallery:[],presentation_file:"",project_type:"ready",status:"Available",is_featured:!1,units_8plus_bedrooms:"",custom_bedroom_count:""}),j(null),B([]),U(!1),I(!1),R(""),i(!0)},className:"flex items-center space-x-2 px-6 py-3 bg-brand-green hover:bg-brand-green/80 text-white rounded-lg transition-colors hover:scale-105 active:scale-95",children:[r.jsx("i",{className:"ri-add-line"}),r.jsx("span",{children:"Add Project"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden hover:scale-102 transition-transform",children:[(0,r.jsxs)("div",{className:"relative h-48",children:[e.image&&""!==e.image.trim()?r.jsx(d.default,{src:e.image,alt:e.name,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw",className:"object-cover"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-brand-green/20 to-brand-green/5 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center text-white/60",children:[r.jsx("i",{className:"ri-image-line text-3xl mb-2 block"}),r.jsx("span",{className:"text-sm",children:"No Image"})]})}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[e.is_featured&&r.jsx("span",{className:"px-2 py-1 bg-brand-green text-white text-xs rounded-full",children:"Featured"}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"Available"===e.status?"bg-green-500/20 text-green-400":"Sold"===e.status?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.status})]})]}),(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.name}),r.jsx("p",{className:"text-brand-gray text-sm mb-4 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-brand-gray",children:[r.jsx("i",{className:"ri-map-pin-line mr-2"}),e.location]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-brand-gray",children:[r.jsx("i",{className:"ri-price-tag-3-line mr-2"}),"Starting from ",e.starting_price]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:()=>Q(e),className:"flex-1 px-4 py-2 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 rounded-lg transition-colors text-sm",children:[r.jsx("i",{className:"ri-edit-line mr-1"}),"Edit"]}),(0,r.jsxs)("button",{onClick:()=>e.id&&Z(e.id),className:"flex-1 px-4 py-2 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded-lg transition-colors text-sm",children:[r.jsx("i",{className:"ri-delete-bin-line mr-1"}),"Delete"]})]})]})]},e.id))}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fadeIn",children:(0,r.jsxs)("div",{className:"bg-brand-dark border border-white/10 rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto animate-scaleIn",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:n?"Edit Project":"Add New Project"}),r.jsx("button",{onClick:()=>{i(!1),j(null)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx("i",{className:"ri-close-line text-xl text-white"})})]}),(0,r.jsxs)("form",{onSubmit:K,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Developer"}),r.jsx("input",{type:"text",value:V.developer||"",onChange:e=>W(e.target.value),onFocus:()=>{V.developer&&F.length>0&&U(!0)},className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Enter developer name",required:!0}),M&&(0,r.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-white/10 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[F.map(e=>(0,r.jsxs)("div",{onClick:()=>H(e),className:"px-4 py-2 hover:bg-white/10 cursor-pointer text-white border-b border-white/5 last:border-b-0",children:[r.jsx("div",{className:"font-medium",children:e.name}),e.projects_count>0&&(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:[e.projects_count," projects"]})]},e.id)),V.developer&&!T.some(e=>e.name.toLowerCase()===V.developer?.toLowerCase())&&(0,r.jsxs)("div",{onClick:()=>I(!0),className:"px-4 py-2 hover:bg-brand-green/20 cursor-pointer text-brand-green border-t border-white/10",children:[(0,r.jsxs)("div",{className:"font-medium",children:['+ Add "',V.developer,'" as new developer']}),r.jsx("div",{className:"text-xs",children:"Create new developer entry"})]})]}),$&&(0,r.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-white/10 rounded-lg shadow-lg p-4",children:[(0,r.jsxs)("div",{className:"text-white mb-3",children:[r.jsx("div",{className:"font-medium",children:"Create New Developer"}),(0,r.jsxs)("div",{className:"text-sm text-gray-400",children:["Name: ",V.developer]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>J(V.developer||""),className:"px-3 py-1 bg-brand-green text-white rounded text-sm hover:bg-brand-green/80",children:"Create"}),r.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-500",children:"Cancel"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sub-Project"}),r.jsx("input",{type:"text",value:V.category||"",onChange:e=>q(t=>({...t,category:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Enter sub-project name"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type of Project"}),(0,r.jsxs)("select",{value:V.type||"Apartment",onChange:e=>q(t=>({...t,type:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-brand-green",children:[r.jsx("option",{value:"Apartment",children:"Apartment"}),r.jsx("option",{value:"Villa",children:"Villa"}),r.jsx("option",{value:"Townhouse",children:"Townhouse"}),r.jsx("option",{value:"Office",children:"Office"}),r.jsx("option",{value:"Community",children:"Community"}),r.jsx("option",{value:"Commercial",children:"Commercial"}),r.jsx("option",{value:"Stand-alone",children:"Stand-alone"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Property Type"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Apartment","Villa","Town House","Office"].map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:(V.property_types||[]).includes(e),onChange:t=>{let a=V.property_types||[];t.target.checked?q(t=>({...t,property_types:[...a,e]})):q(t=>({...t,property_types:a.filter(t=>t!==e)}))},className:"w-4 h-4 text-brand-green bg-white/5 border-white/20 rounded focus:ring-brand-green focus:ring-2"}),r.jsx("span",{className:"text-white text-sm",children:e})]},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Project Name"}),r.jsx("input",{type:"text",value:V.name||"",onChange:e=>q(t=>({...t,name:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Enter project name",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Location"}),r.jsx("input",{type:"text",value:V.location||"",onChange:e=>q(t=>({...t,location:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Enter location",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Status"}),(0,r.jsxs)("select",{value:V.project_type||"ready",onChange:e=>q(t=>({...t,project_type:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-brand-green",children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"ready",children:"Ready"}),r.jsx("option",{value:"off-plan",children:"Off-Plan"})]})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Available Unit Types"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-8 gap-3",children:[{key:"studios",label:"Studio"},{key:"units_1bedroom",label:"1 Bedroom"},{key:"units_2bedroom",label:"2 Bedroom"},{key:"units_3bedroom",label:"3 Bedroom"},{key:"units_4bedroom",label:"4 Bedroom"},{key:"units_5bedroom",label:"5 Bedroom"},{key:"units_6bedroom",label:"6 Bedroom"},{key:"units_7bedroom",label:"7 Bedroom"},{key:"office",label:"Office"},{key:"shop_commercial",label:"Shop"},{key:"bathrooms",label:"Bathrooms"}].map(e=>(O.includes(e.label),(0,r.jsxs)("button",{type:"button",onClick:()=>{let t=(V[e.key]||0)>0?0:1;q(a=>({...a,[e.key]:t})),G(e.label,t>0)},className:`p-3 rounded-lg border text-sm font-medium transition-all ${(V[e.key]||0)>0?"bg-brand-green/20 border-brand-green text-brand-green":"bg-white/5 border-white/10 text-gray-400"}`,children:[r.jsx("div",{children:e.label}),r.jsx("div",{className:"text-xs mt-1",children:(V[e.key]||0)>0?"Available":"Not Available"})]},e.key)))}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"8+ Bedrooms (Custom)"}),(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsxs)("select",{value:V.units_8plus_bedrooms||"",onChange:e=>q(t=>({...t,units_8plus_bedrooms:e.target.value})),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-brand-green",children:[r.jsx("option",{value:"",children:"Select bedrooms"}),r.jsx("option",{value:"8",children:"8 Bedrooms"}),r.jsx("option",{value:"9",children:"9 Bedrooms"}),r.jsx("option",{value:"10",children:"10 Bedrooms"}),r.jsx("option",{value:"11",children:"11 Bedrooms"}),r.jsx("option",{value:"12",children:"12 Bedrooms"}),r.jsx("option",{value:"custom",children:"Custom (specify below)"})]}),"custom"===V.units_8plus_bedrooms&&r.jsx("input",{type:"number",min:"8",placeholder:"Enter number of bedrooms",value:V.custom_bedroom_count||"",onChange:e=>q(t=>({...t,custom_bedroom_count:e.target.value})),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green"})]}),V.units_8plus_bedrooms&&""!==V.units_8plus_bedrooms&&(0,r.jsxs)("div",{className:"mt-2 text-xs text-brand-green",children:["✓ ","custom"===V.units_8plus_bedrooms?`${V.custom_bedroom_count||"Custom"}`:V.units_8plus_bedrooms," bedroom units available"]})]}),O.length>0&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-brand-green/10 border border-brand-green/20 rounded-lg",children:[r.jsx("div",{className:"text-sm font-medium text-brand-green mb-2",children:"Selected Unit Types:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(e=>r.jsx("span",{className:"px-2 py-1 bg-brand-green/20 text-brand-green text-xs rounded-full",children:e},e))})]}),O.includes("Bathrooms")&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-white/5 border border-white/10 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Bathroom Configuration"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"1 Bathroom Units"}),r.jsx("input",{type:"number",min:"0",value:V.bathrooms||0,onChange:e=>q(t=>({...t,bathrooms:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-brand-green",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"2+ Bathroom Units"}),r.jsx("input",{type:"number",min:"0",value:V.bathrooms||0,onChange:e=>q(t=>({...t,bathrooms:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-brand-green",placeholder:"0"})]})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Starting Price"}),r.jsx("input",{type:"text",value:V.starting_price||"",onChange:e=>q(t=>({...t,starting_price:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"AED 1,500,000",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-white",children:"Description"}),r.jsx("button",{type:"button",onClick:Y,disabled:!V.developer||0===O.length,className:"px-3 py-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white text-xs rounded-lg hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"✨ AI Generate"})]}),r.jsx("textarea",{value:V.description||"",onChange:e=>q(t=>({...t,description:e.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Enter project description or use AI to generate one",rows:4,required:!0}),z&&r.jsx("div",{className:"mt-2 text-xs text-gray-400",children:'\uD83D\uDCA1 AI-generated description available. Click "AI Generate" to use it.'})]}),r.jsx("div",{children:(0,r.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:V.featured||!1,onChange:e=>q(t=>({...t,featured:e.target.checked})),className:"w-5 h-5 text-brand-green bg-white/5 border-white/20 rounded focus:ring-brand-green focus:ring-2"}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-sm font-medium text-white",children:"Featured Project"}),r.jsx("div",{className:"text-xs text-gray-400",children:"Highlight this project on homepage and promotional components"})]})]})}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Main Image"}),(0,r.jsxs)("div",{className:"space-y-4",children:[V.image&&r.jsx("div",{className:"relative w-full h-48 bg-white/5 rounded-lg overflow-hidden",children:r.jsx(d.default,{src:V.image,alt:"Project preview",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw",className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>h(!0),className:"flex-1 px-4 py-2 bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 rounded-lg transition-colors text-sm",children:[r.jsx("i",{className:"ri-image-line mr-2"}),"Pick Image"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{q(t=>({...t,image:e.target?.result}))},e.readAsDataURL(t)}},e.click()},className:"flex-1 px-4 py-2 bg-brand-green/20 text-brand-green hover:bg-brand-green/30 rounded-lg transition-colors text-sm",children:[r.jsx("i",{className:"ri-upload-line mr-2"}),"Upload New"]})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Project Video"}),(0,r.jsxs)("div",{className:"space-y-4",children:[V.featured_video&&r.jsx("div",{className:"relative w-full h-48 bg-white/5 rounded-lg overflow-hidden",children:(0,r.jsxs)("video",{controls:!0,className:"w-full h-full object-cover",preload:"metadata",children:[r.jsx("source",{src:V.featured_video,type:"video/mp4"}),"Your browser does not support the video tag."]})}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="video/mp4,video/webm,video/mov,video/quicktime",e.onchange=e=>{let t=e.target.files?.[0];t&&X(t)},e.click()},className:"flex-1 px-4 py-2 bg-purple-500/20 text-purple-400 hover:bg-purple-500/30 rounded-lg transition-colors text-sm",children:[r.jsx("i",{className:"ri-video-line mr-2"}),"Upload Video"]}),V.featured_video&&(0,r.jsxs)("button",{type:"button",onClick:()=>q(e=>({...e,featured_video:""})),className:"px-4 py-2 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded-lg transition-colors text-sm",children:[r.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Remove"]})]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Supported formats: MP4, WebM, MOV. Maximum size: 250MB"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",id:"featured",checked:V.is_featured||!1,onChange:e=>q(t=>({...t,is_featured:e.target.checked})),className:"w-4 h-4 text-brand-green bg-white/5 border-white/20 rounded focus:ring-brand-green focus:ring-2"}),r.jsx("label",{htmlFor:"featured",className:"text-white text-sm font-medium cursor-pointer",children:"Featured Project"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Features"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(V.features||[]).map((e,t)=>(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:e,onChange:e=>ea(t,e.target.value),className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Enter feature"}),r.jsx("button",{type:"button",onClick:()=>er(t),className:"px-3 py-2 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded-lg transition-colors",children:r.jsx("i",{className:"ri-delete-bin-line"})})]},t)),(0,r.jsxs)("button",{type:"button",onClick:()=>{q(e=>({...e,features:[...e.features||[],""]}))},className:"px-4 py-2 bg-brand-green/20 text-brand-green hover:bg-brand-green/30 rounded-lg transition-colors",children:[r.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]})]}),v&&(0,r.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-white text-sm font-medium",children:C}),(0,r.jsxs)("span",{className:"text-brand-green text-sm font-medium",children:[N,"%"]})]}),r.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-brand-green to-green-400 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${N}%`}})}),y&&(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:["Uploading: ",y.name," (",(y.size/1048576).toFixed(2),"MB)"]})]}),(0,r.jsxs)("div",{className:"flex space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{i(!1),j(null)},className:"flex-1 px-6 py-3 bg-white/5 text-white hover:bg-white/10 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:v,className:`flex-1 px-6 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${v?"bg-gray-500 cursor-not-allowed":"bg-brand-green hover:bg-brand-green/80"} text-white`,children:v?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:"Processing..."})]}):(0,r.jsxs)("span",{children:[n?"Update":"Create"," Project"]})})]})]})]})}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-brand-dark border border-white/10 rounded-xl p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Image"}),r.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx("i",{className:"ri-close-line text-xl text-white"})})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>{q(t=>({...t,image:e})),h(!1)},className:"relative aspect-square bg-white/5 rounded-lg overflow-hidden cursor-pointer hover:ring-2 hover:ring-brand-green transition-all",children:[r.jsx(d.default,{src:e,alt:`Option ${t+1}`,fill:!0,sizes:"(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-colors flex items-center justify-center",children:r.jsx("i",{className:"ri-check-line text-2xl text-white opacity-0 hover:opacity-100 transition-opacity"})})]},t))})]})}),r.jsx(o.M,{children:D&&r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:et,children:r.jsx(l.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-brand-dark/90 backdrop-blur-lg rounded-2xl p-8 border border-white/10 w-full max-w-md",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"mx-auto w-16 h-16 flex items-center justify-center rounded-full bg-red-500/20 text-red-500",children:r.jsx("i",{className:"ri-delete-bin-line text-3xl"})}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Delete Project"}),r.jsx("p",{className:"text-brand-gray",children:"Are you sure you want to delete this project? This action cannot be undone."}),(0,r.jsxs)("div",{className:"flex space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:et,className:"flex-1 px-6 py-3 bg-white/10 text-white hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"button",onClick:ee,className:"flex-1 px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Confirm"})]})]})})})})]})}function m({developer:e,onBack:t,onUpdate:a}){let[i,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,m]=(0,s.useState)({totalProjects:0,activeProjects:0,completedProjects:0,totalUnits:0,totalValue:0}),x=e=>e>=1e6?`${(e/1e6).toFixed(1)}M AED`:e>=1e3?`${(e/1e3).toFixed(0)}K AED`:`${e} AED`,u=e=>{switch(e){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"upcoming":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"on-hold":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),r.jsx("span",{children:"Back to Developers"})]})}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Developer Profile"})]}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-8 border border-blue-200 dark:border-blue-700/50",children:(0,r.jsxs)("div",{className:"flex items-start space-x-6",children:[r.jsx("div",{className:"flex-shrink-0",children:e.logo?r.jsx("img",{src:e.logo,alt:e.name,className:"w-24 h-24 rounded-xl object-cover border-4 border-white dark:border-gray-700 shadow-lg"}):r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center border-4 border-white dark:border-gray-700 shadow-lg",children:r.jsx("span",{className:"text-white text-2xl font-bold",children:e.name.charAt(0)})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.name}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${"Active"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:"Active"===e.status?"Active":"Inactive"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.established&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-blue-500",children:"\uD83D\uDCC5"}),(0,r.jsxs)("span",{children:["Established: ",e.established]})]}),e.location&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-blue-500",children:"\uD83D\uDCCD"}),r.jsx("span",{children:e.location})]}),e.email&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-blue-500",children:"✉️"}),r.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-blue-600 dark:hover:text-blue-400",children:e.email})]}),e.phone&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-blue-500",children:"\uD83D\uDCDE"}),r.jsx("a",{href:`tel:${e.phone}`,className:"hover:text-blue-600 dark:hover:text-blue-400",children:e.phone})]}),e.website&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-blue-500",children:"\uD83C\uDF10"}),r.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 dark:hover:text-blue-400",children:"Visit Website"})]})]}),e.description&&r.jsx("div",{className:"mt-4",children:r.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:e.description})})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.totalProjects}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total Projects"})]})}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.activeProjects}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Active Projects"})]})}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:c.completedProjects}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Completed"})]})}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:c.totalUnits.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total Units"})]})}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:x(c.totalValue)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total Value"})]})})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Associated Projects (",i.length,")"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["All projects developed by ",e.name]})]}),r.jsx("div",{className:"p-6",children:o?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading projects..."})]}):0===i.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83C\uDFD7️"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Projects Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This developer doesn't have any associated projects yet."})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.map(e=>(0,r.jsxs)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(e.status||"unknown")}`,children:(e.status||"unknown").charAt(0).toUpperCase()+(e.status||"unknown").slice(1)}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.type})]})]}),e.image&&r.jsx("img",{src:e.image,alt:e.name,className:"w-16 h-16 rounded-lg object-cover border border-gray-200 dark:border-gray-600"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.location&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:"\uD83D\uDCCD"}),r.jsx("span",{children:e.location})]}),e.price&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{children:"\uD83D\uDCB0"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:x(Number(e.price))})]})]}),e.description&&r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-3 line-clamp-2",children:e.description})]},e.id))})})]})]})}function x({developers:e,onUpdate:t}){let[a,i]=(0,s.useState)(!1),[n,c]=(0,s.useState)(null),[x,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)([]),[b,g]=(0,s.useState)("list"),[f,y]=(0,s.useState)(null),[j,v]=(0,s.useState)({name:"",slug:"",description:"",logo:"",established:"",projects_count:0,location:"",website:"",phone:"",email:"",status:"Active"}),[w,N]=(0,s.useState)({}),[k,C]=(0,s.useState)(!1),[_,D]=(0,s.useState)(!1),[S,E]=(0,s.useState)(null),[P,T]=(0,s.useState)([]),[A,F]=(0,s.useState)(!1),L=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),M=()=>{let e={};return j.name?.trim()||(e.name="Company name is required"),j.description?.trim()||(e.description="Description is required"),j.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)&&(e.email="Please enter a valid email address"),j.website&&!/^https?:\/\/.+/.test(j.website)&&(e.website="Website must start with http:// or https://"),j.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(j.phone.replace(/[\s\-\(\)]/g,""))&&(e.phone="Please enter a valid phone number"),N(e),0===Object.keys(e).length},U=async e=>{if(e.preventDefault(),M()){C(!0),N({});try{let e;let a={...j,slug:j.slug||L(j.name||""),projects_count:Number(j.projects_count)||0};e=n?await fetch(`/api/admin/developers?id=${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}):await fetch("/api/admin/developers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});let r=await e.json();e.ok?(i(!1),c(null),$(),t()):N({submit:r.message||"Failed to save developer"})}catch(e){N({submit:"An unexpected error occurred. Please try again."})}finally{C(!1)}}},$=()=>{v({name:"",slug:"",description:"",logo:"",established:"",projects_count:0,location:"",website:"",phone:"",email:"",status:"Active"}),N({})},I=e=>{c(e),v({name:e.name,slug:e.slug,description:e.description,logo:e.logo||"",established:e.established||"",projects_count:e.projects_count,location:e.location||"",website:e.website||"",phone:e.phone||"",email:e.email||"",status:e.status}),i(!0)},O=async e=>{if(e.id){E(e),F(!0),D(!0);try{let t=await fetch(`/api/admin/developers/${e.id}/projects`),a=await t.json(),r=a.success?a.data:[];T(r)}catch(e){T([])}finally{F(!1)}}},B=async e=>{if(e)try{let a=await fetch(`/api/admin/developers?id=${e}`,{method:"DELETE"}),r=await a.json();a.ok?(D(!1),E(null),T([]),r.deletedProjects>0?alert(`Developer deleted successfully! ${r.deletedProjects} associated project(s) were also removed.`):alert("Developer deleted successfully!"),t()):alert(`Failed to delete developer: ${r.message}`)}catch(e){alert("An error occurred while deleting the developer. Please try again.")}},z=e=>{y(e),g("profile")},R=e=>{v({...j,logo:e}),u(!1)};return"profile"===b&&f?r.jsx(m,{developer:f,onBack:()=>{g("list"),y(null)},onUpdate:t}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Developers Management"}),r.jsx("p",{className:"text-brand-gray",children:"Manage real estate developers and companies"})]}),(0,r.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"flex items-center space-x-2 px-6 py-3 bg-brand-green hover:bg-brand-green/80 text-white rounded-lg transition-colors",children:[r.jsx("i",{className:"ri-add-line text-xl"}),r.jsx("span",{children:"Add Developer"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e,t)=>(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/10 hover:border-brand-green/30 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-lg flex items-center justify-center overflow-hidden relative",children:e.logo?r.jsx(d.default,{src:e.logo,alt:e.name,fill:!0,sizes:"64px",className:"object-cover"}):r.jsx("i",{className:"ri-building-line text-2xl text-brand-green"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"Active"===e.status?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:e.status}),e.established&&(0,r.jsxs)("span",{className:"text-brand-gray text-sm",children:["Est. ",e.established]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-4",children:[e.location&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-brand-gray",children:[r.jsx("i",{className:"ri-map-pin-line"}),r.jsx("span",{className:"text-sm",children:e.location})]}),e.projects_count>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-brand-gray",children:[r.jsx("i",{className:"ri-building-2-line"}),(0,r.jsxs)("span",{className:"text-sm",children:[e.projects_count," Projects"]})]}),e.website&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-brand-gray",children:[r.jsx("i",{className:"ri-global-line"}),r.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:text-brand-green transition-colors",children:"Website"})]}),e.email&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-brand-gray",children:[r.jsx("i",{className:"ri-mail-line"}),r.jsx("span",{className:"text-sm",children:e.email})]}),e.phone&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-brand-gray",children:[r.jsx("i",{className:"ri-phone-line"}),r.jsx("span",{className:"text-sm",children:e.phone})]})]}),r.jsx("p",{className:"text-brand-gray text-sm mb-4 line-clamp-3",children:e.description}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>z(e),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-green-500/20 text-green-300 hover:bg-green-500/30 rounded-lg transition-colors",children:[r.jsx("i",{className:"ri-eye-line"}),r.jsx("span",{children:"Profile"})]}),(0,r.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I(e),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 rounded-lg transition-colors",children:[r.jsx("i",{className:"ri-edit-line"}),r.jsx("span",{children:"Edit"})]}),(0,r.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(e),disabled:A,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-red-500/20 text-red-300 hover:bg-red-500/30 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:[A?r.jsx("i",{className:"ri-loader-4-line animate-spin"}):r.jsx("i",{className:"ri-delete-bin-line"}),r.jsx("span",{children:"Delete"})]})]})]},e.id))}),0===e.length&&(0,r.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[r.jsx("i",{className:"ri-building-line text-6xl text-brand-gray mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Developers Found"}),r.jsx("p",{className:"text-brand-gray mb-6",children:"Start by adding your first developer"}),r.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"px-6 py-3 bg-brand-green hover:bg-brand-green/80 text-white rounded-lg transition-colors",children:"Add First Developer"})]}),r.jsx(o.M,{children:a&&r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",onClick:()=>i(!1),children:(0,r.jsxs)(l.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-brand-dark/90 backdrop-blur-lg rounded-2xl p-8 border border-white/10 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-white",children:n?"Edit Developer":"Add New Developer"}),r.jsx("button",{onClick:()=>i(!1),className:"text-brand-gray hover:text-white transition-colors",children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),(0,r.jsxs)("form",{onSubmit:U,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Company Name *"}),r.jsx("input",{type:"text",value:j.name||"",onChange:e=>{let t=e.target.value;v({...j,name:t,slug:L(t)}),w.name&&N({...w,name:""})},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-brand-gray focus:outline-none ${w.name?"border-red-500 focus:border-red-500":"border-white/20 focus:border-brand-green"}`,placeholder:"Enter company name",required:!0}),w.name&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.name})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Slug"}),r.jsx("input",{type:"text",value:j.slug||"",onChange:e=>v({...j,slug:e.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"company-slug"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Company Logo"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-lg flex items-center justify-center overflow-hidden relative",children:j.logo?r.jsx(d.default,{src:j.logo,alt:"Logo preview",fill:!0,sizes:"80px",className:"object-cover"}):r.jsx("i",{className:"ri-image-line text-2xl text-brand-gray"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("input",{type:"text",value:j.logo||"",onChange:e=>v({...j,logo:e.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green mb-2",placeholder:"Enter logo URL or select from gallery"}),r.jsx("button",{type:"button",onClick:()=>u(!0),className:"px-4 py-2 bg-brand-green/20 text-brand-green hover:bg-brand-green/30 rounded-lg transition-colors",children:"Select from Gallery"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Location"}),r.jsx("input",{type:"text",value:j.location||"",onChange:e=>v({...j,location:e.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"City, Country"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Established Year"}),r.jsx("input",{type:"text",value:j.established||"",onChange:e=>v({...j,established:e.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"2020"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Email"}),r.jsx("input",{type:"email",value:j.email||"",onChange:e=>{v({...j,email:e.target.value}),w.email&&N({...w,email:""})},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-brand-gray focus:outline-none ${w.email?"border-red-500 focus:border-red-500":"border-white/20 focus:border-brand-green"}`,placeholder:"contact@company.com"}),w.email&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.email})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Phone"}),r.jsx("input",{type:"tel",value:j.phone||"",onChange:e=>{v({...j,phone:e.target.value}),w.phone&&N({...w,phone:""})},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-brand-gray focus:outline-none ${w.phone?"border-red-500 focus:border-red-500":"border-white/20 focus:border-brand-green"}`,placeholder:"+1 (555) 123-4567"}),w.phone&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.phone})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Website"}),r.jsx("input",{type:"url",value:j.website||"",onChange:e=>{v({...j,website:e.target.value}),w.website&&N({...w,website:""})},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-brand-gray focus:outline-none ${w.website?"border-red-500 focus:border-red-500":"border-white/20 focus:border-brand-green"}`,placeholder:"https://company.com"}),w.website&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.website})]}),(j.projects_count&&j.projects_count>0||n)&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Projects Count"}),r.jsx("input",{type:"number",value:j.projects_count||"",onChange:e=>v({...j,projects_count:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Enter project count (optional)",min:"0"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Status"}),(0,r.jsxs)("select",{value:j.status||"Active",onChange:e=>v({...j,status:e.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-brand-green",children:[r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Description *"}),r.jsx("textarea",{value:j.description||"",onChange:e=>{v({...j,description:e.target.value}),w.description&&N({...w,description:""})},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-brand-gray focus:outline-none ${w.description?"border-red-500 focus:border-red-500":"border-white/20 focus:border-brand-green"}`,placeholder:"Enter company description...",rows:4,required:!0}),w.description&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.description})]}),(0,r.jsxs)("div",{className:"flex space-x-4 pt-4",children:[r.jsx(l.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!1),className:"flex-1 px-6 py-3 bg-white/10 text-white hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),r.jsx(l.E.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:k,className:"flex-1 px-6 py-3 bg-brand-green hover:bg-brand-green/80 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:k?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Updating...":"Creating..."]}):n?"Update Developer":"Create Developer"})]})]})]})})}),r.jsx(o.M,{children:x&&r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",onClick:()=>u(!1),children:(0,r.jsxs)(l.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-brand-dark/90 backdrop-blur-lg rounded-2xl p-8 border border-white/10 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-white",children:"Select Logo"}),r.jsx("button",{onClick:()=>u(!1),className:"text-brand-gray hover:text-white transition-colors",children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map((e,t)=>r.jsx(l.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>R(e),className:"aspect-square bg-white/10 rounded-lg overflow-hidden cursor-pointer hover:ring-2 hover:ring-brand-green transition-all",children:e&&""!==e.trim()?r.jsx(d.default,{src:e,alt:`Option ${t+1}`,fill:!0,sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw",className:"object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"No Image"})},t))}),0===h.length&&(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("i",{className:"ri-image-line text-4xl text-brand-gray mb-4"}),r.jsx("p",{className:"text-brand-gray",children:"No images available"})]})]})})}),r.jsx(o.M,{children:_&&S&&r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",onClick:()=>D(!1),children:r.jsx(l.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-brand-dark/90 backdrop-blur-lg rounded-2xl p-8 border border-white/10 w-full max-w-md",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:r.jsx("i",{className:"ri-delete-bin-line text-red-600 text-xl"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Developer"}),(0,r.jsxs)("p",{className:"text-brand-gray mb-4",children:["Are you sure you want to delete ",r.jsx("span",{className:"font-semibold text-white",children:S.name}),"?"]}),A?(0,r.jsxs)("div",{className:"flex items-center justify-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-brand-green"}),r.jsx("span",{className:"ml-2 text-brand-gray",children:"Checking associated projects..."})]}):P.length>0&&r.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("i",{className:"ri-alert-line text-yellow-500 text-lg mr-2"}),(0,r.jsxs)("p",{className:"text-yellow-200 text-sm",children:["This developer has ",P.length," associated project",1!==P.length?"s":"",". Deleting will remove these associations."]})]})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx(l.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>D(!1),className:"flex-1 px-4 py-2 bg-white/10 text-white hover:bg-white/20 rounded-lg transition-colors",children:"Cancel"}),r.jsx(l.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>B(S.id),disabled:A,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]})})})})]})}var u=a(77626),h=a.n(u);function p({mediaFiles:e,onSelect:t,onUpload:a,onClose:l}){let[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),c=async e=>{if(!e.type.startsWith("image/")){alert("Please select an image file");return}n(!0);try{await a(e)}catch(e){alert("Failed to upload image. Please try again.")}finally{n(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-black/90 backdrop-blur-xl border border-amber-500/30 rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-amber-500/20",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-white font-cormorant",children:"Select or Upload Image"}),r.jsx("p",{className:"text-amber-400/70 mt-1 text-sm sm:text-base",children:"Choose from existing media or upload new images"})]}),r.jsx("button",{onClick:l,className:"text-amber-400 hover:text-white transition-colors text-xl sm:text-2xl font-bold",children:"✕"})]}),(0,r.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[r.jsx("div",{className:`border-2 border-dashed rounded-xl p-4 sm:p-8 mb-6 text-center transition-all ${o?"border-amber-500 bg-amber-500/10":"border-amber-500/30 hover:border-amber-500/50"}`,onDrop:e=>{e.preventDefault(),d(!1);let t=Array.from(e.dataTransfer.files).find(e=>e.type.startsWith("image/"));t&&c(t)},onDragOver:e=>{e.preventDefault(),d(!0)},onDragLeave:e=>{e.preventDefault(),d(!1)},children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-amber-500/20 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-white font-medium mb-1 sm:mb-2 text-sm sm:text-base",children:i?"Uploading...":"Drag and drop images here, or click to browse"}),r.jsx("p",{className:"text-amber-400/70 text-xs sm:text-sm",children:"Supports JPG, PNG, GIF, WebP up to 10MB"})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&c(t)},className:"hidden",id:"file-upload",disabled:i}),r.jsx("label",{htmlFor:"file-upload",className:`px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium cursor-pointer transition-all text-sm sm:text-base ${i?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-amber-500 hover:bg-amber-600 text-black hover:shadow-lg"}`,children:i?"Uploading...":"Browse Files"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4 font-montserrat",children:["Existing Media (",e.length,")"]}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[r.jsx("div",{className:"text-4xl sm:text-6xl mb-3 sm:mb-4",children:"\uD83D\uDDBC️"}),r.jsx("p",{className:"text-amber-400/70 text-sm sm:text-base",children:"No media files found. Upload your first image above."})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 sm:gap-4",children:e.map(e=>(0,r.jsxs)("div",{onClick:()=>t(e.file_path),className:"relative group cursor-pointer rounded-lg overflow-hidden border border-amber-500/20 hover:border-amber-500 transition-all hover:scale-105",children:[r.jsx("div",{className:"aspect-square",children:r.jsx("img",{src:e.file_path,alt:e.alt_text||e.filename,className:"w-full h-full object-cover",loading:"lazy"})}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/60 transition-all flex items-center justify-center",children:(0,r.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-center",children:[r.jsx("div",{className:"bg-amber-500 text-black px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Select"}),r.jsx("p",{className:"text-white text-xs truncate px-1 sm:px-2",children:e.filename})]})})]},e.id))})]})]})]})})}let b={titles:[{name:"Playfair Display",value:"Playfair Display, serif",category:"Elegant Serif"},{name:"Cormorant Garamond",value:"Cormorant Garamond, serif",category:"Luxury Serif"},{name:"Crimson Text",value:"Crimson Text, serif",category:"Classic Serif"},{name:"Libre Baskerville",value:"Libre Baskerville, serif",category:"Modern Serif"}],subtitles:[{name:"Montserrat",value:"Montserrat, sans-serif",category:"Modern Sans"},{name:"Source Sans Pro",value:"Source Sans Pro, sans-serif",category:"Clean Sans"},{name:"Lato",value:"Lato, sans-serif",category:"Friendly Sans"},{name:"Open Sans",value:"Open Sans, sans-serif",category:"Versatile Sans"}],body:[{name:"Inter",value:"Inter, sans-serif",category:"Reading Sans"},{name:"Source Serif Pro",value:"Source Serif Pro, serif",category:"Reading Serif"},{name:"Merriweather",value:"Merriweather, serif",category:"Web Serif"},{name:"PT Serif",value:"PT Serif, serif",category:"Elegant Reading"}]};function g({onClose:e,onSave:t,editingArticle:a,mediaFiles:l}){let[i,n]=(0,s.useState)({title:a?.title||"",slug:a?.slug||"",excerpt:a?.excerpt||"",content:a?.content||"",featured_image:a?.featured_image||"",status:a?.status||"draft",tags:a?.tags||[],meta_title:a?.meta_title||"",meta_description:a?.meta_description||"",author_id:a?.author_id||1}),[o,d]=(0,s.useState)({content:i.content||"",selection:null}),[c,m]=(0,s.useState)(!1),[x,u]=(0,s.useState)(!1),[g,f]=(0,s.useState)(""),[y,j]=(0,s.useState)(""),[v,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(0),[C,_]=(0,s.useState)("Inter, sans-serif"),D=(0,s.useRef)(null);(0,s.useRef)(null);let S=l.filter(e=>e.mime_type?.startsWith("image/")),E=e=>{let t=D.current;if(t){switch(t.focus(),e){case"bold":document.execCommand("bold",!1);break;case"italic":document.execCommand("italic",!1);break;case"underline":document.execCommand("underline",!1);break;case"strikethrough":document.execCommand("strikeThrough",!1);break;case"link":let a=prompt("Enter URL:");a&&document.execCommand("createLink",!1,a);break;case"image":m(!0);break;case"formula":u(!0);break;case"quote":A();break;case"code":T();break;case"table":P();break;case"h1":case"h2":case"h3":case"h4":case"p":document.execCommand("formatBlock",!1,e);break;case"bulletlist":document.execCommand("insertUnorderedList",!1);break;case"numberlist":document.execCommand("insertOrderedList",!1);break;case"alignleft":document.execCommand("justifyLeft",!1);break;case"aligncenter":document.execCommand("justifyCenter",!1);break;case"alignright":document.execCommand("justifyRight",!1)}M()}},P=()=>{let e=`
      <table class="w-full border-collapse border border-amber-500/30 my-4">
        <thead>
          <tr class="bg-amber-500/10">
            <th class="border border-amber-500/30 px-4 py-2 text-amber-300">Header 1</th>
            <th class="border border-amber-500/30 px-4 py-2 text-amber-300">Header 2</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="border border-amber-500/30 px-4 py-2 text-white">Cell 1</td>
            <td class="border border-amber-500/30 px-4 py-2 text-white">Cell 2</td>
          </tr>
        </tbody>
      </table>
    `;document.execCommand("insertHTML",!1,e),M()},T=()=>{let e=`<pre class="bg-gray-800 border border-gray-600 rounded-lg p-4 my-4 overflow-x-auto"><code class="text-green-400 font-mono text-sm">// Your code here
console.log('Hello, World!');</code></pre>`;document.execCommand("insertHTML",!1,e),M()},A=()=>{let e=window.getSelection();if(e&&e.rangeCount>0){let t=e.getRangeAt(0),a=document.createElement("blockquote");if(a.className="border-l-4 border-amber-500 pl-4 italic text-amber-100 my-4 bg-black/20 py-2",e.toString())try{t.surroundContents(a)}catch{a.appendChild(t.extractContents()),t.insertNode(a)}else a.textContent="Enter your quote here...",t.insertNode(a)}M()},F=e=>{let t=`<img src="${e}" alt="Article image" class="max-w-full h-auto rounded-lg shadow-lg my-4" />`;document.execCommand("insertHTML",!1,t),m(!1),M()},L=async e=>{let t=new FormData;t.append("file",e),t.append("alt_text",`Article image: ${e.name}`),t.append("uploaded_by","1");let a=await fetch("/api/admin/media",{method:"POST",body:t});if(!a.ok)throw Error(`Failed to upload ${e.name}`);let r=await a.json();if(r.success&&r.data)return F(r.data.url||`/uploads/${r.data.filename}`),r.data;throw Error("Upload failed")},M=()=>{let e=D.current;if(e){let t=e.innerHTML;d(e=>({...e,content:t})),n(e=>({...e,content:t}))}},U=()=>{y.trim()&&!i.tags?.includes(y.trim())&&(n(e=>({...e,tags:[...e.tags||[],y.trim()]})),j(""))},$=e=>{n(t=>({...t,tags:t.tags?.filter(t=>t!==e)||[]}))},I=async()=>{try{await t(i)}catch(e){}};return(0,r.jsxs)("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-900 z-50 overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 opacity-5",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/20 via-transparent to-amber-600/20"}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                           radial-gradient(circle at 75% 75%, rgba(255, 215, 0, 0.1) 0%, transparent 50%)`}})]}),(0,r.jsxs)("div",{className:"relative h-full flex flex-col",children:[r.jsx("div",{className:"bg-black/80 backdrop-blur-xl border-b border-amber-500/20 px-4 sm:px-8 py-4 sm:py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("button",{onClick:e,className:"text-amber-400 hover:text-amber-300 transition-colors p-1 sm:p-2",children:"← Back to Admin"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[r.jsx("button",{onClick:I,className:"bg-amber-500 hover:bg-amber-600 text-black px-3 sm:px-6 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:"Save Draft"}),r.jsx("button",{onClick:()=>{n(e=>({...e,status:"published"})),I()},className:"bg-green-600 hover:bg-green-700 text-white px-3 sm:px-6 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:"Publish"})]})]})}),(0,r.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,r.jsxs)("div",{className:"w-80 bg-black/60 backdrop-blur-xl border-r border-amber-500/20 p-4 sm:p-6 overflow-y-auto",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-amber-400 mb-4 sm:mb-6",children:"Add New Article"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mb-6 sm:mb-8",children:"Craft your story with luxury and precision"}),(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-amber-300 mb-2",children:"Title"}),r.jsx("input",{type:"text",value:i.title,onChange:e=>n(t=>({...t,title:e.target.value})),className:"w-full bg-black/40 border border-amber-500/30 rounded-lg px-3 sm:px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 text-sm sm:text-base",placeholder:"Enter article title..."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-amber-300 mb-2",children:"Slug"}),r.jsx("input",{type:"text",value:i.slug,onChange:e=>n(t=>({...t,slug:e.target.value})),className:"w-full bg-black/40 border border-amber-500/30 rounded-lg px-3 sm:px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 text-sm sm:text-base",placeholder:"article-slug"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-amber-300 mb-2",children:"Excerpt"}),r.jsx("textarea",{value:i.excerpt,onChange:e=>n(t=>({...t,excerpt:e.target.value})),className:"w-full bg-black/40 border border-amber-500/30 rounded-lg px-3 sm:px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 resize-none text-sm sm:text-base",rows:3,placeholder:"Brief description..."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-amber-300 mb-2",children:"Featured Image"}),r.jsx("button",{onClick:()=>m(!0),className:"w-full bg-amber-500/10 hover:bg-amber-500/20 border border-amber-500/30 rounded-lg px-3 sm:px-4 py-2 text-amber-300 transition-colors text-sm sm:text-base",children:i.featured_image?"Change Image":"Select Image"}),i.featured_image&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:i.featured_image,alt:"Featured",className:"w-full h-20 object-cover rounded"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-amber-300 mb-2",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:i.tags?.map((e,t)=>r.jsxs("span",{className:"bg-amber-500/20 text-amber-300 px-2 py-1 rounded text-xs flex items-center gap-1",children:[e,r.jsx("button",{onClick:()=>$(e),className:"hover:text-red-400 transition-colors",children:"✕"})]},t))}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:y,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&U(),className:"flex-1 bg-black/40 border border-amber-500/30 rounded px-2 py-1 text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 text-xs sm:text-sm",placeholder:"Add tag..."}),r.jsx("button",{onClick:U,className:"bg-amber-500 hover:bg-amber-600 text-black px-3 py-1 rounded font-medium transition-colors text-xs sm:text-sm",children:"Add"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-amber-300 mb-2",children:"Meta Title"}),r.jsx("input",{type:"text",value:i.meta_title,onChange:e=>n(t=>({...t,meta_title:e.target.value})),className:"w-full bg-black/40 border border-amber-500/30 rounded-lg px-3 sm:px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 text-sm sm:text-base",placeholder:"SEO title..."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-amber-300 mb-2",children:"Meta Description"}),r.jsx("textarea",{value:i.meta_description,onChange:e=>n(t=>({...t,meta_description:e.target.value})),className:"w-full bg-black/40 border border-amber-500/30 rounded-lg px-3 sm:px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-amber-500 resize-none text-sm sm:text-base",rows:3,placeholder:"SEO description..."})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-black/40 backdrop-blur-xl border-b border-amber-500/20 p-2 sm:p-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-1 text-xs sm:text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>E("bold"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Bold (Ctrl+B)",children:"\uD835\uDC01"}),r.jsx("button",{onClick:()=>E("italic"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Italic (Ctrl+I)",children:"\uD835\uDC3C"}),r.jsx("button",{onClick:()=>E("underline"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Underline (Ctrl+U)",children:"\uD835\uDC14"}),r.jsx("button",{onClick:()=>E("strikethrough"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Strikethrough",children:"\uD835\uDC12"})]}),r.jsx("div",{className:"w-px h-6 bg-amber-500/30 mx-2"}),r.jsx("div",{className:"flex items-center gap-1",children:(0,r.jsxs)("select",{onChange:e=>E(e.target.value),className:"bg-black/60 border border-amber-500/30 rounded px-2 py-1 text-amber-300 text-xs focus:outline-none focus:border-amber-500",defaultValue:"",children:[r.jsx("option",{value:"",disabled:!0,children:"Headings"}),r.jsx("option",{value:"h1",children:"Heading 1"}),r.jsx("option",{value:"h2",children:"Heading 2"}),r.jsx("option",{value:"h3",children:"Heading 3"}),r.jsx("option",{value:"h4",children:"Heading 4"}),r.jsx("option",{value:"p",children:"Paragraph"})]})}),r.jsx("div",{className:"flex items-center gap-1",children:(0,r.jsxs)("select",{value:C,onChange:e=>{_(e.target.value),D.current&&(D.current.style.fontFamily=e.target.value)},className:"bg-black/60 border border-amber-500/30 rounded px-2 py-1 text-amber-300 text-xs focus:outline-none focus:border-amber-500",children:[r.jsx("optgroup",{label:"Title Fonts",children:b.titles.map(e=>r.jsx("option",{value:e.value,children:e.name},e.name))}),r.jsx("optgroup",{label:"Subtitle Fonts",children:b.subtitles.map(e=>r.jsx("option",{value:e.value,children:e.name},e.name))}),r.jsx("optgroup",{label:"Body Fonts",children:b.body.map(e=>r.jsx("option",{value:e.value,children:e.name},e.name))})]})}),r.jsx("div",{className:"w-px h-6 bg-amber-500/30 mx-2"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>E("bulletlist"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Bullet List",children:"•"}),r.jsx("button",{onClick:()=>E("numberlist"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Numbered List",children:"1."})]}),r.jsx("div",{className:"w-px h-6 bg-amber-500/30 mx-2"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>E("image"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Insert Image",children:"\uD83D\uDCF7"}),r.jsx("button",{onClick:()=>E("link"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Insert Link",children:"\uD83D\uDD17"}),r.jsx("button",{onClick:()=>E("formula"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Insert Formula",children:"∑"}),r.jsx("button",{onClick:()=>E("quote"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Block Quote",children:"\uD83D\uDCDD"}),r.jsx("button",{onClick:()=>E("code"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Code Block",children:"\uD83D\uDCCB"}),r.jsx("button",{onClick:()=>E("table"),className:"p-1.5 sm:p-2 hover:bg-amber-500/20 text-amber-300 hover:text-amber-200 rounded transition-colors text-xs sm:text-sm",title:"Insert Table",children:"\uD83D\uDCCA"})]})]})}),(0,r.jsxs)("div",{className:"jsx-4a953d049eb7f3ed flex-1 p-4 sm:p-8 overflow-y-auto",children:[r.jsx("div",{ref:D,contentEditable:!0,style:{fontFamily:C},onInput:M,suppressContentEditableWarning:!0,dangerouslySetInnerHTML:{__html:i.content||""},className:"jsx-4a953d049eb7f3ed prose prose-invert max-w-none min-h-[500px] focus:outline-none text-white text-sm sm:text-base leading-relaxed"}),r.jsx(h(),{id:"4a953d049eb7f3ed",children:'[contenteditable].jsx-4a953d049eb7f3ed{line-height:1.8}[contenteditable].jsx-4a953d049eb7f3ed h1.jsx-4a953d049eb7f3ed{font-size:2.5rem;font-weight:700;color:#fbbf24;margin:2rem 0 1rem 0;font-family:"Playfair Display",serif}[contenteditable].jsx-4a953d049eb7f3ed h2.jsx-4a953d049eb7f3ed{font-size:2rem;font-weight:600;color:#fbbf24;margin:1.5rem 0 1rem 0;font-family:"Playfair Display",serif}[contenteditable].jsx-4a953d049eb7f3ed h3.jsx-4a953d049eb7f3ed{font-size:1.5rem;font-weight:600;color:#fbbf24;margin:1.5rem 0 .75rem 0}[contenteditable].jsx-4a953d049eb7f3ed h4.jsx-4a953d049eb7f3ed{font-size:1.25rem;font-weight:600;color:#fbbf24;margin:1.25rem 0 .75rem 0}[contenteditable].jsx-4a953d049eb7f3ed p.jsx-4a953d049eb7f3ed{margin:1rem 0;color:#e5e7eb}[contenteditable].jsx-4a953d049eb7f3ed blockquote.jsx-4a953d049eb7f3ed{border-left:4px solid#f59e0b;padding-left:1rem;font-style:italic;color:#fef3c7;margin:1rem 0;background:rgba(0,0,0,.2);padding:.5rem 0 .5rem 1rem}[contenteditable].jsx-4a953d049eb7f3ed code.jsx-4a953d049eb7f3ed{background:#374151;color:#10b981;padding:.125rem .25rem;-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem;font-family:"Courier New",monospace}[contenteditable].jsx-4a953d049eb7f3ed pre.jsx-4a953d049eb7f3ed{background:#1f2937;border:1px solid#4b5563;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;padding:1rem;margin:1rem 0;overflow-x:auto}[contenteditable].jsx-4a953d049eb7f3ed table.jsx-4a953d049eb7f3ed{width:100%;border-collapse:collapse;margin:1rem 0}[contenteditable].jsx-4a953d049eb7f3ed th.jsx-4a953d049eb7f3ed,[contenteditable].jsx-4a953d049eb7f3ed td.jsx-4a953d049eb7f3ed{border:1px solid rgba(245,158,11,.3);padding:.75rem;text-align:left}[contenteditable].jsx-4a953d049eb7f3ed th.jsx-4a953d049eb7f3ed{background:rgba(245,158,11,.1);color:#fbbf24;font-weight:600}[contenteditable].jsx-4a953d049eb7f3ed img.jsx-4a953d049eb7f3ed{max-width:100%;height:auto;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;-webkit-box-shadow:0 10px 25px rgba(0,0,0,.3);-moz-box-shadow:0 10px 25px rgba(0,0,0,.3);box-shadow:0 10px 25px rgba(0,0,0,.3);margin:1rem 0}[contenteditable].jsx-4a953d049eb7f3ed ul.jsx-4a953d049eb7f3ed,[contenteditable].jsx-4a953d049eb7f3ed ol.jsx-4a953d049eb7f3ed{margin:1rem 0;padding-left:2rem}[contenteditable].jsx-4a953d049eb7f3ed li.jsx-4a953d049eb7f3ed{margin:.5rem 0;line-height:1.6}'})]})]})]})]}),c&&r.jsx(p,{mediaFiles:S,onSelect:e=>{F(e),m(!1)},onUpload:L,onClose:()=>m(!1)}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-60 flex items-center justify-center p-4",onClick:()=>u(!1),children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-700",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Mathematical Formula Editor"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Create beautiful mathematical expressions using LaTeX syntax"})]}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Formula (LaTeX Syntax)"}),r.jsx("textarea",{value:g,onChange:e=>f(e.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 font-mono text-sm sm:text-base",rows:4,placeholder:"Enter LaTeX formula... e.g., \\\\frac{a}{b} or x^2 + y^2 = z^2"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Quick Templates"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:[{label:"Fraction",formula:"\\frac{a}{b}"},{label:"Square Root",formula:"\\sqrt{x}"},{label:"Power",formula:"x^{n}"},{label:"Subscript",formula:"x_{i}"},{label:"Sum",formula:"\\sum_{i=1}^{n} x_i"},{label:"Integral",formula:"\\int_{a}^{b} f(x) dx"},{label:"Limit",formula:"\\lim_{x \\to \\infty} f(x)"},{label:"Matrix",formula:"\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}"}].map(e=>(0,r.jsxs)("button",{onClick:()=>f(e.formula),className:"text-left p-2 sm:p-3 bg-amber-500/10 hover:bg-amber-500/20 border border-amber-500/20 rounded text-amber-300 text-xs sm:text-sm transition-colors hover:border-amber-500/40",children:[r.jsx("div",{className:"font-medium",children:e.label}),r.jsx("div",{className:"text-xs text-gray-400 font-mono mt-1 break-all",children:e.formula})]},e.label))})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[r.jsx("button",{onClick:()=>{u(!1),f("")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:"Cancel"}),r.jsx("button",{onClick:()=>{if(!g.trim())return;let e=`<span class="inline-block bg-blue-50 border border-blue-200 rounded px-2 py-1 mx-1 font-mono text-blue-800">${g}</span>`;document.execCommand("insertHTML",!1,e),f(""),u(!1),M()},disabled:!g.trim(),className:"bg-amber-500 hover:bg-amber-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-black px-6 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:"Insert Formula"})]})]})]})})]})}function f({articles:e,mediaFiles:t,onUpdate:a}){let[i,n]=(0,s.useState)(!1),[c,m]=(0,s.useState)(null),[x,u]=(0,s.useState)(""),[h,p]=(0,s.useState)("all"),b=e.filter(e=>{let t=e.title.toLowerCase().includes(x.toLowerCase())||(e.excerpt?.toLowerCase().includes(x.toLowerCase())??!1),a="all"===h||e.status===h;return t&&a}),f=async e=>{try{let t=c?`/api/admin/articles/${c.id}`:"/api/admin/articles",r={...e,slug:e.slug||(e=>{let t=e.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return c?t:`${t}-${Date.now()}`})(e.title||""),published_at:"published"!==e.status||c?e.published_at:new Date().toISOString(),read_time:Math.ceil((e.content?.length||0)/200)},s=await fetch(t,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),l=await s.json();if(s.ok)n(!1),m(null),a();else throw Error(l.message||"Failed to save article")}catch(e){throw e}},y=e=>{m(e),n(!0)},j=async e=>{if(confirm("Are you sure you want to delete this article?"))try{let t=await fetch(`/api/admin/articles/${e}`,{method:"DELETE"});if(t.ok)alert("Article deleted successfully!"),a();else{let e=await t.json();alert(`Error deleting article: ${e.message||"Unknown error"}`)}}catch(e){alert("Error deleting article. Please try again.")}};return i?r.jsx(g,{onClose:()=>n(!1),onSave:f,editingArticle:c,mediaFiles:t}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Articles Management"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and manage blog articles with SEO optimization"})]}),(0,r.jsxs)("button",{onClick:()=>{m(null),n(!0)},className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl",children:[r.jsx("span",{className:"text-lg",children:"➕"}),"Add New Article"]})]}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6 border border-gray-200 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search articles...",value:x,onChange:e=>u(e.target.value),className:"w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,r.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"published",children:"Published"}),r.jsx("option",{value:"archived",children:"Archived"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.jsx(o.M,{children:b.map(e=>(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200",children:[e.featured_image&&r.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-700 overflow-hidden relative",children:r.jsx(d.default,{src:e.featured_image,alt:e.title,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover"})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"published"===e.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"draft"===e.status?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.featured&&r.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs font-medium",children:"Featured"})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3",children:e.excerpt}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-4",children:[(0,r.jsxs)("span",{children:["By ",e.author]}),(0,r.jsxs)("span",{children:[e.read_time," min read"]})]}),e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,3).map(e=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:e},e)),e.tags.length>3&&(0,r.jsxs)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:["+",e.tags.length-3]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y(e),className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200",children:"Edit"}),r.jsx("button",{onClick:()=>j(e.id?.toString()||""),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200",children:"\uD83D\uDDD1️"})]})]})]},e.id))})}),0===b.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDD"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No articles found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:x||"all"!==h?"Try adjusting your search or filters":"Create your first article to get started"})]})]})}let y=e=>{if(!e)return"";if(e.startsWith("/api/media/"))return e;if(e.startsWith("/media/"))return e.replace("/media/","/api/media/");if(e.startsWith("/uploads/"))return e.replace("/uploads/","/api/media/");let t=e.startsWith("/")?e.substring(1):e;return`/api/media/${t}`};function j({mediaFiles:e,onUpdate:t}){let[a,i]=(0,s.useState)(!1),[n,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(""),[u,h]=(0,s.useState)("all"),[p,b]=(0,s.useState)("grid"),[g,f]=(0,s.useState)("date"),[j,v]=(0,s.useState)("desc"),[w,N]=(0,s.useState)(0),[k,C]=(0,s.useState)(!1),[_,D]=(0,s.useState)([]),[S,E]=(0,s.useState)(!1),[P,T]=(0,s.useState)({alt_text:"",uploaded_by:1}),A=(0,s.useRef)(null),F=(0,s.useRef)(null),L=(e||[]).filter(e=>{let t=e.original_name.toLowerCase().includes(m.toLowerCase())||e.filename.toLowerCase().includes(m.toLowerCase())||e.alt_text&&e.alt_text.toLowerCase().includes(m.toLowerCase()),a="all"===u||"image"===u&&e.mime_type?.startsWith("image/")||"video"===u&&e.mime_type?.startsWith("video/")||"document"===u&&(e.mime_type?.includes("pdf")||e.mime_type?.includes("document")||e.mime_type?.includes("text"))||"archive"===u&&(e.mime_type?.includes("zip")||e.mime_type?.includes("rar"));return t&&a}).sort((e,t)=>{let a=0;switch(g){case"name":a=e.original_name.localeCompare(t.original_name);break;case"size":a=e.file_size-t.file_size;break;default:a=new Date(e.created_at||0).getTime()-new Date(t.created_at||0).getTime()}return"asc"===j?a:-a}),M=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},U=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?E(!0):"dragleave"===e.type&&E(!1)},[]),$=(0,s.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),E(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){let t=Array.from(e.dataTransfer.files);D(t),z(t)}},[]),I=()=>{A.current?.click()},O=e=>e.startsWith("image/")?"Image":e.startsWith("video/")?"Video":e.includes("pdf")?"PDF":e.includes("document")||e.includes("word")?"Document":e.includes("spreadsheet")||e.includes("excel")?"Spreadsheet":e.includes("presentation")||e.includes("powerpoint")?"Presentation":e.includes("zip")||e.includes("rar")?"Archive":e.includes("text")?"Text":"File",B=(e,t)=>e?.startsWith("image/")?"ri-image-line":e?.startsWith("video/")?"ri-video-line":"application/pdf"===e||t.endsWith(".pdf")?"ri-file-pdf-line":e?.includes("word")||t.endsWith(".doc")||t.endsWith(".docx")?"ri-file-word-line":e?.includes("excel")||t.endsWith(".xls")||t.endsWith(".xlsx")?"ri-file-excel-line":e?.includes("powerpoint")||t.endsWith(".ppt")||t.endsWith(".pptx")?"ri-file-ppt-line":"ri-file-line",z=async e=>{let a=e||_;if(a&&Array.isArray(a)&&0!==a.length){C(!0),N(0);try{let e=a.map(async(e,t)=>{let r=new FormData;r.append("file",e),r.append("alt_text",P.alt_text||e.name),r.append("uploaded_by",P.uploaded_by?.toString()||"1");let s=await fetch("/api/admin/media",{method:"POST",body:r});if(!s.ok){let t=await s.json();throw Error(t.message||`Failed to upload ${e.name}`)}let l=await s.json(),i=(t+1)/a.length*100;return N(i),l});await Promise.all(e),D([]),T({alt_text:"",uploaded_by:1}),t(),alert(`Successfully uploaded ${a.length} file(s)!`)}catch(e){alert(`Failed to upload files: ${e instanceof Error?e.message:"Unknown error"}`)}finally{C(!1),N(0)}}},R=e=>{c(e),T({alt_text:e.alt_text||"",uploaded_by:e.uploaded_by}),i(!0)},V=async e=>{if(e.preventDefault(),n)try{let e=await fetch(`/api/admin/media/${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(e.ok)alert("Media file updated successfully!"),i(!1),c(null),t();else{let t=await e.json();alert(`Error: ${t.message||"Failed to update media file"}`)}}catch(e){alert("Error updating media file. Please try again.")}},q=async e=>{if(confirm("Are you sure you want to delete this media file?"))try{let a=await fetch(`/api/admin/media/${e}`,{method:"DELETE"});if(a.ok)alert("Media file deleted successfully!"),t();else{let e=await a.json();alert(`Error deleting media file: ${e.message||"Unknown error"}`)}}catch(e){alert("Error deleting media file. Please try again.")}},W=e=>{navigator.clipboard.writeText(e),alert("URL copied to clipboard!")};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Media Library"}),(0,r.jsxs)("p",{className:"text-brand-gray mt-1",children:[L.length," file",1!==L.length?"s":"","all"!==u&&` • ${u} files`]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsxs)("div",{className:"flex bg-white/10 rounded-lg p-1",children:[(0,r.jsxs)("button",{onClick:()=>b("grid"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"grid"===p?"bg-brand-green text-white shadow-sm":"text-brand-gray hover:text-white"}`,children:[r.jsx("i",{className:"ri-grid-line mr-1"})," Grid"]}),(0,r.jsxs)("button",{onClick:()=>b("list"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"list"===p?"bg-brand-green text-white shadow-sm":"text-brand-gray hover:text-white"}`,children:[r.jsx("i",{className:"ri-list-check mr-1"})," List"]})]}),(0,r.jsxs)("select",{value:`${g}-${j}`,onChange:e=>{let[t,a]=e.target.value.split("-");f(t),v(a)},className:"bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-brand-green",children:[r.jsx("option",{value:"date-desc",children:"Newest First"}),r.jsx("option",{value:"date-asc",children:"Oldest First"}),r.jsx("option",{value:"name-asc",children:"Name A-Z"}),r.jsx("option",{value:"name-desc",children:"Name Z-A"}),r.jsx("option",{value:"size-desc",children:"Largest First"}),r.jsx("option",{value:"size-asc",children:"Smallest First"})]}),r.jsx("input",{ref:A,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar",onChange:e=>{let t=Array.from(e.target.files||[]);D(t),t.length>0&&setTimeout(()=>{let e=document.querySelector("[data-upload-form]");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:"hidden"}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("button",{onClick:I,disabled:k,className:"relative overflow-hidden bg-gradient-to-r from-brand-green to-emerald-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-brand-green-dark hover:to-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),r.jsx("div",{className:"relative z-10 flex items-center gap-3",children:k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("i",{className:"ri-loader-4-line animate-spin text-lg"}),r.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full animate-pulse"})]}),r.jsx("span",{className:"font-medium",children:"Uploading..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("i",{className:"ri-upload-cloud-2-line text-lg"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full animate-bounce"})]}),r.jsx("span",{className:"font-medium",children:"Add Media"}),r.jsx("i",{className:"ri-arrow-right-line text-sm opacity-70 group-hover:opacity-100 transform group-hover:translate-x-1 transition-all duration-200"})]})})]}),r.jsx("div",{className:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none",children:"Click to browse or drag files here"})]})]})]}),(0,r.jsxs)(l.E.div,{ref:F,onDragEnter:U,onDragLeave:U,onDragOver:U,onDrop:$,className:`relative overflow-hidden bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-lg rounded-2xl p-8 border-2 border-dashed transition-all duration-300 cursor-pointer group ${S?"border-brand-green bg-gradient-to-br from-brand-green/20 to-emerald-500/10 shadow-2xl shadow-brand-green/20 scale-105":"border-white/20 hover:border-brand-green/50 hover:bg-gradient-to-br hover:from-white/10 hover:to-brand-green/5"}`,onClick:I,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,r.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 border-2 border-brand-green rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-8 right-8 w-4 h-4 bg-emerald-400 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),r.jsx("div",{className:"absolute bottom-8 left-8 w-6 h-6 border-2 border-yellow-400 rotate-45 animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute bottom-4 right-4 w-3 h-3 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),(0,r.jsxs)("div",{className:"relative z-10 text-center",children:[r.jsx(l.E.div,{className:"mb-6",animate:S?{scale:1.2,rotate:5}:{scale:1,rotate:0},transition:{duration:.3},children:(0,r.jsxs)("div",{className:"relative inline-block",children:[r.jsx("i",{className:`ri-upload-cloud-2-line text-7xl transition-all duration-300 ${S?"text-brand-green drop-shadow-lg":"text-brand-gray group-hover:text-brand-green"}`}),S&&r.jsx("div",{className:"absolute inset-0 bg-brand-green/20 rounded-full animate-ping"})]})}),r.jsx(l.E.h3,{className:`text-xl font-bold mb-3 transition-colors duration-300 ${S?"text-brand-green":"text-white group-hover:text-brand-green"}`,animate:S?{scale:1.05}:{scale:1},children:S?"\uD83C\uDFAF Drop your files here!":"\uD83D\uDCC1 Drag & drop your media files"}),r.jsx("p",{className:`text-base mb-6 transition-colors duration-300 ${S?"text-brand-green/80":"text-brand-gray group-hover:text-white"}`,children:S?"Release to upload":"or click anywhere to browse"}),(0,r.jsxs)(l.E.button,{onClick:e=>{e.stopPropagation(),I()},className:"bg-gradient-to-r from-brand-green to-emerald-500 text-white px-8 py-4 rounded-xl font-semibold hover:from-brand-green-dark hover:to-emerald-600 transition-all duration-300 inline-flex items-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",whileHover:{y:-2},whileTap:{y:0},children:[r.jsx("i",{className:"ri-folder-open-line text-lg"}),r.jsx("span",{children:"Browse Files"}),r.jsx("i",{className:"ri-external-link-line text-sm opacity-70"})]}),(0,r.jsxs)("div",{className:"mt-6 flex flex-wrap justify-center gap-2 text-xs",children:[r.jsx("span",{className:"bg-white/10 text-brand-gray px-3 py-1 rounded-full border border-white/20",children:"\uD83D\uDCF8 Images"}),r.jsx("span",{className:"bg-white/10 text-brand-gray px-3 py-1 rounded-full border border-white/20",children:"\uD83C\uDFA5 Videos"}),r.jsx("span",{className:"bg-white/10 text-brand-gray px-3 py-1 rounded-full border border-white/20",children:"\uD83D\uDCC4 Documents"}),r.jsx("span",{className:"bg-white/10 text-brand-gray px-3 py-1 rounded-full border border-white/20",children:"\uD83D\uDCE6 Archives"})]}),(0,r.jsxs)("p",{className:"text-xs text-brand-gray/70 mt-4",children:["Maximum file size: ",r.jsx("span",{className:"text-brand-green font-medium",children:"10MB"})," per file"]})]})]}),r.jsx(o.M,{children:_.length>0&&(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3},className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-lg rounded-2xl p-8 border border-white/20 shadow-2xl","data-upload-form":!0,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-brand-green/20 rounded-xl flex items-center justify-center",children:r.jsx("i",{className:"ri-settings-3-line text-brand-green text-lg"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Upload Configuration"}),(0,r.jsxs)("p",{className:"text-brand-gray text-sm",children:[_.length," file",1!==_.length?"s":""," selected"]})]})]}),r.jsx("button",{onClick:()=>D([]),className:"text-brand-gray hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",title:"Clear selection",children:r.jsx("i",{className:"ri-close-line text-lg"})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h4",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[r.jsx("i",{className:"ri-file-list-3-line"}),"Selected Files"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-32 overflow-y-auto",children:_.map((e,t)=>r.jsx("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("i",{className:`text-lg ${e.type.startsWith("image/")?"ri-image-line text-blue-400":e.type.startsWith("video/")?"ri-video-line text-purple-400":"ri-file-line text-gray-400"}`}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white text-sm font-medium truncate",children:e.name}),(0,r.jsxs)("p",{className:"text-brand-gray text-xs",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]})},t))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[r.jsx("i",{className:"ri-text text-brand-green"}),"Alt Text (Accessibility)"]}),r.jsx("input",{type:"text",value:P.alt_text||"",onChange:e=>T(t=>({...t,alt_text:e.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-brand-gray focus:outline-none focus:border-brand-green focus:ring-2 focus:ring-brand-green/20 transition-all duration-200",placeholder:"Describe the content for screen readers"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[r.jsx("i",{className:"ri-user-line text-brand-green"}),"Uploader ID"]}),r.jsx("input",{type:"number",value:P.uploaded_by||1,onChange:e=>T(t=>({...t,uploaded_by:parseInt(e.target.value)||1})),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-brand-gray focus:outline-none focus:border-brand-green focus:ring-2 focus:ring-brand-green/20 transition-all duration-200",placeholder:"User ID",min:"1"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[r.jsx(l.E.button,{onClick:()=>z(),disabled:k||0===_.length,className:"w-full sm:w-auto bg-gradient-to-r from-brand-green to-emerald-500 text-white px-8 py-4 rounded-xl font-bold hover:from-brand-green-dark hover:to-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",whileHover:{y:-2},whileTap:{y:0},children:k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("i",{className:"ri-loader-4-line animate-spin text-xl"}),r.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full animate-pulse"})]}),r.jsx("span",{className:"font-bold",children:"Uploading Files..."})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("i",{className:"ri-rocket-line text-xl"}),(0,r.jsxs)("span",{className:"font-bold",children:["Upload ",_.length," File",1!==_.length?"s":""]}),r.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-bold",children:_.length})})]})}),(0,r.jsxs)("button",{onClick:()=>D([]),disabled:k,className:"px-6 py-3 bg-white/10 text-white rounded-xl font-medium hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-2",children:[r.jsx("i",{className:"ri-close-line"}),"Cancel"]})]}),k&&(0,r.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-white font-medium",children:"Upload Progress"}),(0,r.jsxs)("span",{className:"text-brand-green font-bold",children:[w,"%"]})]}),r.jsx("div",{className:"w-full bg-white/10 rounded-full h-3 overflow-hidden",children:r.jsx(l.E.div,{className:"bg-gradient-to-r from-brand-green to-emerald-400 h-full rounded-full shadow-lg",initial:{width:0},animate:{width:`${w}%`},transition:{duration:.3},children:r.jsx("div",{className:"w-full h-full bg-gradient-to-r from-white/0 via-white/30 to-white/0 animate-pulse"})})}),r.jsx("p",{className:"text-xs text-brand-gray text-center",children:"Uploading files to media library..."})]})]})}),r.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/10",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[r.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-brand-gray"}),r.jsx("input",{type:"text",placeholder:"Search by filename, alt text...",value:m,onChange:e=>x(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg pl-10 pr-4 py-3 text-white placeholder-brand-gray focus:outline-none focus:border-brand-green focus:bg-white/15 transition-colors"}),m&&r.jsx("button",{onClick:()=>x(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-brand-gray hover:text-white",children:r.jsx("i",{className:"ri-close-line"})})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-brand-green min-w-[120px]",children:[r.jsx("option",{value:"all",children:"All Types"}),["image","video","document","archive"].map(e=>r.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(m||"all"!==u)&&r.jsx("button",{onClick:()=>{x(""),h("all")},className:"bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-brand-gray hover:text-white hover:border-brand-green transition-colors",title:"Clear filters",children:r.jsx("i",{className:"ri-filter-off-line"})})]})]})}),r.jsx("div",{className:"grid"===p?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:r.jsx(o.M,{children:L.map(e=>r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid"===p?"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 overflow-hidden hover:border-brand-green/50 transition-all duration-300 group hover:shadow-lg hover:shadow-brand-green/10":"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-4 hover:border-brand-green/50 transition-all duration-300 group hover:shadow-lg hover:shadow-brand-green/10",children:"grid"===p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"aspect-square bg-gray-800 relative overflow-hidden",children:[e.mime_type?.startsWith("image/")?r.jsx(d.default,{src:y(e.file_path),alt:e.alt_text||e.original_name,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, (max-width: 1280px) 33vw, 25vw",className:"object-cover group-hover:scale-105 transition-transform duration-300"}):e.mime_type?.startsWith("video/")?(0,r.jsxs)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center relative",children:[r.jsx("video",{src:y(e.file_path),className:"w-full h-full object-cover",muted:!0}),r.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:r.jsx("i",{className:"ri-play-circle-line text-4xl text-white"})})]}):(0,r.jsxs)("div",{className:"w-full h-full bg-gray-900 flex flex-col items-center justify-center",children:[r.jsx("i",{className:`${B(e.mime_type||"",e.filename)} text-4xl text-gray-400 mb-2`}),r.jsx("span",{className:"text-xs text-gray-500 text-center px-2",children:O(e.mime_type||"")})]}),(0,r.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>W(y(e.file_path)),className:"bg-white/20 text-white p-2 rounded-lg hover:bg-white/30 transition-colors",title:"Copy URL",children:r.jsx("i",{className:"ri-link text-lg"})}),r.jsx("button",{onClick:()=>R(e),className:"bg-white/20 text-white p-2 rounded-lg hover:bg-white/30 transition-colors",title:"Edit",children:r.jsx("i",{className:"ri-edit-line text-lg"})}),r.jsx("button",{onClick:()=>q(e.id?.toString()||""),className:"bg-red-500/20 text-red-300 p-2 rounded-lg hover:bg-red-500/30 transition-colors",title:"Delete",children:r.jsx("i",{className:"ri-delete-bin-line text-lg"})})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"px-2 py-1 bg-brand-green/20 text-brand-green rounded text-xs font-medium",children:O(e.mime_type||"")}),r.jsx("span",{className:"text-xs text-brand-gray",children:M(e.file_size)})]}),r.jsx("h4",{className:"text-sm font-medium text-white mb-1 truncate",title:e.original_name,children:e.original_name}),e.alt_text&&r.jsx("p",{className:"text-xs text-brand-gray mb-2 line-clamp-2",children:e.alt_text}),r.jsx("div",{className:"text-xs text-brand-gray",children:e.created_at?new Date(e.created_at).toLocaleDateString():"No date"})]})]}):(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-lg overflow-hidden flex-shrink-0",children:e.mime_type?.startsWith("image/")?r.jsx(d.default,{src:y(e.file_path),alt:e.alt_text||e.original_name,width:64,height:64,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("i",{className:`${B(e.mime_type||"",e.filename)} text-xl text-gray-400`})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"text-sm font-medium text-white truncate",title:e.original_name,children:e.original_name}),r.jsx("span",{className:"px-2 py-1 bg-brand-green/20 text-brand-green rounded text-xs font-medium flex-shrink-0",children:O(e.mime_type||"")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-brand-gray",children:[r.jsx("span",{children:M(e.file_size)}),r.jsx("span",{children:e.created_at?new Date(e.created_at).toLocaleDateString():"No date"}),e.alt_text&&(0,r.jsxs)("span",{className:"truncate max-w-xs",title:e.alt_text,children:["Alt: ",e.alt_text]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>W(e.file_path),className:"bg-white/10 text-white p-2 rounded-lg hover:bg-white/20 transition-colors",title:"Copy URL",children:r.jsx("i",{className:"ri-link text-sm"})}),r.jsx("button",{onClick:()=>R(e),className:"bg-white/10 text-white p-2 rounded-lg hover:bg-white/20 transition-colors",title:"Edit",children:r.jsx("i",{className:"ri-edit-line text-sm"})}),r.jsx("button",{onClick:()=>q(e.id?.toString()||""),className:"bg-red-500/20 text-red-300 p-2 rounded-lg hover:bg-red-500/30 transition-colors",title:"Delete",children:r.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]})},e.id))})}),0===L.length&&(0,r.jsxs)("div",{className:"text-center py-16",children:[r.jsx("div",{className:"mb-6",children:r.jsx("i",{className:"ri-image-line text-8xl text-brand-gray/50"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:m||"all"!==u?"No matching files found":"No media files yet"}),r.jsx("p",{className:"text-brand-gray mb-6 max-w-md mx-auto",children:m||"all"!==u?"Try adjusting your search or filter criteria":"Upload your first media files to get started with your media library"}),!m&&"all"===u&&(0,r.jsxs)("button",{onClick:I,className:"bg-brand-green text-white px-6 py-3 rounded-lg hover:bg-brand-green-dark transition-colors inline-flex items-center gap-2",children:[r.jsx("i",{className:"ri-upload-line"}),"Upload Your First Files"]})]}),r.jsx(o.M,{children:a&&n&&r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>i(!1),children:(0,r.jsxs)(l.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-900 rounded-xl border border-white/10 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-white/10",children:r.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Media File"})}),(0,r.jsxs)("form",{onSubmit:V,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Alt Text"}),r.jsx("input",{type:"text",value:P.alt_text||"",onChange:e=>T(t=>({...t,alt_text:e.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"Alt text for accessibility"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Uploaded By (User ID)"}),r.jsx("input",{type:"number",min:"1",value:P.uploaded_by||1,onChange:e=>T(t=>({...t,uploaded_by:parseInt(e.target.value)||1})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white placeholder-brand-gray focus:outline-none focus:border-brand-green",placeholder:"User ID"})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-4",children:[r.jsx("button",{type:"submit",className:"bg-brand-green text-white px-6 py-3 rounded-lg font-medium hover:bg-brand-green-dark transition-colors",children:"Update Media File"}),r.jsx("button",{type:"button",onClick:()=>i(!1),className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})})]})}function v({onUpdate:e}){let[t,a]=(0,s.useState)({videoType:"youtube",videoUrl:"",youtubeUrl:"https://www.youtube.com/embed/v0rr-M0WfpM?si=nwaZehMCd80OHBqr&autoplay=1&mute=1&loop=1&playlist=v0rr-M0WfpM&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&disablekb=1&fs=0&cc_load_policy=0&playsinline=1&enablejsapi=1",title:"Dubai Ultra HD Background Video",description:"Premium real estate showcase video for the landing page",isActive:!0}),[i,n]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),[u,h]=(0,s.useState)([]),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),y=async()=>{c(!0),x(null);try{let a={...t,videoType:"media"===t.videoType?"upload":t.videoType,selectedMediaId:"media"===t.videoType?g?.id:null,videoUrl:"media"===t.videoType&&g?g.file_path:t.videoUrl},r=await fetch("/api/admin/video-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(r.ok)await r.json(),x({type:"success",text:"Video settings saved successfully!"}),e?.();else{let e="Failed to save video settings";try{let t=await r.json();e=t.error||t.message||e}catch(t){e=`Server error: ${r.status} ${r.statusText}`}throw Error(e)}}catch(e){x({type:"error",text:e instanceof Error?e.message:"Failed to save video settings. Please try again."})}finally{c(!1)}},j=e=>{f(e),a(t=>({...t,videoType:"media",videoUrl:e.file_path,selectedMediaId:e.id?.toString()})),b(!1),x({type:"success",text:"Video selected successfully!"})},v=()=>{b(!p)},w=e=>{let t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},N=e=>{let t=w(e);return t?`https://www.youtube.com/embed/${t}?autoplay=1&mute=1&loop=1&playlist=${t}&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&disablekb=1&fs=0&cc_load_policy=0&playsinline=1&enablejsapi=1`:e},k=e=>{a(t=>({...t,youtubeUrl:e,videoUrl:N(e)}))};return i?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"w-8 h-8 border-2 border-green-ocean border-t-transparent rounded-full animate-spin"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Video Settings"}),r.jsx("p",{className:"text-brand-gray",children:"Manage the landing page background video"})]}),r.jsx("button",{onClick:y,disabled:d,className:"bg-green-ocean text-white px-6 py-2 rounded-lg font-medium hover:bg-green-ocean-light transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:d?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{children:"\uD83D\uDCBE"}),"Save Settings"]})})]}),r.jsx(o.M,{children:m&&r.jsx(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded-lg ${"success"===m.type?"bg-green-500/20 border border-green-500/30 text-green-400":"bg-red-500/20 border border-red-500/30 text-red-400"}`,children:m.text})}),(0,r.jsxs)("div",{className:"bg-luxury-black-light rounded-xl p-6 border border-green-ocean/20",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Video Source"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("button",{onClick:()=>a(e=>({...e,videoType:"youtube"})),className:`p-4 rounded-lg border-2 transition-all ${"youtube"===t.videoType?"border-green-ocean bg-green-ocean/10 text-white":"border-gray-600 bg-gray-700/50 text-gray-300 hover:border-gray-500"}`,children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCFA"}),(0,r.jsxs)("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"YouTube Video"}),r.jsx("div",{className:"text-sm opacity-75",children:"Use a YouTube video URL"})]})]})}),r.jsx("button",{onClick:()=>a(e=>({...e,videoType:"media"})),className:`p-4 rounded-lg border-2 transition-all ${"media"===t.videoType?"border-green-ocean bg-green-ocean/10 text-white":"border-gray-600 bg-gray-700/50 text-gray-300 hover:border-gray-500"}`,children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCC1"}),(0,r.jsxs)("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Media Library"}),r.jsx("div",{className:"text-sm opacity-75",children:"Select from uploaded videos"})]})]})})]})]}),(0,r.jsxs)("div",{className:"bg-luxury-black-light rounded-xl p-6 border border-green-ocean/20",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Video Configuration"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Video Title"}),r.jsx("input",{type:"text",value:t.title,onChange:e=>a(t=>({...t,title:e.target.value})),className:"w-full bg-luxury-black text-white px-4 py-2 rounded-lg border border-green-ocean/20 focus:border-green-ocean focus:outline-none",placeholder:"Enter video title"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),r.jsx("textarea",{value:t.description,onChange:e=>a(t=>({...t,description:e.target.value})),rows:3,className:"w-full bg-luxury-black text-white px-4 py-2 rounded-lg border border-green-ocean/20 focus:border-green-ocean focus:outline-none",placeholder:"Enter video description"})]}),"youtube"===t.videoType&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"YouTube URL"}),r.jsx("input",{type:"url",value:t.youtubeUrl,onChange:e=>k(e.target.value),className:"w-full bg-luxury-black text-white px-4 py-2 rounded-lg border border-green-ocean/20 focus:border-green-ocean focus:outline-none",placeholder:"https://www.youtube.com/watch?v=..."}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Enter a YouTube video URL. It will be automatically converted to an embed URL."})]}),"media"===t.videoType&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Video from Media Library"}),r.jsx("div",{className:"space-y-3",children:g?(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-luxury-black border border-green-ocean/20 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"\uD83C\uDFAC"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-white font-medium",children:g.original_name}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:[(g.file_size/1048576).toFixed(2)," MB"]})]})]}),r.jsx("button",{onClick:v,className:"px-3 py-1 bg-green-ocean text-white rounded-lg hover:bg-green-ocean-light transition-colors",children:"Change"})]}):r.jsx("button",{onClick:v,className:"w-full p-4 border-2 border-dashed border-green-ocean/30 rounded-lg text-gray-400 hover:border-green-ocean hover:text-green-400 transition-colors",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("span",{className:"text-4xl",children:"\uD83C\uDFAC"}),r.jsx("span",{children:"Select Video from Media Library"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Choose from your uploaded videos"})]})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"video-active",checked:t.isActive,onChange:e=>a(t=>({...t,isActive:e.target.checked})),className:"w-4 h-4 text-green-ocean bg-luxury-black border-green-ocean/20 rounded focus:ring-green-ocean focus:ring-2"}),r.jsx("label",{htmlFor:"video-active",className:"text-sm font-medium text-gray-300",children:"Enable this video on the landing page"})]})]})]}),(t.videoUrl||t.youtubeUrl)&&(0,r.jsxs)("div",{className:"bg-luxury-black-light rounded-xl p-6 border border-green-ocean/20",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),r.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:r.jsx("iframe",{src:(t.videoType,t.videoUrl),className:"w-full h-full",title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),r.jsx(o.M,{children:p&&r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>b(!1),children:(0,r.jsxs)(l.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-luxury-black border border-green-ocean/20 rounded-xl p-6 max-w-4xl w-full max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Video from Media Library"}),r.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:0===u.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:"\uD83C\uDFAC"}),r.jsx("p",{className:"text-gray-400",children:"No video files found in media library"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload some videos to the media library first"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(e=>(0,r.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-green-ocean/50 transition-colors cursor-pointer",onClick:()=>j(e),children:[r.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 flex items-center justify-center",children:r.jsx("span",{className:"text-3xl",children:"\uD83C\uDFAC"})}),r.jsx("h4",{className:"text-white font-medium truncate mb-1",children:e.original_name}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:[(e.file_size/1048576).toFixed(2)," MB"]}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:new Date(e.created_at||0).toLocaleDateString()})]},e.id))})})]})})})]})}var w=a(74034);function N(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(e)}function k(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function C(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function _(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function D(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function S(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function E(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function P(e){return(0,w.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}let T=()=>{let[e,t]=(0,s.useState)({deepseek_api_key:"",deepseek_model:"deepseek-chat",deepseek_max_tokens:1e3,deepseek_temperature:.7,default_provider:"deepseek",ai_enabled:!0,rate_limit_per_minute:10,rate_limit_per_hour:100,system_prompt:`You are an expert real estate consultant with comprehensive knowledge of Dubai's real estate market. Your expertise includes:

• Deep understanding of Dubai's property market trends, pricing, and investment opportunities
• Extensive knowledge of all Dubai neighborhoods, communities, and developments
• Ability to provide accurate property valuations and market analysis
• Expert guidance on Dubai's real estate regulations, visa programs, and investment laws
• Access to current project data and developer information in our portfolio
• Professional advice on property investment strategies specific to Dubai market
• Understanding of Dubai's luxury real estate segment and high-end developments

Always provide:
- Professional, accurate, and helpful responses
- Data-driven insights based on current market conditions
- Specific recommendations tailored to client needs
- Clear explanations of Dubai's unique real estate advantages
- Developer-friendly responses that highlight our expertise and services

When relevant, guide clients toward our available properties and suggest contacting our team for personalized assistance.`,property_suggestions_enabled:!0,property_suggestions_count:4,contact_info_in_responses:!0}),[a,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)({deepseek:!1});(0,s.useEffect)(()=>{m()},[]);let m=async()=>{i(!0);try{let e=await fetch("/api/admin/ai-settings");if(e.ok){let a=await e.json();a.success&&a.data&&t(a.data)}}catch(e){}finally{i(!1)}},x=async()=>{o(!0);try{(await fetch("/api/admin/ai-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?alert("AI API settings saved successfully!"):alert("Failed to save AI API settings")}catch(e){alert("Error saving AI API settings")}finally{o(!1)}},u=(e,a)=>{t(t=>({...t,[e]:a}))},h=e=>{c(t=>({...t,[e]:!t[e]}))},p=async t=>{if("deepseek"!==t){alert("Only DeepSeek provider is supported");return}try{let a=await fetch("/api/admin/ai-settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,settings:e})}),r=await a.json();r.success?alert("DeepSeek connection successful!"):alert(`DeepSeek connection failed: ${r.message}`)}catch(e){alert("Error testing DeepSeek connection")}};return a?(0,r.jsxs)("div",{className:"flex items-center justify-center h-64",children:[r.jsx(D,{className:"animate-spin text-2xl text-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading AI settings..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(N,{className:"text-2xl text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"AI API Control"})]}),(0,r.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,disabled:n,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[n?r.jsx(D,{className:"animate-spin"}):r.jsx(S,{}),r.jsx("span",{children:n?"Saving...":"Save Settings"})]})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(E,{className:"mr-2"}),"General Settings"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Enabled"}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:e.ai_enabled,onChange:e=>u("ai_enabled",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Enable AI features"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default AI Provider"}),r.jsx("select",{value:e.default_provider,onChange:e=>u("default_provider",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.jsx("option",{value:"deepseek",children:"DeepSeek"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate Limit (per minute)"}),r.jsx("input",{type:"number",value:e.rate_limit_per_minute,onChange:e=>u("rate_limit_per_minute",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"100"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rate Limit (per hour)"}),r.jsx("input",{type:"number",value:e.rate_limit_per_hour,onChange:e=>u("rate_limit_per_hour",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"1000"})]})]})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center",children:[r.jsx(P,{className:"mr-2 text-orange-600"}),"DeepSeek Configuration"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:d.deepseek?"text":"password",value:e.deepseek_api_key,onChange:e=>u("deepseek_api_key",e.target.value),className:"w-full px-3 py-2 pr-20 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sk-..."}),(0,r.jsxs)("div",{className:"absolute right-2 top-2 flex space-x-1",children:[r.jsx("button",{type:"button",onClick:()=>h("deepseek"),className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:d.deepseek?r.jsx(k,{}):r.jsx(C,{})}),r.jsx("button",{type:"button",onClick:()=>p("deepseek"),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(_,{})})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model"}),(0,r.jsxs)("select",{value:e.deepseek_model,onChange:e=>u("deepseek_model",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"deepseek-chat",children:"DeepSeek Chat"}),r.jsx("option",{value:"deepseek-coder",children:"DeepSeek Coder"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Tokens"}),r.jsx("input",{type:"number",value:e.deepseek_max_tokens,onChange:e=>u("deepseek_max_tokens",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"4000"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Temperature"}),r.jsx("input",{type:"number",step:"0.1",value:e.deepseek_temperature,onChange:e=>u("deepseek_temperature",parseFloat(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",max:"2"})]})]})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center",children:[r.jsx(P,{className:"mr-2 text-indigo-600"}),"AI Behavior Configuration"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"System Prompt"}),r.jsx("textarea",{value:e.system_prompt,onChange:e=>u("system_prompt",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Define how the AI should behave and respond to users..."}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This prompt defines the AI's personality and expertise. It will be used for all AI responses."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"property_suggestions_enabled",checked:e.property_suggestions_enabled,onChange:e=>u("property_suggestions_enabled",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded"}),r.jsx("label",{htmlFor:"property_suggestions_enabled",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Enable Property Suggestions"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Suggestions Count"}),r.jsx("input",{type:"number",value:e.property_suggestions_count,onChange:e=>u("property_suggestions_count",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"10",disabled:!e.property_suggestions_enabled})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r.jsx("strong",{children:"Property Suggestions:"})," When enabled, the AI will suggest relevant properties to visitors based on their inquiries."]})})]})]})]})};var A=a(25934);function F({onUpdate:e}){let[t,a]=(0,s.useState)({facebook:"",instagram:"",twitter:"",linkedin:"",youtube:"",tiktok:"",whatsapp:"",telegram:""}),[i,n]=(0,s.useState)(!0),[o,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)({}),x=e=>{if(!e)return!0;try{let t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}},u=(e,t)=>{if(!t)return{isValid:!0};if(!x(t))return{isValid:!1,error:"Invalid URL format"};let a={facebook:/^https?:\/\/(www\.)?(facebook|fb)\.com\/.+/i,instagram:/^https?:\/\/(www\.)?instagram\.com\/.+/i,twitter:/^https?:\/\/(www\.)?(twitter|x)\.com\/.+/i,linkedin:/^https?:\/\/(www\.)?linkedin\.com\/(company|in)\/.+/i,youtube:/^https?:\/\/(www\.)?(youtube\.com\/(channel|c|user)\/|youtu\.be\/).+/i,tiktok:/^https?:\/\/(www\.)?tiktok\.com\/@.+/i,whatsapp:/^https?:\/\/(wa\.me|api\.whatsapp\.com)\/.+/i,telegram:/^https?:\/\/(t\.me|telegram\.me)\/.+/i}[e];return a&&!a.test(t)?{isValid:!1,error:`Invalid ${e} URL format`}:{isValid:!0}},h=async e=>{if(!e)return!0;try{let t=await fetch("/api/verify-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});return(await t.json()).accessible}catch{return!0}},p=async()=>{let e=Object.keys(t),a=!0,r={};for(let s of e){let e=t[s];if(e){m(e=>({...e,[s]:{isValid:!1,isVerifying:!0}}));let t=u(s,e);if(t.isValid){let t=await h(e);r[s]={isValid:t,isVerifying:!1,error:t?void 0:"URL is not accessible"},t||(a=!1)}else r[s]={isValid:!1,isVerifying:!1,error:t.error},a=!1}else r[s]={isValid:!0,isVerifying:!1}}return m(r),a},b=async()=>{d(!0);try{if(!await p()){alert("Please fix the invalid URLs before saving."),d(!1);return}let a=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({social:t})}),r=await a.json();if(a.ok){(0,A.Al)(t);try{await fetch("/api/admin/settings/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"social_media_update",settings:t})})}catch(e){}alert("Social media settings updated successfully!"),e()}else alert(`Error: ${r.message||"Failed to update settings"}`)}catch(e){alert("Error saving settings. Please try again.")}finally{d(!1)}},g=(e,t)=>{if(a(a=>({...a,[e]:t})),t){let a=u(e,t);m(t=>({...t,[e]:{isValid:a.isValid,isVerifying:!1,error:a.error}}))}else m(t=>({...t,[e]:{isValid:!0,isVerifying:!1}}))},f=async e=>{let a=t[e];if(!a)return;m(t=>({...t,[e]:{...t[e],isVerifying:!0}}));let r=await h(a);m(t=>({...t,[e]:{isValid:r,isVerifying:!1,error:r?void 0:"URL is not accessible"}}))},y=[{key:"facebook",label:"Facebook",icon:"\uD83D\uDCD8",placeholder:"https://facebook.com/yourpage",color:"from-blue-600 to-blue-700"},{key:"instagram",label:"Instagram",icon:"\uD83D\uDCF7",placeholder:"https://instagram.com/youraccount",color:"from-pink-500 to-purple-600"},{key:"twitter",label:"Twitter/X",icon:"\uD83D\uDC26",placeholder:"https://twitter.com/youraccount",color:"from-blue-400 to-blue-500"},{key:"linkedin",label:"LinkedIn",icon:"\uD83D\uDCBC",placeholder:"https://linkedin.com/company/yourcompany",color:"from-blue-700 to-blue-800"},{key:"youtube",label:"YouTube",icon:"\uD83D\uDCFA",placeholder:"https://youtube.com/channel/yourchannel",color:"from-red-500 to-red-600"},{key:"tiktok",label:"TikTok",icon:"\uD83C\uDFB5",placeholder:"https://tiktok.com/@youraccount",color:"from-gray-800 to-gray-900"},{key:"whatsapp",label:"WhatsApp",icon:"\uD83D\uDCAC",placeholder:"https://wa.me/1234567890",color:"from-green-500 to-green-600"},{key:"telegram",label:"Telegram",icon:"✈️",placeholder:"https://t.me/yourchannel",color:"from-blue-500 to-blue-600"}];return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Social Media Management"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your social media links and presence"})]}),r.jsx("button",{onClick:b,disabled:o,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl",children:o?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"text-lg",children:"\uD83D\uDCBE"}),"Save Changes"]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(e=>(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg transition-all duration-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${e.color} rounded-lg flex items-center justify-center text-white text-xl`,children:e.icon}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.label}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Social media profile URL"})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Profile URL"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"url",value:t[e.key],onChange:t=>g(e.key,t.target.value),placeholder:e.placeholder,className:`w-full bg-gray-50 dark:bg-gray-700 border rounded-lg px-4 py-3 pr-12 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 ${t[e.key]&&c[e.key]?c[e.key].isValid?"border-green-300 dark:border-green-600 focus:ring-green-500":"border-red-300 dark:border-red-600 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}`}),t[e.key]&&c[e.key]&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:c[e.key].isVerifying?r.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):c[e.key].isValid?r.jsx("span",{className:"text-green-500 text-lg",children:"✓"}):r.jsx("span",{className:"text-red-500 text-lg",children:"✗"})})]}),t[e.key]&&c[e.key]?.error&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-500 dark:text-red-400 text-sm",children:[r.jsx("span",{className:"text-red-500",children:"⚠️"}),c[e.key].error]}),t[e.key]&&(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("a",{href:t[e.key],target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 text-sm flex items-center gap-1 transition-colors",children:"\uD83D\uDD17 Test Link"}),r.jsx("button",{onClick:()=>f(e.key),disabled:c[e.key]?.isVerifying,className:"text-purple-500 hover:text-purple-600 dark:text-purple-400 dark:hover:text-purple-300 text-sm flex items-center gap-1 transition-colors disabled:opacity-50",children:c[e.key]?.isVerifying?r.jsx(r.Fragment,{children:"\uD83D\uDD04 Verifying..."}):r.jsx(r.Fragment,{children:"\uD83D\uDD0D Verify URL"})}),r.jsx("button",{onClick:()=>g(e.key,""),className:"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300 text-sm transition-colors",children:"Clear"})]})]})]},e.key))}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-6 border border-blue-200 dark:border-gray-600",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:"\uD83D\uDC40"}),"Social Media Preview"]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:y.filter(e=>t[e.key]).map(e=>(0,r.jsxs)("a",{href:t[e.key],target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 bg-gradient-to-r ${e.color} text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105`,children:[r.jsx("span",{children:e.icon}),r.jsx("span",{className:"font-medium",children:e.label})]},e.key))}),0===y.filter(e=>t[e.key]).length&&r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No social media links configured yet. Add some links above to see the preview."})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:"\uD83D\uDCA1"}),"Tips for Social Media Management"]}),(0,r.jsxs)("ul",{className:"space-y-2 text-yellow-700 dark:text-yellow-300 text-sm",children:[(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-yellow-500 mt-0.5",children:"•"}),"Use complete URLs including https:// for all social media links"]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-yellow-500 mt-0.5",children:"•"}),"URLs are automatically validated for format and platform compatibility"]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-yellow-500 mt-0.5",children:"•"}),'Use the "Verify URL" button to check if links are accessible online']}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-yellow-500 mt-0.5",children:"•"}),"Green checkmarks indicate valid URLs, red X marks show errors"]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-yellow-500 mt-0.5",children:"•"}),"Keep your social media profiles updated and active for better engagement"]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-yellow-500 mt-0.5",children:"•"}),"Use consistent branding across all social media platforms"]})]})]})]})}let L=[{id:"overview",label:"Overview",icon:"\uD83D\uDCCA",description:"Dashboard overview and analytics"},{id:"projects",label:"Projects",icon:"\uD83C\uDFE2",description:"Manage real estate projects"},{id:"developers",label:"Developers",icon:"\uD83D\uDC65",description:"Manage developer profiles"},{id:"articles",label:"Articles",icon:"\uD83D\uDCDD",description:"Create and manage articles"},{id:"media",label:"Media",icon:"\uD83D\uDCC1",description:"File and media management"},{id:"social-media",label:"Social Media",icon:"\uD83C\uDF10",description:"Manage social media links"},{id:"video-settings",label:"Video Settings",icon:"\uD83C\uDFAC",description:"Manage landing page video"},{id:"ai-api-control",label:"AI API Control",icon:"\uD83E\uDD16",description:"AI settings and controls"}];function M({onLogout:e}){let[t,a]=(0,s.useState)("overview"),[i,n]=(0,s.useState)(!0),[d,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)({projects:!1,developers:!1,articles:!1,media:!1,settings:!1}),[p,b]=(0,s.useState)([]),[g,y]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),[k,C]=(0,s.useState)([]),[_,D]=(0,s.useState)(null),[S,E]=(0,s.useState)([]),P=(0,s.useCallback)(async(e=!1)=>{if(!(p.length>0)||e){h(e=>({...e,projects:!0}));try{let e=await $("/api/admin/projects");e.success&&b(e.data)}catch(e){b([])}finally{h(e=>({...e,projects:!1}))}}},[p.length]),A=(0,s.useCallback)(async(e=!1)=>{if(!(g.length>0)||e){h(e=>({...e,developers:!0}));try{let e=await $("/api/admin/developers");e.success&&y(e.data)}catch(e){y([])}finally{h(e=>({...e,developers:!1}))}}},[g.length]),M=(0,s.useCallback)(async()=>{if(!(w.length>0)){h(e=>({...e,articles:!0}));try{let e=await $("/api/admin/articles");e.success&&N(e.data)}catch(e){N([])}finally{h(e=>({...e,articles:!1}))}}},[w.length]),$=async(e,t=3,a=1e3)=>{for(let r=0;r<t;r++)try{let t=new AbortController,a=setTimeout(()=>t.abort(),1e4),r=await fetch(e,{signal:t.signal,cache:"no-cache",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(clearTimeout(a),!r.ok)throw Error(`HTTP ${r.status}: ${r.statusText}`);return await r.json()}catch(e){if("AbortError"===e.name);else if(r===t-1)throw e;r<t-1&&await new Promise(e=>setTimeout(e,a*(r+1)))}},I=(0,s.useCallback)(async(e=!1)=>{if(!(k.length>0)||e){h(e=>({...e,media:!0}));try{let e=await $("/api/admin/media");e.success&&C(e.data)}catch(e){C([])}finally{h(e=>({...e,media:!1}))}}},[k.length]),O=(0,s.useCallback)(async()=>{await I(!0)},[I]),B=(0,s.useCallback)(async()=>{if(!_){h(e=>({...e,settings:!0}));try{let e=await $("/api/admin/settings");e.success&&D(e.data)}catch(e){D(null)}finally{h(e=>({...e,settings:!1}))}}},[_]),z=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/admin/activities?frontend=true&limit=10"),t=await e.json();t.success&&E(t.data)}catch(e){E([])}},[]),R=(0,s.useCallback)(async(e=!1)=>{m(!0);try{if("overview"===t)await Promise.all([P(e),A(e)]),setTimeout(()=>{Promise.all([M(),I(),z()])},100);else switch(t){case"projects":await P(e);break;case"developers":await A(e);break;case"articles":await M();break;case"media":await I();break;case"settings":await B()}}catch(e){}finally{m(!1)}},[t,P,A,M,I,B]);return r.jsx("div",{className:"admin-panel min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",style:{pointerEvents:"auto"},children:r.jsx("div",{className:"flex",style:{pointerEvents:"auto"},children:(0,r.jsxs)("main",{className:"flex-1 bg-gray-50 dark:bg-gray-900 overflow-auto flex",style:{pointerEvents:"auto"},children:[(0,r.jsxs)("div",{className:"flex-1 p-6",children:[r.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 rounded-lg mb-6",children:r.jsx("div",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.find(e=>e.id===t)?.label||"Dashboard"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:L.find(e=>e.id===t)?.description||"Manage your website"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Welcome back, Admin"}),r.jsx("button",{onClick:t=>{t.preventDefault(),e()},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer",style:{pointerEvents:"auto"},children:"Logout"})]})]})})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 min-h-[calc(100vh-200px)]",style:{pointerEvents:"auto"},children:r.jsx("div",{className:"p-6",style:{pointerEvents:"auto"},children:r.jsx(o.M,{mode:"wait",children:r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",style:{pointerEvents:"auto"},children:(()=>{if(d&&"overview"===t&&0===p.length&&0===g.length)return r.jsx("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-ocean"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})});switch(t){case"overview":return r.jsx(U,{projects:p,developers:g,articles:w,mediaFiles:k,activities:S,loadingStates:u});case"projects":return r.jsx(c,{projects:p,onUpdate:R});case"developers":return r.jsx(x,{developers:g,onUpdate:R});case"articles":return r.jsx(f,{articles:w,mediaFiles:k,onUpdate:R});case"media":return r.jsx(j,{mediaFiles:k,onUpdate:O});case"social-media":return r.jsx(F,{onUpdate:R});case"video-settings":return r.jsx(v,{onUpdate:R});case"ai-api-control":return r.jsx(T,{});default:return r.jsx(U,{projects:p,developers:g,articles:w,mediaFiles:k,activities:S})}})()},t)})})})]}),(0,r.jsxs)("aside",{className:"w-80 bg-white dark:bg-gray-800 shadow-lg border-l border-gray-200 dark:border-gray-700 flex flex-col",style:{pointerEvents:"auto"},children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Navigation"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Select a section to manage"})]}),r.jsx("nav",{className:"flex-1 p-4 space-y-2",children:L.map(e=>r.jsx("button",{onClick:()=>{a(e.id)},className:`w-full text-left p-4 rounded-lg transition-all duration-200 cursor-pointer group ${t===e.id?"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:border-gray-200 dark:hover:border-gray-600"}`,style:{pointerEvents:"auto"},children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-2xl",children:e.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:e.label}),r.jsx("div",{className:"text-xs opacity-75 mt-1",children:e.description})]})]})},e.id))})]})]})})})}function U({projects:e,developers:t,articles:a,mediaFiles:s,activities:i,loadingStates:n}){return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard Overview"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Welcome to your admin dashboard"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700/50 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{},style:{pointerEvents:"auto"},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"Total Projects"}),n?.projects?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:"\uD83C\uDFE2"})})]})}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 border border-green-200 dark:border-green-700/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"Developers"}),n?.developers?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t.length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:"\uD83D\uDC65"})})]})}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"Articles"}),n?.articles?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a.length})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:"\uD83D\uDCDD"})})]})}),r.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-orange-200 dark:border-orange-700/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"Media Files"}),n?.media?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s.length})]}),r.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:"\uD83D\uDCC1"})})]})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-8 border border-gray-200 dark:border-gray-600",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("button",{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl",children:[r.jsx("span",{className:"text-lg",children:"➕"}),"Add New Project"]}),(0,r.jsxs)("button",{className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl",children:[r.jsx("span",{className:"text-lg",children:"\uD83D\uDCDD"}),"Create Article"]}),(0,r.jsxs)("button",{className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl",children:[r.jsx("span",{className:"text-lg",children:"\uD83D\uDCE4"}),"Upload Media"]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-8 border border-gray-200 dark:border-gray-600",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Recent Activity"}),r.jsx("div",{className:"space-y-4",children:i.length>0?i.slice(0,5).map((e,t)=>(0,r.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center gap-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:`w-10 h-10 bg-${(e=>{switch(e.toLowerCase()){case"error":return"red";case"warning":return"yellow";case"success":return"green";case"info":return"blue";default:return"gray"}})(e.level)}-500 rounded-lg flex items-center justify-center`,children:r.jsx("span",{className:"text-white text-lg",children:(e=>{switch(e.toLowerCase()){case"project":return"\uD83C\uDFE2";case"article":return"\uD83D\uDCDD";case"developer":return"\uD83D\uDC65";case"media":return"\uD83D\uDCC1";case"user":return"\uD83D\uDC64";case"system":return"⚙️";default:return"\uD83D\uDCCB"}})(e.category)})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:e.message}),e.details&&r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"string"==typeof e.details?e.details:JSON.stringify(e.details)})]}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:(e=>{let t=new Date(e),a=new Date().getTime()-t.getTime(),r=Math.floor(a/36e5),s=Math.floor(r/24);if(s>0)return`${s} day${s>1?"s":""} ago`;if(r>0)return`${r} hour${r>1?"s":""} ago`;{let e=Math.floor(a/6e4);return`${e} minute${e>1?"s":""} ago`}})(e.timestamp)})]},e.id)):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent activity"})})})]})]})}function $(){let[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!0);return a?r.jsx("div",{className:"min-h-screen bg-brand-dark flex items-center justify-center",children:r.jsx("div",{className:"w-8 h-8 border-2 border-green-ocean border-t-transparent rounded-full animate-spin"})}):e?r.jsx(M,{onLogout:()=>{localStorage.removeItem("admin_token"),t(!1)}}):r.jsx(n,{onLogin:e=>{localStorage.setItem("admin_token",e),t(!0)}})}},8472:()=>{},51596:(e,t,a)=>{"use strict";a(8472);var r=a(17577),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),l="undefined"!=typeof process&&process.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},n=function(){function e(e){var t=void 0===e?{}:e,a=t.name,r=void 0===a?"stylesheet":a,s=t.optimizeForSpeed,n=void 0===s?l:s;o(i(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",o("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){o("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;o(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return o(i(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var a=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(t){a.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,a){t&&o(i(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return a?s.insertBefore(r,a):s.appendChild(r),r},function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function o(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},c={};function m(e,t){if(!t)return"jsx-"+e;var a=String(t),r=e+a;return c[r]||(c[r]="jsx-"+d(e+"-"+a)),c[r]}function x(e,t){var a=e+(t=t.replace(/\/style/gi,"\\/style"));return c[a]||(c[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[a]}var u=r.createContext(null);u.displayName="StyleSheetContext",s.default.useInsertionEffect||s.default.useLayoutEffect;var h=void 0;function p(e){var t=h||r.useContext(u);return t&&t.add(e),null}p.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},t.style=p},77626:(e,t,a)=>{"use strict";e.exports=a(51596).style},90596:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>s});var r=a(19510);let s={title:"Admin Panel - Premium Choice Real Estate",description:"Admin panel for managing Premium Choice Real Estate website",robots:"noindex, nofollow"};function l({children:e}){return r.jsx("div",{className:"min-h-screen bg-gray-50",children:e})}},66136:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=a(68570);let s=(0,r.createProxy)(String.raw`C:\Users\Berlin\Desktop\sssq-main\sssq-main\app\admin\page.tsx`),{__esModule:l,$$typeof:i}=s;s.default;let n=(0,r.createProxy)(String.raw`C:\Users\Berlin\Desktop\sssq-main\sssq-main\app\admin\page.tsx#default`)},74034:(e,t,a)=>{"use strict";a.d(t,{w_:()=>c});var r=a(17577),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=r.createContext&&r.createContext(s),i=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){var r,s;r=t,s=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function c(e){return t=>r.createElement(m,n({attr:d({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.createElement(t.tag,d({key:a},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var a,{attr:s,size:l,title:o}=e,c=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,i),m=l||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:a,style:d(d({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==l?r.createElement(l.Consumer,null,e=>t(e)):t(s)}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,462,6226,7971,692],()=>a(81726));module.exports=r})();