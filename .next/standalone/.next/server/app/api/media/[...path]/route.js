"use strict";(()=>{var e={};e.id=1956,e.ids=[1956],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},73837:e=>{e.exports=require("util")},50959:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>A,routeModule:()=>w,serverHooks:()=>b,staticGenerationAsyncStorage:()=>C});var s={};a.r(s),a.d(s,{GET:()=>g,HEAD:()=>m,OPTIONS:()=>h});var n=a(49303),r=a(88716),o=a(60670),i=a(87070),c=a(57147),p=a(73837),l=a(71017),u=a.n(l);let d=(0,p.promisify)(c.stat);async function g(e,{params:t}){try{let a,s=u().join(process.cwd(),"public","media",...t.path);try{a=await d(s)}catch(e){s=u().join(process.cwd(),"public","uploads",...t.path);try{a=await d(s)}catch(e){return new i.NextResponse("File not found",{status:404})}}let n=a.size,r=e.headers.get("range"),o=u().extname(s).toLowerCase(),p="application/octet-stream";switch(o){case".mp4":p="video/mp4";break;case".webm":p="video/webm";break;case".mov":p="video/quicktime";break;case".avi":p="video/x-msvideo";break;case".jpg":case".jpeg":p="image/jpeg";break;case".png":p="image/png";break;case".gif":p="image/gif";break;case".svg":p="image/svg+xml";break;case".pdf":p="application/pdf"}if(r&&p.startsWith("video/")){let e=r.replace(/bytes=/,"").split("-"),t=parseInt(e[0],10),a=e[1]?parseInt(e[1],10):n-1,o=a-t+1,l=(0,c.createReadStream)(s,{start:t,end:a});return new i.NextResponse(l,{status:206,headers:{"Content-Range":`bytes ${t}-${a}/${n}`,"Accept-Ranges":"bytes","Content-Length":o.toString(),"Content-Type":p,"Cache-Control":"public, max-age=3600","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, HEAD, OPTIONS","Access-Control-Allow-Headers":"Range","Content-Disposition":"inline"}})}let l=(0,c.createReadStream)(s);return new i.NextResponse(l,{headers:{"Content-Type":p,"Content-Length":n.toString(),"Accept-Ranges":"bytes","Cache-Control":"public, max-age=3600","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, HEAD, OPTIONS","Access-Control-Allow-Headers":"Range","Content-Disposition":"inline"}})}catch(e){return new i.NextResponse("Internal Server Error",{status:500})}}async function m(e,{params:t}){try{let e;let a=u().join(process.cwd(),"public","media",...t.path);try{e=await d(a)}catch{return new i.NextResponse(null,{status:404})}let s=e.size,n=u().extname(a).toLowerCase(),r="application/octet-stream";switch(n){case".mp4":r="video/mp4";break;case".webm":r="video/webm";break;case".mov":r="video/quicktime";break;case".avi":r="video/x-msvideo";break;case".jpg":case".jpeg":r="image/jpeg";break;case".png":r="image/png";break;case".gif":r="image/gif";break;case".svg":r="image/svg+xml"}return new i.NextResponse(null,{headers:{"Content-Type":r,"Content-Length":s.toString(),"Accept-Ranges":"bytes","Cache-Control":"public, max-age=3600","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, HEAD, OPTIONS","Access-Control-Allow-Headers":"Range","Content-Disposition":"inline"}})}catch(e){return new i.NextResponse(null,{status:500})}}async function h(){return new i.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, HEAD, OPTIONS","Access-Control-Allow-Headers":"Range"}})}let w=new n.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/media/[...path]/route",pathname:"/api/media/[...path]",filename:"route",bundlePath:"app/api/media/[...path]/route"},resolvedPagePath:"C:\\Users\\Berlin\\Desktop\\sssq-main\\sssq-main\\app\\api\\media\\[...path]\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:A,staticGenerationAsyncStorage:C,serverHooks:b}=w,v="/api/media/[...path]/route";function x(){return(0,o.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:C})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,5972],()=>a(50959));module.exports=s})();