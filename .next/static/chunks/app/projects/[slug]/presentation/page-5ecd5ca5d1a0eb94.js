(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{5063:function(e,t,s){Promise.resolve().then(s.bind(s,828))},828:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var n=s(7437),a=s(2265),r=s(7138),i=s(1513),l=s(4446),c=s(6463);function o(){let e=(0,c.useParams)().slug,[t,s]=(0,a.useState)([]),[o,d]=(0,a.useState)(null),[u,x]=(0,a.useState)(0),[h,m]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!0),[g,j]=(0,a.useState)(null);if((0,a.useEffect)(()=>{let t=async()=>{try{b(!0);let t=await fetch("/api/projects/".concat(e));if(!t.ok)throw Error("Project not found");let n=await t.json();if(d(n),n.presentation_slides&&n.presentation_slides.length>0)s(n.presentation_slides.sort((e,t)=>e.order-t.order));else{let e=[{id:"1",title:"Welcome to ".concat(n.name),content:n.description||"Discover luxury living at its finest.",image_url:n.image,duration:5e3,order:1}];s(e)}}catch(e){j(e instanceof Error?e.message:"Failed to load project")}finally{b(!1)}};e&&t()},[e]),(0,a.useEffect)(()=>{var e;if(!h||0===t.length)return;let s=setTimeout(()=>{x(e=>(e+1)%t.length)},(null===(e=t[u])||void 0===e?void 0:e.duration)||5e3);return()=>clearTimeout(s)},[h,u,t]),f)return(0,n.jsx)("div",{className:"min-h-screen bg-brand-dark flex items-center justify-center",children:(0,n.jsx)(i.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-brand-green border-t-transparent rounded-full"})});if(g||!o)return(0,n.jsx)("div",{className:"min-h-screen bg-brand-dark flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("i",{className:"ri-error-warning-line text-3xl text-red-400"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Presentation Not Found"}),(0,n.jsx)("p",{className:"text-brand-gray mb-6",children:g||"The requested presentation could not be loaded."}),(0,n.jsxs)(r.default,{href:"/projects",className:"inline-flex items-center space-x-2 bg-brand-green text-white px-6 py-3 rounded-lg font-medium hover:bg-brand-green-dark transition-colors",children:[(0,n.jsx)("i",{className:"ri-arrow-left-line"}),(0,n.jsx)("span",{children:"Back to Projects"})]})]})});let p=t[u];return(0,n.jsxs)("div",{className:"min-h-screen bg-brand-dark",children:[(0,n.jsx)("header",{className:"absolute top-0 left-0 right-0 z-50 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(r.default,{href:"/projects/".concat(e),className:"flex items-center space-x-2 text-white hover:text-brand-green transition-colors",children:[(0,n.jsx)("i",{className:"ri-arrow-left-line text-xl"}),(0,n.jsx)("span",{children:"Back to Project"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"text-white text-sm",children:[u+1," / ",t.length]}),(0,n.jsx)(r.default,{href:"/projects",className:"text-white hover:text-brand-green transition-colors",children:(0,n.jsx)("i",{className:"ri-close-line text-xl"})})]})]})}),(0,n.jsxs)("div",{className:"relative h-screen",children:[(0,n.jsx)(l.M,{mode:"wait",children:(0,n.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0",style:{backgroundImage:"url(".concat((null==p?void 0:p.background_image)||(null==p?void 0:p.image_url),")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,n.jsx)("div",{className:"relative z-10 h-full flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center max-w-4xl px-6",children:[(0,n.jsx)(i.E.h1,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-4xl md:text-6xl font-bold text-white mb-6 font-serif",children:null==p?void 0:p.title}),(0,n.jsx)(i.E.p,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-xl md:text-2xl text-brand-light max-w-3xl mx-auto leading-relaxed",children:null==p?void 0:p.content})]})})]},u)}),(0,n.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-50",children:(0,n.jsxs)("div",{className:"flex items-center space-x-4 bg-black/50 backdrop-blur-lg rounded-full px-6 py-3",children:[(0,n.jsx)("button",{onClick:()=>{x(e=>(e-1+t.length)%t.length)},className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors",disabled:t.length<=1,children:(0,n.jsx)("i",{className:"ri-arrow-left-line"})}),(0,n.jsx)("button",{onClick:()=>{m(!h)},className:"w-12 h-12 bg-brand-green hover:bg-brand-green-dark rounded-full flex items-center justify-center text-white transition-colors",children:(0,n.jsx)("i",{className:"ri-".concat(h?"pause":"play","-line text-lg")})}),(0,n.jsx)("button",{onClick:()=>{x(e=>(e+1)%t.length)},className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors",disabled:t.length<=1,children:(0,n.jsx)("i",{className:"ri-arrow-right-line"})})]})}),h&&(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/20",children:(0,n.jsx)(i.E.div,{className:"h-full bg-brand-green",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:((null==p?void 0:p.duration)||5e3)/1e3,ease:"linear"}},u)}),t.length>1&&(0,n.jsx)("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-40",children:(0,n.jsx)("div",{className:"flex space-x-2",children:t.map((e,t)=>(0,n.jsx)("button",{onClick:()=>x(t),className:"w-3 h-3 rounded-full transition-colors ".concat(t===u?"bg-brand-green":"bg-white/30")},t))})})]})]})}},6463:function(e,t,s){"use strict";var n=s(1169);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[138,842,971,23,744],function(){return e(e.s=5063)}),_N_E=e.O()}]);